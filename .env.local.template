# =============================================================================
# ASTRALIS ONE - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control

# =============================================================================
# DATABASE & AUTH
# =============================================================================
# Local development: Use local PostgreSQL
# Production: Use Prisma Postgres from db.prisma.io (set in Vercel dashboard)
DATABASE_URL=postgresql://user:password@localhost:5432/astralis_one

# NextAuth.js Configuration
NEXTAUTH_SECRET=generate-random-secret-here  # Run: openssl rand -base64 32
NEXTAUTH_URL=http://localhost:3001  # Change to production URL in Vercel

# Default IDs for booking system (local development only)
DEFAULT_USER_ID=your-user-id-here
DEFAULT_ORG_ID=your-org-id-here

# =============================================================================
# FILE STORAGE - VERCEL BLOB
# =============================================================================
# Get this token from Vercel Dashboard > Storage > Blob
# Required for: Document uploads, avatar images, file attachments
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_xxxxxxxxxxxx

# Document processing configuration
OCR_LANGUAGE=eng
VISION_MODEL=gpt-4-vision-preview
MAX_FILE_SIZE=52428800  # 50MB
ALLOWED_FILE_TYPES=image/*,application/html,application/json,application/zip,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet

# =============================================================================
# REDIS / QUEUE MANAGEMENT
# =============================================================================
# Local development: Use local Redis
REDIS_URL=redis://localhost:6379

# Production (Vercel + Fly.io): Use Upstash Redis
# Get these from Upstash Console > Redis > Details
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# =============================================================================
# AI SERVICES
# =============================================================================
# OpenAI API (GPT-4o, embeddings, vision)
OPENAI_API_KEY=sk-proj-your-openai-key-here
USE_OPENAI_FALLBACK=true

# Anthropic Claude API (Sonnet 4.5)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# Optional: Grok API (X.AI)
GROK_API_KEY=xai-your-grok-key-here
GROK_COMPLETIONS_URL=https://api.x.ai/v1/chat/completions

# =============================================================================
# N8N AUTOMATION
# =============================================================================
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
N8N_API_KEY=your-n8n-api-key-here
N8N_BASE_URL=localhost:5678
N8N_WEBHOOK_URL=localhost:5678/
N8N_WEBHOOK_TUNNEL_URL=localhost:5678/
N8N_ENCRYPTION_KEY=your-64-character-hex-encryption-key-here
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=change-this-password

# =============================================================================
# EMAIL (SMTP)
# =============================================================================
# SMTP Configuration (example uses Brevo/Sendinblue)
SMTP_HOST=smtp-relay.brevo.com
SMTP_PORT=587
SMTP_USER=your-smtp-user
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_NAME=Astralis One
SMTP_FROM_EMAIL=no-reply@astralisone.com
SMTP_SECURE=false

# Optional: Brevo API key for advanced features
BREVO_API_KEY=your-brevo-api-key

# System notification recipient
SYSTEM_NOTIFICATION_EMAIL=admin@example.com

# =============================================================================
# TWILIO (OPTIONAL - for voice/SMS features)
# =============================================================================
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_API_KEY_SID=your-twilio-api-key-sid
TWILIO_API_KEY_SECRET=your-twilio-api-key-secret
TWILIO_API_KEY_FRIENDLY_NAME=astralis-phone-service
TWILIO_API_KEY_REGION=us1
FALLBACK_PHONE_NUMBER=+1987654321

# =============================================================================
# GOOGLE SERVICES
# =============================================================================
# Google OAuth (for calendar integration)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Google Analytics
NEXT_PUBLIC_GA_TRACKING_ID=G-XXXXXXXXXX

# =============================================================================
# MISC CONFIGURATION
# =============================================================================
APP_PORT=3001
ASTRALIS_API_KEY=your-internal-api-key-here
NEXT_PUBLIC_API_BASE_URL=http://localhost:3001/api

# =============================================================================
# PRODUCTION ENVIRONMENT VARIABLES (Set in Vercel Dashboard)
# =============================================================================
# The following should be set in Vercel dashboard for production:
# - DATABASE_URL (from Prisma Postgres)
# - BLOB_READ_WRITE_TOKEN
# - UPSTASH_REDIS_REST_URL
# - UPSTASH_REDIS_REST_TOKEN
# - NEXTAUTH_SECRET
# - NEXTAUTH_URL=https://your-domain.com
# - NEXT_PUBLIC_API_BASE_URL=https://your-domain.com/api
# - All API keys (OPENAI_API_KEY, ANTHROPIC_API_KEY, etc.)
# - SMTP configuration
# - Google OAuth credentials

# =============================================================================
# FLY.IO WORKER SECRETS (Set via fly CLI)
# =============================================================================
# fly secrets set DATABASE_URL="..."
# fly secrets set REDIS_URL="..."
# fly secrets set OPENAI_API_KEY="..."
# fly secrets set ANTHROPIC_API_KEY="..."
# fly secrets set BLOB_READ_WRITE_TOKEN="..."
