# Database
DATABASE_URL="postgresql://user:password@localhost:5432/astralis"

# NextAuth.js
NEXTAUTH_SECRET="your-nextauth-secret-key-here"
NEXTAUTH_URL="http://localhost:3001"

# API Configuration
NEXT_PUBLIC_API_BASE_URL="http://localhost:3000"

# Google Analytics
NEXT_PUBLIC_GA_TRACKING_ID="G-49DWRM7K4G"

# Payment Providers
NEXT_PUBLIC_PAYPAL_CLIENT_ID="your-paypal-client-id"
PAYPAL_CLIENT_SECRET="your-paypal-client-secret"

NEXT_PUBLIC_STRIPE_PUBLIC_KEY="your-stripe-public-key"
STRIPE_SECRET_KEY="your-stripe-secret-key"

# Application URLs
NEXT_PUBLIC_APP_URL="http://localhost:3001"

# Booking System Configuration
# DEFAULT_USER_ID is automatically set during deployment to the admin user's ID
# This is required for booking conflict detection and scheduling event creation
# DEFAULT_USER_ID="auto-generated-during-deployment"

# Email Configuration (SMTP)
# For Gmail: smtp.gmail.com, port 587, secure=false
# For Outlook: smtp-mail.outlook.com, port 587, secure=false
# For custom SMTP: Use your provider's settings
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM_NAME="Astralis"
SMTP_FROM_EMAIL="support@astralisone.com"

# ===== DIGITALOCEAN SPACES (Phase 4) =====
# S3-compatible object storage for document uploads
# Setup guide: docs/PHASE_4_DEPLOYMENT.md
# Create Spaces bucket: https://cloud.digitalocean.com/spaces
# Generate access keys: API → Spaces Keys → Generate New Key

# Spaces API Credentials
SPACES_ACCESS_KEY="DO00ABCDEFGHIJKLMNOP"
SPACES_SECRET_KEY="your-spaces-secret-key-64-chars-long"

# Spaces Configuration
SPACES_ENDPOINT="nyc3.digitaloceanspaces.com"  # Region: nyc3, sfo3, sgp1, fra1
SPACES_REGION="nyc3"  # Must match endpoint region
SPACES_BUCKET="astralis-documents"  # Your bucket name

# CDN Configuration (enable CDN in Spaces bucket settings)
SPACES_CDN_URL="https://astralis-documents.nyc3.cdn.digitaloceanspaces.com"
# Or custom domain: "https://cdn.astralisone.com"

# Document Processing Configuration
OCR_LANGUAGE="eng"  # Tesseract language code: eng, spa, fra, deu, etc.
VISION_MODEL="gpt-4-vision-preview"  # OpenAI vision model

# File Upload Limits
MAX_FILE_SIZE="52428800"  # 50MB in bytes (50 * 1024 * 1024)
ALLOWED_FILE_TYPES="image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"

# ===== OPENAI API (Phase 4: RAG Chat) =====
# Required for document chat with RAG, embeddings, and GPT-4 completions
# Get API key: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-..."  # OpenAI API key for embeddings and chat

# Chat Configuration
CHAT_MODEL="gpt-4-turbo-preview"  # Model for chat responses
EMBEDDING_MODEL="text-embedding-3-small"  # Model for vector embeddings (1536 dims)
CHAT_MAX_TOKENS="1000"  # Max tokens in chat response
CHAT_TEMPERATURE="0.7"  # GPT temperature (0-2, lower = more focused)

# RAG Configuration
CHUNK_SIZE="1000"  # Text chunk size in characters
CHUNK_OVERLAP="200"  # Overlap between chunks in characters
MAX_CONTEXT_CHUNKS="5"  # Max document chunks to include in context
MIN_SIMILARITY="0.5"  # Minimum similarity score (0-1) for chunk retrieval

# ============================================================================
# Phase 6: Business Automation & n8n Integration
# ============================================================================

# n8n Host Configuration
N8N_HOST=automation.astralisone.com  # Production: automation.astralisone.com, Dev: localhost
N8N_PORT=5678
N8N_PROTOCOL=https  # Production: https, Dev: http
N8N_EDITOR_BASE_URL=https://automation.astralisone.com  # Full URL to n8n editor

# n8n Encryption Key (CRITICAL: for credential storage security)
# Generate with: openssl rand -hex 32
# IMPORTANT: Keep this secret and never commit to version control
N8N_ENCRYPTION_KEY=your-64-character-hex-encryption-key-change-this-immediately

# n8n Basic Authentication (for editor access)
# Production: Use strong passwords, rotate regularly
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=your-secure-password-change-this

# n8n Database Configuration (uses shared PostgreSQL)
# These should match your main database credentials
N8N_DATABASE_TYPE=postgresdb
N8N_DATABASE_HOST=postgres  # Docker: postgres, Local: localhost
N8N_DATABASE_PORT=5432
N8N_DATABASE_NAME=astralis_one
N8N_DATABASE_USER=astralis
N8N_DATABASE_PASSWORD=your-db-password
N8N_DATABASE_SCHEMA=n8n

# n8n Webhook Configuration
# Production: Use your public domain
# Development: Use localhost or ngrok tunnel
N8N_WEBHOOK_URL=https://automation.astralisone.com/
N8N_WEBHOOK_TUNNEL_URL=https://automation.astralisone.com/

# n8n Execution Settings
N8N_EXECUTIONS_PROCESS=main
N8N_EXECUTIONS_DATA_SAVE_ON_ERROR=all
N8N_EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
N8N_EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true
N8N_LOG_LEVEL=info  # debug, info, warn, error

# ============================================================================
# Integration API Keys (for n8n workflow nodes)
# ============================================================================

# Anthropic API (Claude AI)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# SendGrid (Email Marketing)
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# Slack (Team Communication)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token

# Stripe (Payments)
STRIPE_API_KEY=sk_test_your-stripe-secret-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# Twilio (SMS)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+15551234567

# Mailchimp (Email Marketing)
MAILCHIMP_API_KEY=your-mailchimp-api-key
MAILCHIMP_SERVER_PREFIX=us1  # e.g., us1, us2, etc.

# HubSpot (CRM)
HUBSPOT_API_KEY=your-hubspot-api-key

# Zoom (Video Conferencing)
ZOOM_API_KEY=your-zoom-api-key
ZOOM_API_SECRET=your-zoom-api-secret

# ============================================================================
# AstralisOps Internal API (for n8n to call back into the application)
# ============================================================================

# Internal API Configuration
ASTRALIS_API_URL=https://app.astralisone.com/api  # Production URL
ASTRALIS_API_KEY=your-internal-api-key-generate-with-openssl-rand-hex-32

# Webhook Security (for outgoing webhook notifications)
# Used by scheduling agent to sign webhook payloads with HMAC-SHA256
# Generate with: openssl rand -hex 32
WEBHOOK_SECRET=your-webhook-secret-key-generate-with-openssl-rand-hex-32

# ============================================================================
# Docker Configuration (for docker-compose.yml)
# ============================================================================

# PostgreSQL
DATABASE_NAME=astralis_one
DATABASE_USER=astralis
POSTGRES_PORT=5432

# Redis
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password-change-this

# Application
APP_PORT=3001

# ============================================================================
# Real-time Chat (Pusher) - Optional
# ============================================================================
# Pusher configuration for real-time chat messages in scheduling agent
# If not configured, messages are stored in database for polling
# Get credentials: https://dashboard.pusher.com/
# PUSHER_APP_ID="your-app-id"
# PUSHER_KEY="your-pusher-key"
# PUSHER_SECRET="your-pusher-secret"
# PUSHER_CLUSTER="us2"  # or eu, ap-southeast-1, etc.

# ============================================================================
# Error Monitoring (Sentry) - Phase 3: Task 3.4
# ============================================================================
# Sentry configuration for error tracking and performance monitoring
# Get credentials: https://sentry.io/signup/
# 1. Create a new project in Sentry (select Next.js platform)
# 2. Copy DSN from Project Settings > Client Keys (DSN)
# 3. Generate auth token: Settings > Auth Tokens (requires 'project:releases' scope)
#
# Installation:
# npm install @sentry/nextjs
# npx @sentry/wizard@latest -i nextjs
#
# IMPORTANT: The wizard will automatically:
# - Create sentry.client.config.ts, sentry.server.config.ts, sentry.edge.config.ts
# - Update next.config.mjs with Sentry webpack plugin
# - Add SENTRY_DSN to your .env.local
#
# After running the wizard, manually add the remaining variables below.

# Sentry DSN (Data Source Name) - unique identifier for your project
# Server-side DSN (used in Node.js runtime and Edge runtime)
SENTRY_DSN="https://examplePublicKey@o0.ingest.sentry.io/0"

# Client-side DSN (used in browser)
# Must be prefixed with NEXT_PUBLIC_ to be available in the browser
NEXT_PUBLIC_SENTRY_DSN="https://examplePublicKey@o0.ingest.sentry.io/0"

# Sentry authentication token for uploading source maps
# Generate at: https://sentry.io/settings/account/api/auth-tokens/
# Requires scopes: project:releases, org:read
SENTRY_AUTH_TOKEN="your-sentry-auth-token-here"

# Sentry organization slug (from your Sentry URL)
# Example: If your URL is https://sentry.io/organizations/my-org/, use "my-org"
SENTRY_ORG="your-sentry-org-slug"

# Sentry project slug (from your project URL)
# Example: If your project URL is https://sentry.io/organizations/my-org/projects/my-project/, use "my-project"
SENTRY_PROJECT="your-sentry-project-slug"

# Enable Sentry in development (optional, default: false)
# Set to 'true' to test Sentry integration locally
# SENTRY_DEBUG="false"

# Application version for release tracking (optional)
# Helps correlate errors with specific deployments
# Can be git commit SHA, semantic version, or build number
# NEXT_PUBLIC_APP_VERSION="1.0.0"
