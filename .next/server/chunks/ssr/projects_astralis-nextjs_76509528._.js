module.exports=[789069,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(205092),g=a.i(497010),h=a.i(906197),i=a.i(348155),j=a.i(432005),k=a.i(265190),l=a.i(589230),m=a.i(836538),n=a.i(558846),o=a.i(640327),p=a.i(977839),q=a.i(243757),r=a.i(857534),s=a.i(157550),t=a.i(684990),u=a.i(567556),v=a.i(431993),w=a.i(715318),x=b([g,h,i,j,k,l,m,n,o,p,u,v,w]);[g,h,i,j,k,l,m,n,o,p,u,v,w]=x.then?(await x)():x;let z=g.z.object({name:g.z.string().min(2,{message:"Tag name must be at least 2 characters"}),slug:g.z.string().min(2,{message:"Slug must be at least 2 characters"}).regex(/^[a-z0-9-]+$/,{message:"Slug can only contain lowercase letters, numbers, and hyphens"})});function y(){let a=(0,f.useRouter)(),[b,c]=(0,e.useState)(!1),[g,x]=(0,e.useState)(null),[y,A]=(0,e.useState)(null),[B,C]=(0,e.useState)(""),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),H=(0,h.useForm)({resolver:(0,i.zodResolver)(z),defaultValues:{name:"",slug:""}}),{data:I,error:J,isLoading:K,refetch:L}=(0,j.useApi)("/api/blog/tags");console.log("tagsData:",I),console.log("tagsLoading:",K),console.log("tagsError:",J);let M=Array.isArray(I?.data)?I.data:[];console.log("tags array:",M),(0,e.useEffect)(()=>{g&&(H.setValue("name",g.name),H.setValue("slug",g.slug))},[g,H]);let{mutate:N,isLoading:O}=(0,j.useApiMutation)("/blog/tags",{onSuccess:()=>{C(""),H.reset({name:"",slug:""}),L()},onError:a=>{C(a.message||"Failed to add tag"),setTimeout(()=>C(""),3e3)}}),{mutate:P,isLoading:Q}=(0,j.useApiMutation)(`/blog/tags/${g?.id}`,{onSuccess:()=>{E(!0),setTimeout(()=>E(!1),3e3),c(!1),x(null),H.reset({name:"",slug:""}),L()},onError:a=>{C(a.message||"Failed to update tag"),setTimeout(()=>C(""),3e3)}}),{mutate:R,isLoading:S}=(0,j.useApiMutation)(`/blog/tags/${y?.id}`,{method:"DELETE",onSuccess:()=>{G(!0),setTimeout(()=>G(!1),3e3),A(null),L()},onError:a=>{C(a.message||"Failed to delete tag"),setTimeout(()=>C(""),3e3)}}),T=()=>{y&&R(null)},U=()=>{A(null)};return(0,d.jsx)(w.AdminLayout,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold",children:"Blog Tags"}),(0,d.jsx)(k.Button,{onClick:()=>a.push("/admin/blog"),children:"Back to Blog Admin"})]}),(0,d.jsxs)(n.Card,{children:[(0,d.jsxs)(n.CardHeader,{children:[(0,d.jsx)(n.CardTitle,{children:b?"Edit Tag":"Add New Tag"}),(0,d.jsx)(n.CardDescription,{children:b?"Update the tag details below":"Create a new tag for categorizing blog posts"})]}),(0,d.jsxs)(n.CardContent,{children:[B&&(0,d.jsxs)(u.Alert,{variant:"destructive",className:"mb-4",children:[(0,d.jsx)(q.AlertCircle,{className:"h-4 w-4"}),(0,d.jsx)(u.AlertTitle,{children:"Error"}),(0,d.jsx)(u.AlertDescription,{children:B})]}),D&&(0,d.jsxs)(u.Alert,{className:"mb-4",children:[(0,d.jsx)(r.CheckCircle2,{className:"h-4 w-4"}),(0,d.jsx)(u.AlertTitle,{children:"Success"}),(0,d.jsx)(u.AlertDescription,{children:"Tag updated successfully"})]}),F&&(0,d.jsxs)(u.Alert,{className:"mb-4",children:[(0,d.jsx)(r.CheckCircle2,{className:"h-4 w-4"}),(0,d.jsx)(u.AlertTitle,{children:"Success"}),(0,d.jsx)(u.AlertDescription,{children:"Tag deleted successfully"})]}),(0,d.jsx)(l.Form,{...H,children:(0,d.jsxs)("form",{onSubmit:H.handleSubmit(a=>{b&&g?P({...a,id:g.id}):N(a)}),className:"space-y-4",children:[(0,d.jsx)(l.FormField,{control:H.control,name:"name",render:({field:a})=>(0,d.jsxs)(l.FormItem,{children:[(0,d.jsx)(l.FormLabel,{children:"Name"}),(0,d.jsx)(l.FormControl,{children:(0,d.jsx)(m.Input,{...a,placeholder:"Tag name",onChange:c=>{a.onChange(c),b||(()=>{let a=H.getValues("name");if(a){let b=a.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");H.setValue("slug",b)}})()}})}),(0,d.jsx)(l.FormMessage,{})]})}),(0,d.jsx)(l.FormField,{control:H.control,name:"slug",render:({field:a})=>(0,d.jsxs)(l.FormItem,{children:[(0,d.jsx)(l.FormLabel,{children:"Slug"}),(0,d.jsx)(l.FormControl,{children:(0,d.jsx)(m.Input,{...a,placeholder:"tag-slug"})}),(0,d.jsx)(l.FormMessage,{})]})}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(k.Button,{type:"submit",disabled:O||Q,children:b?"Update Tag":"Add Tag"}),b&&(0,d.jsx)(k.Button,{type:"button",variant:"outline",onClick:()=>{c(!1),x(null),H.reset({name:"",slug:""})},children:"Cancel"})]})]})})]})]}),(0,d.jsxs)(n.Card,{children:[(0,d.jsxs)(n.CardHeader,{children:[(0,d.jsx)(n.CardTitle,{children:"Tags"}),(0,d.jsx)(n.CardDescription,{children:"Manage your blog tags"})]}),(0,d.jsx)(n.CardContent,{children:K?(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(p.Skeleton,{className:"h-10 w-full"}),(0,d.jsx)(p.Skeleton,{className:"h-10 w-full"}),(0,d.jsx)(p.Skeleton,{className:"h-10 w-full"})]}):J?(0,d.jsxs)(u.Alert,{variant:"destructive",children:[(0,d.jsx)(q.AlertCircle,{className:"h-4 w-4"}),(0,d.jsx)(u.AlertTitle,{children:"Error"}),(0,d.jsx)(u.AlertDescription,{children:"Failed to load tags"})]}):M&&0!==M.length?(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)(o.Table,{children:[(0,d.jsx)(o.TableHeader,{children:(0,d.jsxs)(o.TableRow,{children:[(0,d.jsx)(o.TableHead,{children:"Name"}),(0,d.jsx)(o.TableHead,{children:"Slug"}),(0,d.jsx)(o.TableHead,{children:"Posts"}),(0,d.jsx)(o.TableHead,{className:"text-right",children:"Actions"})]})}),(0,d.jsx)(o.TableBody,{children:M.map(a=>(0,d.jsxs)(o.TableRow,{children:[(0,d.jsx)(o.TableCell,{className:"font-medium",children:a.name}),(0,d.jsx)(o.TableCell,{children:a.slug}),(0,d.jsx)(o.TableCell,{children:a.postsCount||0}),(0,d.jsx)(o.TableCell,{className:"text-right",children:(0,d.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,d.jsxs)(k.Button,{variant:"outline",size:"sm",onClick:()=>{x(a),c(!0)},children:[(0,d.jsx)(s.Pencil,{className:"h-4 w-4 mr-1"})," Edit"]}),(0,d.jsxs)(v.AlertDialog,{children:[(0,d.jsx)(v.AlertDialogTrigger,{asChild:!0,children:(0,d.jsxs)(k.Button,{variant:"destructive",size:"sm",onClick:()=>{A(a)},children:[(0,d.jsx)(t.Trash2,{className:"h-4 w-4 mr-1"})," Delete"]})}),(0,d.jsxs)(v.AlertDialogContent,{children:[(0,d.jsxs)(v.AlertDialogHeader,{children:[(0,d.jsx)(v.AlertDialogTitle,{children:"Are you sure?"}),(0,d.jsxs)(v.AlertDialogDescription,{children:['This will permanently delete the tag "',a.name,'". This action cannot be undone.']})]}),(0,d.jsxs)(v.AlertDialogFooter,{children:[(0,d.jsx)(v.AlertDialogCancel,{onClick:U,children:"Cancel"}),(0,d.jsx)(v.AlertDialogAction,{onClick:T,children:"Delete"})]})]})]})]})})]},a.id))})]})}):(0,d.jsx)("p",{className:"text-center py-4",children:"No tags found. Create your first tag above."})})]})]})})}a.s(["default",()=>y]),c()}catch(a){c(a)}},!1),170274,a=>a.a(async(b,c)=>{try{var d=a.i(670010),e=a.i(561761),f=a.i(299441),g=a.i(14393),h=a.i(798225),i=a.i(789069),j=a.i(189906),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/blog/tags",pathname:"/admin/blog/tags",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/blog/tags",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_astralis-nextjs_76509528._.js.map