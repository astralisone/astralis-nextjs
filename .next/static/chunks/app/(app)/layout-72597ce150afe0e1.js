(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4944],{3500:(e,s,a)=>{"use strict";a.d(s,{DashboardSidebar:()=>O});var t=a(95155),l=a(52619),r=a.n(l),i=a(20063),n=a(25959),d=a(89863);let c=(0,n.v)()((0,d.Zr)(e=>({sidebarCollapsed:!1,toggleSidebar:()=>e(e=>({sidebarCollapsed:!e.sidebarCollapsed})),setSidebarCollapsed:s=>e({sidebarCollapsed:s}),activeOrgId:null,setActiveOrgId:s=>e({activeOrgId:s}),activeFilters:{},updateFilters:s=>e(e=>({activeFilters:{...e.activeFilters,...s}})),clearFilters:()=>e({activeFilters:{}})}),{name:"dashboard-storage",partialize:e=>({sidebarCollapsed:e.sidebarCollapsed,activeOrgId:e.activeOrgId})}));var o=a(59384),m=a(39332),x=a(43465),h=a(89715),f=a(16485),u=a(56154),p=a(15870),b=a(27937),j=a(90368),g=a(64269),N=a(12115),v=a(36489),w=a(71871),y=a(74054),A=a(5917);function k(e){var s;let{currentOrgId:a,variant:l="header"}=e,{data:r}=(0,v.useSession)(),n=(0,i.useRouter)(),[d,c]=(0,N.useState)(!1),o=[{id:a,name:(null==r||null==(s=r.user)?void 0:s.name)||"My Organization"}],m=o.find(e=>e.id===a),x=async e=>{if(e===a)return void c(!1);try{if(!(await fetch("/api/auth/org/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:e})})).ok)throw Error("Failed to switch organization");n.refresh(),n.push("/dashboard"),c(!1)}catch(e){console.error("Error switching organization:",e)}};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>c(!d),className:(0,g.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors w-full","header"===l?"hover:bg-slate-100":"hover:bg-white/10 border border-white/20"),"aria-label":"Organization switcher",children:[(0,t.jsx)(w.A,{className:(0,g.cn)("w-4 h-4","header"===l?"text-slate-600":"text-white")}),(0,t.jsx)("span",{className:(0,g.cn)("text-sm font-medium flex-1 text-left truncate","header"===l?"text-slate-700":"text-white"),children:(null==m?void 0:m.name)||"Organization"}),(0,t.jsx)(y.A,{className:(0,g.cn)("w-4 h-4","header"===l?"text-slate-400":"text-slate-300")})]}),d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1),"aria-hidden":"true"}),(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-slate-200 z-50 py-2",children:[(0,t.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-slate-500 uppercase",children:"Organizations"}),o.map(e=>(0,t.jsxs)("button",{onClick:()=>x(e.id),className:(0,g.cn)("w-full flex items-center justify-between px-3 py-2 hover:bg-slate-50 transition-colors",e.id===a&&"bg-slate-50"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"w-4 h-4 text-slate-400"}),(0,t.jsx)("span",{className:"text-sm",children:e.name})]}),e.id===a&&(0,t.jsx)(A.A,{className:"w-4 h-4 text-astralis-blue"})]},e.id))]})]})]})}let C=[{name:"Dashboard",href:"/dashboard",icon:o.A},{name:"Pipelines",href:"/pipelines",icon:m.A},{name:"Intake",href:"/intake",icon:x.A},{name:"Documents",href:"/documents",icon:h.A},{name:"Scheduling",href:"/scheduling",icon:f.A},{name:"Automations",href:"/automations",icon:u.A},{name:"Settings",href:"/settings",icon:p.A}];function O(e){var s,a;let{user:l,isMobile:n=!1,onClose:d}=e,o=(0,i.usePathname)(),{sidebarCollapsed:m,toggleSidebar:x}=c(),h=()=>{n&&d&&d()};return(0,t.jsxs)("div",{className:(0,g.cn)("bg-astralis-navy text-white flex flex-col h-full",!n&&"transition-all duration-300",!n&&(m?"w-20":"w-60")),children:[(0,t.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-white/10",children:[(!m||n)&&(0,t.jsx)(r(),{href:"/dashboard",className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"text-xl font-bold",children:"AstralisOps"})}),!n&&(0,t.jsx)("button",{onClick:x,className:"p-2 hover:bg-white/10 rounded-lg transition-colors","aria-label":m?"Expand sidebar":"Collapse sidebar",children:m?(0,t.jsx)(b.A,{className:"w-5 h-5"}):(0,t.jsx)(j.A,{className:"w-5 h-5"})})]}),(!m||n)&&(0,t.jsx)("div",{className:"px-3 py-3 border-b border-white/10",children:(0,t.jsx)(k,{currentOrgId:l.orgId,variant:"sidebar"})}),(0,t.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:C.map(e=>{let s=o===e.href||o.startsWith(e.href+"/"),a=e.icon;return(0,t.jsxs)(r(),{href:e.href,onClick:h,className:(0,g.cn)("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors",s?"bg-astralis-blue text-white":"text-slate-300 hover:bg-white/10 hover:text-white"),children:[(0,t.jsx)(a,{className:"w-5 h-5 flex-shrink-0"}),(!m||n)&&(0,t.jsx)("span",{className:"font-medium",children:e.name})]},e.name)})}),(0,t.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-astralis-blue flex items-center justify-center flex-shrink-0",children:l.image?(0,t.jsx)("img",{src:l.image,alt:l.name||"",className:"w-full h-full rounded-full object-cover"}):(0,t.jsx)("span",{className:"text-lg font-semibold",children:(null==(s=l.name)?void 0:s.charAt(0).toUpperCase())||(null==(a=l.email)?void 0:a.charAt(0).toUpperCase())||"U"})}),(!m||n)&&(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:l.name||"User"}),(0,t.jsx)("p",{className:"text-xs text-slate-400 truncate",children:l.email})]})]})})]})}},11647:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(95155),l=a(64269);let r={default:"bg-slate-100 text-slate-700",primary:"bg-astralis-blue/10 text-astralis-blue",secondary:"bg-slate-200 text-slate-800",success:"bg-green-100 text-green-700",warning:"bg-orange-100 text-orange-700",error:"bg-red-100 text-red-700"};function i(e){let{children:s,className:a,variant:i="default"}=e;return(0,t.jsx)("span",{className:(0,l.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r[i],a),children:s})}},27297:(e,s,a)=>{Promise.resolve().then(a.bind(a,55807)),Promise.resolve().then(a.bind(a,3500))},55807:(e,s,a)=>{"use strict";a.d(s,{DashboardHeader:()=>F});var t=a(95155),l=a(9540),r=a(86651),i=a(85998),n=a(20508),d=a(15870),c=a(84926),o=a(36489),m=a(65142),x=a(11647),h=a(12115),f=a(60186),u=a(27937),p=a(5917),b=a(99051),j=a(64269);let g=f.bL,N=f.l9;f.YJ,f.ZL,f.Pb,f.z6,h.forwardRef((e,s)=>{let{className:a,inset:l,children:r,...i}=e;return(0,t.jsxs)(f.ZP,{ref:s,className:(0,j.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 data-[state=open]:bg-slate-100",l&&"pl-8",a),...i,children:[r,(0,t.jsx)(u.A,{className:"ml-auto h-4 w-4"})]})}).displayName=f.ZP.displayName,h.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(f.G5,{ref:s,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-900 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=f.G5.displayName;let v=h.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,t.jsx)(f.ZL,{children:(0,t.jsx)(f.UC,{ref:s,sideOffset:l,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-900 shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});v.displayName=f.UC.displayName;let w=h.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(f.q7,{ref:s,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",a),...r})});w.displayName=f.q7.displayName,h.forwardRef((e,s)=>{let{className:a,children:l,checked:r,...i}=e;return(0,t.jsxs)(f.H_,{ref:s,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(f.VF,{children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})}),l]})}).displayName=f.H_.displayName,h.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(f.hN,{ref:s,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(f.VF,{children:(0,t.jsx)(b.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=f.hN.displayName;let y=h.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(f.JU,{ref:s,className:(0,j.cn)("px-2 py-1.5 text-sm font-semibold text-slate-900",l&&"pl-8",a),...r})});y.displayName=f.JU.displayName;let A=h.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(f.wv,{ref:s,className:(0,j.cn)("-mx-1 my-1 h-px bg-slate-200",a),...l})});A.displayName=f.wv.displayName;var k=a(52619),C=a.n(k);let O=h.forwardRef((e,s)=>{let{...a}=e;return(0,t.jsx)("nav",{ref:s,"aria-label":"breadcrumb",...a})});O.displayName="Breadcrumb";let z=h.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("ol",{ref:s,className:(0,j.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-slate-600 sm:gap-2.5",a),...l})});z.displayName="BreadcrumbList";let R=h.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("li",{ref:s,className:(0,j.cn)("inline-flex items-center gap-1.5",a),...l})});R.displayName="BreadcrumbItem";let U=h.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(C(),{ref:s,className:(0,j.cn)("transition-colors hover:text-astralis-blue focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-astralis-blue focus-visible:ring-offset-2 rounded-sm",a),...l})});U.displayName="BreadcrumbLink";let S=h.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:(0,j.cn)("font-medium text-slate-900",a),...l})});S.displayName="BreadcrumbPage";let P=e=>{let{children:s,className:a,...l}=e;return(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,j.cn)("[&>svg]:size-3.5",a),...l,children:null!=s?s:(0,t.jsx)(u.A,{className:"text-slate-400"})})};function F(e){var s,a;let{user:h,breadcrumbs:f,onMobileMenuOpen:u}=e,p=async()=>{await (0,o.signOut)({callbackUrl:"/auth/signin"})};return(0,t.jsxs)("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center gap-4 px-4 lg:px-6",children:[(0,t.jsx)("button",{onClick:u,className:"lg:hidden p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Open menu",children:(0,t.jsx)(l.A,{className:"w-5 h-5 text-slate-600"})}),f&&f.length>0&&(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(O,{children:(0,t.jsx)(z,{children:f.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(R,{children:e.href?(0,t.jsx)(U,{href:e.href,children:e.label}):(0,t.jsx)(S,{children:e.label})}),s<f.length-1&&(0,t.jsx)(P,{})]},s))})})}),(0,t.jsx)("div",{className:"hidden sm:flex flex-1 max-w-md",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(r.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(m.p,{type:"search",placeholder:"Search...",className:"pl-10 h-9"})]})}),(0,t.jsx)("div",{className:"flex-1 sm:hidden"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(g,{children:[(0,t.jsx)(N,{asChild:!0,children:(0,t.jsxs)("button",{className:"p-2 hover:bg-slate-100 rounded-lg transition-colors relative","aria-label":"Notifications",children:[(0,t.jsx)(i.A,{className:"w-5 h-5 text-slate-600"}),(0,t.jsx)(x.E,{variant:"error",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:"3"})]})}),(0,t.jsxs)(v,{align:"end",className:"w-80",children:[(0,t.jsx)(y,{children:"Notifications"}),(0,t.jsx)(A,{}),(0,t.jsx)(w,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"New pipeline created"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"2 minutes ago"})]})}),(0,t.jsx)(w,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Document processed"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"1 hour ago"})]})}),(0,t.jsx)(w,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Meeting scheduled"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"3 hours ago"})]})})]})]}),(0,t.jsxs)(g,{children:[(0,t.jsx)(N,{asChild:!0,children:(0,t.jsx)("button",{className:"flex items-center gap-2 p-1 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"User menu",children:(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-astralis-blue flex items-center justify-center",children:h.image?(0,t.jsx)("img",{src:h.image,alt:h.name||"",className:"w-full h-full rounded-full object-cover"}):(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:(null==(s=h.name)?void 0:s.charAt(0).toUpperCase())||(null==(a=h.email)?void 0:a.charAt(0).toUpperCase())||"U"})})})}),(0,t.jsxs)(v,{align:"end",className:"w-56",children:[(0,t.jsx)(y,{children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:h.name||"User"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:h.email})]})}),(0,t.jsx)(A,{}),(0,t.jsxs)(w,{children:[(0,t.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Profile"]}),(0,t.jsxs)(w,{children:[(0,t.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Settings"]}),(0,t.jsx)(A,{}),(0,t.jsxs)(w,{onClick:p,children:[(0,t.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})]})}P.displayName="BreadcrumbSeparator"},64269:(e,s,a)=>{"use strict";a.d(s,{cn:()=>r});var t=a(2821),l=a(75889);function r(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,l.QP)((0,t.$)(s))}},65142:(e,s,a)=>{"use strict";a.d(s,{p:()=>i});var t=a(95155),l=a(12115),r=a(64269);let i=l.forwardRef((e,s)=>{let{className:a,type:l,...i}=e;return(0,t.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-500","dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:placeholder:text-slate-400","transition-all duration-150 ease-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-astralis-blue focus-visible:ring-offset-0","disabled:cursor-not-allowed disabled:opacity-50","file:border-0 file:bg-transparent file:text-sm file:font-medium",a),ref:s,...i})});i.displayName="Input"}},e=>{e.O(0,[9779,2619,9633,6489,2259,6093,8025,8441,1255,7358],()=>e(e.s=27297)),_N_E=e.O()}]);