(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,638989,e=>{"use strict";var t,n,r,o,a,s,i=e.i(942527),c=e.i(660370),u=e.i(684603);class l extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const n=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${n}`}}class d extends l{}class f extends l{}async function p(e,t,n,r={}){var o;let a=`${(o=t,"undefined"==typeof window?`${o.baseUrlServer}${o.basePathServer}`:o.basePath)}/${e}`;try{let e={headers:{"Content-Type":"application/json",...r?.headers?.cookie?{cookie:r.headers.cookie}:{}}};r?.body&&(e.body=JSON.stringify(r.body),e.method="POST");let t=await fetch(a,e),n=await t.json();if(!t.ok)throw n;return n}catch(e){return n.error(new d(e.message,e)),null}}function v(){return Math.floor(Date.now()/1e3)}function h(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let n=new URL(e||t),r=("/"===n.pathname?t.pathname:n.pathname).replace(/\/$/,""),o=`${n.origin}${r}`;return{origin:n.origin,host:n.host,path:r,base:o,toString:()=>o}}let m={baseUrl:h(c.default.env.NEXTAUTH_URL??c.default.env.VERCEL_URL).origin,basePath:h(c.default.env.NEXTAUTH_URL).path,baseUrlServer:h(c.default.env.NEXTAUTH_URL_INTERNAL??c.default.env.NEXTAUTH_URL??c.default.env.VERCEL_URL).origin,basePathServer:h(c.default.env.NEXTAUTH_URL_INTERNAL??c.default.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},y=null;function E(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{},name:"next-auth",onmessage:null,onmessageerror:null,close:()=>{},dispatchEvent:()=>!1}:new BroadcastChannel("next-auth")}function g(){return null===y&&(y=E()),y}let S={debug:console.debug,error:console.error,warn:console.warn},b=u.createContext?.(void 0);async function P(e){let t=await p("session",m,S,e);return(e?.broadcast??!0)&&E().postMessage({event:"session",data:{trigger:"getSession"}}),t}async function N(){let e=await p("csrf",m,S);return e?.csrfToken??""}function w(e){if(!b)throw Error("React Context is unavailable in Server Components");let{children:t,basePath:n,refetchInterval:r,refetchWhenOffline:o}=e;n&&(m.basePath=n);let a=void 0!==e.session;m._lastSync=a?v():0;let[s,c]=u.useState(()=>(a&&(m._session=e.session),e.session)),[l,d]=u.useState(!a);u.useEffect(()=>(m._getSession=async({event:e}={})=>{try{let t="storage"===e;if(t||void 0===m._session){m._lastSync=v(),m._session=await P({broadcast:!t}),c(m._session);return}if(!e||null===m._session||v()<m._lastSync)return;m._lastSync=v(),m._session=await P(),c(m._session)}catch(e){S.error(new f(e.message,e))}finally{d(!1)}},m._getSession(),()=>{m._lastSync=0,m._session=void 0,m._getSession=()=>{}}),[]),u.useEffect(()=>{let e=()=>m._getSession({event:"storage"});return g().addEventListener("message",e),()=>g().removeEventListener("message",e)},[]),u.useEffect(()=>{let{refetchOnWindowFocus:t=!0}=e,n=()=>{t&&"visible"===document.visibilityState&&m._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),()=>document.removeEventListener("visibilitychange",n,!1)},[e.refetchOnWindowFocus]);let h=function(){let[e,t]=u.useState("undefined"!=typeof navigator&&navigator.onLine),n=()=>t(!0),r=()=>t(!1);return u.useEffect(()=>(window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}),[]),e}(),y=!1!==o||h;u.useEffect(()=>{if(r&&y){let e=setInterval(()=>{m._session&&m._getSession({event:"poll"})},1e3*r);return()=>clearInterval(e)}},[r,y]);let E=u.useMemo(()=>({data:s,status:l?"loading":s?"authenticated":"unauthenticated",async update(e){if(l)return;d(!0);let t=await p("session",m,S,void 0===e?void 0:{body:{csrfToken:await N(),data:e}});return d(!1),t&&(c(t),g().postMessage({event:"session",data:{trigger:"getSession"}})),t}}),[s,l]);return(0,i.jsx)(b.Provider,{value:E,children:t})}var T=e.i(546807);(t=o||(o={})).INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved",(n=a||(a={})).LOADING_STATUS="setLoadingStatus",n.RESET_OPTIONS="resetOptions",n.SET_BRAINTREE_INSTANCE="braintreeInstance",(r=s||(s={})).NUMBER="number",r.CVV="cvv",r.EXPIRATION_DATE="expirationDate",r.EXPIRATION_MONTH="expirationMonth",r.EXPIRATION_YEAR="expirationYear",r.POSTAL_CODE="postalCode";var R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function I(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function _(e,t,n){if(n||2==arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var O="data-react-paypal-script-id",C="react-paypal-js",L="dataNamespace",A="dataSdkIntegrationSource",k="paypal";function j(e){return void 0===e&&(e=k),window[e]}function U(e){var t=e.reactComponentName,n=e.sdkComponentKey,r=e.sdkRequestedComponents,o=void 0===r?"":r,a=e.sdkDataNamespace,s=n.charAt(0).toUpperCase().concat(n.substring(1)),i="Unable to render <".concat(t," /> because window.").concat(void 0===a?k:a,".").concat(s," is undefined."),c="string"==typeof o?o:o.join(",");if(!c.includes(n)){var u=[c,n].filter(Boolean).join();i+="\nTo fix the issue, add '".concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(u,"'}}>`.")}return i}function x(e){e[O];var t=I(e,[O+""]);return"react-paypal-js-".concat(function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0)*n;e[n+1]&&(r+=e[n+1].charCodeAt(0)*(n-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}(JSON.stringify(t)))}function D(e,t){var n,r,s,i;switch(t.type){case a.LOADING_STATUS:if("object"==typeof t.value)return R(R({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message});return R(R({},e),{loadingStatus:t.value});case a.RESET_OPTIONS:return s=e.options[O],(null==(i=self.document.querySelector("script[".concat(O,'="').concat(s,'"]')))?void 0:i.parentNode)&&i.parentNode.removeChild(i),R(R({},e),{loadingStatus:o.PENDING,options:R(R(((n={})[A]=C,n),t.value),((r={})[O]="".concat(x(t.value)),r))});case a.SET_BRAINTREE_INSTANCE:return R(R({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var B=(0,u.createContext)(null);function M(){var e=function(e){if("function"==typeof(null==e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}((0,u.useContext)(B));return[R(R({},e),{isInitial:e.loadingStatus===o.INITIAL,isPending:e.loadingStatus===o.PENDING,isResolved:e.loadingStatus===o.RESOLVED,isRejected:e.loadingStatus===o.REJECTED}),e.dispatch]}(0,u.createContext)({});var F=function(e){var t,n,r=e.className,o=e.disabled,a=void 0!==o&&o,s=e.children,i=e.forceReRender,c=I(e,["className","disabled","children","forceReRender"]),l="".concat(void 0===r?"":r," ").concat(a?"paypal-buttons-disabled":"").trim(),d=(0,u.useRef)(null),f=(0,u.useRef)(null),p=((t=(0,u.useRef)(new Proxy({},{get:function(e,t,n){return"function"==typeof e[t]?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e[t].apply(e,n)}:Reflect.get(e,t,n)}}))).current=Object.assign(t.current,c),t.current),v=M()[0],h=v.isResolved,m=v.options,y=(0,u.useState)(null),E=y[0],g=y[1],S=(0,u.useState)(!0),b=S[0],P=S[1],N=(0,u.useState)(null)[1];function w(){null!==f.current&&f.current.close().catch(function(){})}return(null==(n=f.current)?void 0:n.updateProps)&&f.current.updateProps({message:c.message}),(0,u.useEffect)(function(){if(!1===h)return w;var e=j(m.dataNamespace);if(void 0===e||void 0===e.Buttons)return N(function(){throw Error(U({reactComponentName:F.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:m.components,sdkDataNamespace:m[L]}))}),w;try{f.current=e.Buttons(R(R({},p),{onInit:function(e,t){g(t),"function"==typeof c.onInit&&c.onInit(e,t)}}))}catch(e){return N(function(){throw Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(e))})}return!1===f.current.isEligible()?P(!1):d.current&&f.current.render(d.current).catch(function(e){null!==d.current&&0!==d.current.children.length&&N(function(){throw Error("Failed to render <PayPalButtons /> component. ".concat(e))})}),w},_(_([h],void 0===i?[]:i,!0),[c.fundingSource],!1)),(0,u.useEffect)(function(){null!==E&&(!0===a?E.disable().catch(function(){}):E.enable().catch(function(){}))},[a,E]),u.default.createElement(u.default.Fragment,null,b?u.default.createElement("div",{ref:d,style:a?{opacity:.38}:{},className:l}):s)};function G(e,t){void 0===t&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach(function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttribute("nonce",t["data-csp-nonce"])}),n}F.displayName="PayPalButtons","function"==typeof SuppressedError&&SuppressedError;function X(e,t){if("object"!=typeof e||null===e)throw Error("Expected an options object.");var n=e.environment;if(n&&"production"!==n&&"sandbox"!==n)throw Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==t&&"function"!=typeof t)throw Error("Expected PromisePonyfill to be a function.")}var $=function(e){var t=e.className,n=e.children,r=I(e,["className","children"]),o=M()[0],a=o.isResolved,s=o.options,i=(0,u.useRef)(null),c=(0,u.useState)(!0),l=c[0],d=c[1],f=(0,u.useState)(null)[1],p=function(e){var t=i.current;if(!t||!e.isEligible())return d(!1);t.firstChild&&t.removeChild(t.firstChild),e.render(t).catch(function(e){null!==t&&0!==t.children.length&&f(function(){throw Error("Failed to render <PayPalMarks /> component. ".concat(e))})})};return(0,u.useEffect)(function(){if(!1!==a){var e=j(s[L]);if(void 0===e||void 0===e.Marks)return f(function(){throw Error(U({reactComponentName:$.displayName,sdkComponentKey:"marks",sdkRequestedComponents:s.components,sdkDataNamespace:s[L]}))});p(e.Marks(R({},r)))}},[a,r.fundingSource]),u.default.createElement(u.default.Fragment,null,l?u.default.createElement("div",{ref:i,className:void 0===t?"":t}):n)};$.displayName="PayPalMarks";var q=function(e){var t=e.className,n=e.forceReRender,r=I(e,["className","forceReRender"]),o=M()[0],a=o.isResolved,s=o.options,i=(0,u.useRef)(null),c=(0,u.useRef)(null),l=(0,u.useState)(null)[1];return(0,u.useEffect)(function(){if(!1!==a){var e=j(s[L]);if(void 0===e||void 0===e.Messages)return l(function(){throw Error(U({reactComponentName:q.displayName,sdkComponentKey:"messages",sdkRequestedComponents:s.components,sdkDataNamespace:s[L]}))});c.current=e.Messages(R({},r)),c.current.render(i.current).catch(function(e){null!==i.current&&0!==i.current.children.length&&l(function(){throw Error("Failed to render <PayPalMessages /> component. ".concat(e))})})}},_([a],void 0===n?[]:n,!0)),u.default.createElement("div",{ref:i,className:void 0===t?"":t})};q.displayName="PayPalMessages";var K=function(e){var t,n=e.options,r=void 0===n?{clientId:"test"}:n,s=e.children,i=e.deferLoading,c=void 0!==i&&i,l=(0,u.useReducer)(D,{options:R(R({},r),((t={}).dataJsSdkLibrary=C,t[A]=C,t[O]="".concat(x(r)),t)),loadingStatus:c?o.INITIAL:o.PENDING}),d=l[0],f=l[1];return(0,u.useEffect)(function(){if(!1===c&&d.loadingStatus===o.INITIAL)return f({type:a.LOADING_STATUS,value:o.PENDING});if(d.loadingStatus===o.PENDING){var e=!0;return(function(e,t){if(void 0===t&&(t=Promise),X(e,t),"undefined"==typeof document)return t.resolve(null);var n,r,o,a,s,i,c,u,l,d,f=(a=e.sdkBaseUrl,s=e.environment,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}(e,["sdkBaseUrl","environment"]),c=a||("sandbox"===s?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"),l=(u=Object.keys(i).filter(function(e){return void 0!==i[e]&&null!==i[e]&&""!==i[e]}).reduce(function(e,t){var n=i[t].toString();return"data"===(t=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})).substring(0,4)||"crossorigin"===t?e.attributes[t]=n:e.queryParams[t]=n,e},{queryParams:{},attributes:{}})).queryParams,d=u.attributes,l["merchant-id"]&&-1!==l["merchant-id"].indexOf(",")&&(d["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(c,"?").concat((r="",Object.keys(n=l).forEach(function(e){0!==r.length&&(r+="&"),r+=e+"="+n[e]}),r)),attributes:d}),p=f.url,v=f.attributes,h=v["data-namespace"]||"paypal",m=(o=h,window[o]);return(v["data-js-sdk-library"]||(v["data-js-sdk-library"]="paypal-js"),function(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(null===n)return null;var r=G(e,t),o=n.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(o.dataset).forEach(function(e){o.dataset[e]!==r.dataset[e]&&(a=!1)}),a?n:null}(p,v)&&m)?t.resolve(m):(function(e,t){void 0===t&&(t=Promise),X(e,t);var n=e.url,r=e.attributes;if("string"!=typeof n||0===n.length)throw Error("Invalid url.");if(void 0!==r&&"object"!=typeof r)throw Error("Expected attributes to be an object.");return new t(function(e,t){var o,a,s,i,c,u;if("undefined"==typeof document)return e();a=(o={url:n,attributes:r,onSuccess:function(){return e()},onError:function(){return t(Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.')))}}).url,s=o.attributes,i=o.onSuccess,c=o.onError,(u=G(a,s)).onerror=c,u.onload=i,document.head.insertBefore(u,document.head.firstElementChild)})})({url:p,attributes:v},t).then(function(){var e,t=(e=h,window[e]);if(t)return t;throw Error("The window.".concat(h," global variable is not available."))})})(d.options).then(function(){e&&f({type:a.LOADING_STATUS,value:o.RESOLVED})}).catch(function(t){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(t)),e&&f({type:a.LOADING_STATUS,value:{state:o.REJECTED,message:String(t)}})}),function(){e=!1}}},[d.options,c,d.loadingStatus]),u.default.createElement(B.Provider,{value:R(R({},d),{dispatch:f})},s)};function H(){}(0,u.createContext)({cardFieldsForm:null,fields:{},registerField:H,unregisterField:H});let J={clientId:c.default.env.NEXT_PUBLIC_PAYPAL_CLIENT_ID||"test",currency:"USD",intent:"capture"};function V({children:e}){return(0,i.jsx)(K,{options:{clientId:J.clientId,currency:J.currency,intent:J.intent},children:e})}function Y({children:e}){return(0,i.jsx)(w,{refetchInterval:0,refetchOnWindowFocus:!1,children:(0,i.jsx)(T.ThemeProvider,{defaultTheme:"dark",storageKey:"astralis-theme",children:(0,i.jsx)(V,{children:e})})})}c.default.env.NEXT_PUBLIC_STRIPE_PUBLIC_KEY,e.s(["Providers",()=>Y],638989)}]);