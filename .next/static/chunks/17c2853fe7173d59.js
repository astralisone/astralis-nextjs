(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,951169,e=>{"use strict";let t;var a=e.i(942527),s=e.i(684603),r=e.i(994281),i=e.i(620966),l=e.i(141006),n=e.i(338836),o=e.i(798317),c=e.i(683484),d=e.i(616241),u=e.i(936037),m=e.i(265986),p=e.i(501222),x=e.i(580711),h=e.i(365205),g=e.i(824226),f=e.i(214519),v="Tabs",[y,j]=(0,u.createContextScope)(v,[m.createRovingFocusGroupScope]),b=(0,m.createRovingFocusGroupScope)(),[N,w]=y(v),k=s.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,onValueChange:i,defaultValue:l,orientation:n="horizontal",dir:o,activationMode:c="automatic",...d}=e,u=(0,h.useDirection)(o),[m,p]=(0,g.useControllableState)({prop:r,onChange:i,defaultProp:l??"",caller:v});return(0,a.jsx)(N,{scope:s,baseId:(0,f.useId)(),value:m,onValueChange:p,orientation:n,dir:u,activationMode:c,children:(0,a.jsx)(x.Primitive.div,{dir:u,"data-orientation":n,...d,ref:t})})});k.displayName=v;var C="TabsList",S=s.forwardRef((e,t)=>{let{__scopeTabs:s,loop:r=!0,...i}=e,l=w(C,s),n=b(s);return(0,a.jsx)(m.Root,{asChild:!0,...n,orientation:l.orientation,dir:l.dir,loop:r,children:(0,a.jsx)(x.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});S.displayName=C;var $="TabsTrigger",T=s.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,disabled:i=!1,...l}=e,n=w($,s),o=b(s),c=R(n.baseId,r),u=E(n.baseId,r),p=r===n.value;return(0,a.jsx)(m.Item,{asChild:!0,...o,focusable:!i,active:p,children:(0,a.jsx)(x.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":u,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...l,ref:t,onMouseDown:(0,d.composeEventHandlers)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():n.onValueChange(r)}),onKeyDown:(0,d.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&n.onValueChange(r)}),onFocus:(0,d.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==n.activationMode;p||i||!e||n.onValueChange(r)})})})});T.displayName=$;var M="TabsContent",P=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,forceMount:l,children:n,...o}=e,c=w(M,r),d=R(c.baseId,i),u=E(c.baseId,i),m=i===c.value,h=s.useRef(m);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(p.Presence,{present:l||m,children:({present:s})=>(0,a.jsx)(x.Primitive.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!s,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&n})})});function R(e,t){return`${e}-trigger-${t}`}function E(e,t){return`${e}-content-${t}`}P.displayName=M,e.i(881658);var A=e.i(689465);let B=s.forwardRef(({className:e,...t},s)=>(0,a.jsx)(S,{ref:s,className:(0,A.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));B.displayName=S.displayName;let I=s.forwardRef(({className:e,...t},s)=>(0,a.jsx)(T,{ref:s,className:(0,A.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));I.displayName=T.displayName;let D=s.forwardRef(({className:e,...t},s)=>(0,a.jsx)(P,{ref:s,className:(0,A.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));D.displayName=P.displayName;var F=e.i(488216),O=e.i(772155),L=e.i(923982),z=e.i(68061),H=e.i(129016),_=e.i(88754);let V=(0,_.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var q=e.i(132979),U=e.i(378076),K=e.i(850207),W=e.i(953886);let G=(0,_.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),X=(0,_.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Z=(0,_.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.i(403936);var Q=e.i(940685),Y=e.i(370292),J=e.i(674273),ee=e.i(60230),et=e.i(291277),ea=e.i(507463),es=e.i(406121),er=e.i(287912),ei=e.i(655417);function el({count:e=4}){return(0,a.jsx)("section",{className:"py-16",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-12",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-8 bg-white/10 rounded-lg w-48 mb-2 animate-pulse"}),(0,a.jsx)("div",{className:"h-4 bg-white/5 rounded w-64 animate-pulse"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-10 w-10 bg-white/10 rounded-lg animate-pulse"}),(0,a.jsx)("div",{className:"h-10 w-10 bg-white/10 rounded-lg animate-pulse"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:e}).map((e,t)=>(0,a.jsxs)(l.Card,{className:"glass-card border-white/10 h-full flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"aspect-[16/10] sm:aspect-[4/3] bg-gradient-to-br from-purple-900/20 to-violet-900/20 relative",children:[(0,a.jsx)("div",{className:"w-full h-full bg-white/5 animate-pulse"}),(0,a.jsx)("div",{className:"absolute top-3 left-3",children:(0,a.jsx)("div",{className:"h-6 w-16 bg-purple-600/30 rounded-full animate-pulse"})})]}),(0,a.jsxs)(l.CardContent,{className:"p-4 flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("div",{className:"h-5 w-20 bg-white/10 rounded-full animate-pulse"})}),(0,a.jsxs)("div",{className:"mb-2 space-y-2",children:[(0,a.jsx)("div",{className:"h-5 bg-white/10 rounded w-full animate-pulse"}),(0,a.jsx)("div",{className:"h-5 bg-white/10 rounded w-3/4 animate-pulse"})]}),(0,a.jsxs)("div",{className:"mb-3 flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-white/5 rounded w-full animate-pulse"}),(0,a.jsx)("div",{className:"h-4 bg-white/5 rounded w-5/6 animate-pulse"})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"h-6 bg-white/10 rounded w-16 animate-pulse"})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"flex-1 h-8 bg-purple-500/20 rounded-lg animate-pulse"}),(0,a.jsx)("div",{className:"flex-1 h-8 bg-gradient-to-r from-purple-600/30 to-violet-600/30 rounded-lg animate-pulse"})]}),(0,a.jsx)("div",{className:"w-full h-6 bg-white/5 rounded mt-2 animate-pulse"})]})]},t))})]})})}function en({currentProductId:e,categorySlug:t,tags:r=[],maxItems:c=4,className:d=""}){let[u,m]=(0,s.useState)([]),[p,x]=(0,s.useState)(!0),[h,g]=(0,s.useState)(null),[f,v]=(0,s.useState)(0),[y,j]=(0,s.useState)(null),[b,N]=(0,s.useState)(null),w=(0,Q.useCart)(e=>e.addItem),{toast:k}=(0,Y.useToast)();(0,s.useEffect)(()=>{C()},[e]);let C=async()=>{try{let a;x(!0),g(null);try{a=await fetch(`/api/marketplace/recommendations/${e}`)}catch{let e=t?`/api/marketplace?category=${t}&limit=${c+1}`:`/api/marketplace?limit=${c+1}`;a=await fetch(e)}if(!a.ok)throw Error("Failed to fetch related products");let s=await a.json();if("success"===s.status){let t=("items"in s.data?s.data.items:"recommendations"in s.data?s.data.recommendations:s.data).filter(t=>t.id!==e).slice(0,c);m(t)}else throw Error("message"in s&&s.message||"Failed to fetch related products")}catch(e){console.error("Error fetching related products:",e),g("Unable to load related products")}finally{x(!1)}},S=(e,t)=>{e.preventDefault(),e.stopPropagation(),w({id:t.id,name:t.title,price:Number(t.discountPrice||t.price),image:t.imageUrl,quantity:1}),k({title:"Added to cart",description:`${t.title} has been added to your cart.`})},$=()=>window.innerWidth>=1280?4:window.innerWidth>=768?3:window.innerWidth>=640?2:1,T=e=>e.discountPrice&&e.discountPrice<e.price;if(p)return(0,a.jsx)("div",{className:d,children:(0,a.jsx)(el,{count:c})});if(h||0===u.length)return(0,a.jsx)("section",{className:`py-16 ${d}`,children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-8 text-center",children:"Related Products"}),h?(0,a.jsx)("div",{className:"flex items-center justify-center py-12 text-center",children:(0,a.jsxs)("div",{className:"glass-card p-8 rounded-2xl",children:[(0,a.jsx)(ei.AlertCircle,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-300 mb-4",children:h}),(0,a.jsx)(o.Button,{variant:"outline",onClick:C,className:"bg-white/5 hover:bg-white/10",children:"Try Again"})]})}):(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-400",children:"No related products found."})})]})});let M=$(),P=f<u.length-M;return(0,a.jsx)("section",{className:`py-16 ${d}`,children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-12",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Related Products"}),(0,a.jsx)("p",{className:"text-gray-400 mt-2",children:"Discover similar products you might like"})]}),u.length>M&&(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,a.jsx)(o.Button,{variant:"outline",size:"icon",onClick:()=>{v(e=>Math.max(e-1,0))},disabled:!(f>0),className:"glass border-white/20 hover:border-purple-500/50 disabled:opacity-30",children:(0,a.jsx)(et.ChevronLeft,{className:"w-4 h-4"})}),(0,a.jsx)(o.Button,{variant:"outline",size:"icon",onClick:()=>{v(e=>Math.min(e+1,u.length-$()))},disabled:!P,className:"glass border-white/20 hover:border-purple-500/50 disabled:opacity-30",children:(0,a.jsx)(ea.ChevronRight,{className:"w-4 h-4"})})]})]}),(0,a.jsx)("div",{className:"relative overflow-hidden",children:(0,a.jsx)(i.motion.div,{className:"flex gap-6",animate:{x:`calc(-${100/M*f}% - ${1.5*f}rem)`},transition:{type:"spring",stiffness:300,damping:30},onTouchStart:e=>{N(null),j(e.targetTouches[0].clientX)},onTouchMove:e=>{N(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!y||!b)return;let e=y-b;e>50&&f<u.length-$()&&v(e=>e+1),e<-50&&f>0&&v(e=>e-1)},children:(0,a.jsx)(J.AnimatePresence,{children:u.map((e,t)=>{var s;return(0,a.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,delay:.1*t},className:"flex-shrink-0 w-full sm:w-1/2 md:w-1/3 xl:w-1/4",children:(0,a.jsxs)(l.Card,{className:"group overflow-hidden cursor-pointer hover:shadow-xl hover:shadow-purple-500/20 transition-all duration-300 glass-card border-white/10 hover:border-white/20 h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"aspect-[16/10] sm:aspect-[4/3] overflow-hidden bg-gradient-to-br from-purple-900/20 to-violet-900/20 relative",children:[(0,a.jsx)(ee.default,{href:`/marketplace/${e.slug}`,children:(0,a.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"})}),(0,a.jsx)("div",{className:"absolute top-3 left-3",children:(0,a.jsxs)(n.Badge,{className:"bg-purple-600 text-white border-0",children:[(0,a.jsx)(er.Download,{className:"w-3 h-3 mr-1"}),"Digital"]})}),e.featured&&(0,a.jsx)("div",{className:"absolute top-3 right-3",children:(0,a.jsxs)(n.Badge,{className:"bg-yellow-600 text-white border-0",children:[(0,a.jsx)(H.Star,{className:"w-3 h-3 mr-1"}),"Featured"]})}),T(e)&&(0,a.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,a.jsxs)(n.Badge,{className:"bg-red-600 text-white border-0",children:["Save $",(e.price-e.discountPrice).toFixed(0)]})})]}),(0,a.jsxs)(l.CardContent,{className:"p-4 flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)(n.Badge,{variant:"outline",className:"text-xs",children:e.category.name})}),(0,a.jsx)(ee.default,{href:`/marketplace/${e.slug}`,children:(0,a.jsx)("h3",{className:"text-base font-semibold mb-2 text-white group-hover:text-purple-200 transition-colors line-clamp-2",children:e.title})}),(0,a.jsx)("p",{className:"text-sm text-gray-300 line-clamp-2 mb-3 flex-1",children:e.description}),(0,a.jsx)("div",{className:"mb-4",children:e.customPricing?(0,a.jsx)("div",{className:"text-sm font-bold text-purple-400",children:(s=e).customPricing?s.priceRangeMin&&s.priceRangeMax?`$${s.priceRangeMin} - $${s.priceRangeMax}`:"Contact for pricing":s.discountPrice||s.price}):T(e)?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-green-400",children:["$",e.discountPrice]}),(0,a.jsxs)("span",{className:"text-xs text-gray-400 line-through",children:["$",e.price]})]}):(0,a.jsxs)("div",{className:"text-lg font-bold text-white",children:["$",e.price]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(o.Button,{variant:"outline",size:"sm",className:"flex-1 border-purple-500/50 text-purple-300 hover:bg-purple-500/20 text-xs",onClick:t=>S(t,e),disabled:"AVAILABLE"!==e.status,children:[(0,a.jsx)(O.ShoppingCart,{className:"w-3 h-3 mr-1"}),"Add"]}),(0,a.jsxs)(o.Button,{size:"sm",className:"flex-1 bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-700 hover:to-violet-700 text-white border-0 text-xs",onClick:t=>{t.preventDefault(),S(t,e),window.location.href="/checkout"},disabled:"AVAILABLE"!==e.status,children:[(0,a.jsx)(es.CreditCard,{className:"w-3 h-3 mr-1"}),"Buy"]})]}),(0,a.jsx)(o.Button,{asChild:!0,variant:"ghost",size:"sm",className:"w-full text-gray-300 hover:text-white text-xs mt-2",children:(0,a.jsx)(ee.default,{href:`/marketplace/${e.slug}`,children:"View Details"})})]})]})},e.id)})})})}),u.length>1&&(0,a.jsx)("div",{className:"flex justify-center mt-6 sm:hidden",children:(0,a.jsx)("div",{className:"flex gap-2",children:Array.from({length:Math.ceil(u.length/M)}).map((e,t)=>(0,a.jsx)("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${Math.floor(f/M)===t?"bg-purple-500":"bg-white/30"}`},t))})})]})})}let eo=(0,_.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var ec=e.i(422499),ed=e.i(284923),eu=e.i(952075);let em=(0,_.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ep=(0,_.default)("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),ex=(0,_.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var eh=e.i(325014),eg=e.i(263758),ef=e.i(885487),ev=(e.i(151362),Symbol("radix.slottable")),ey=e.i(297157),[ej,eb]=(0,u.createContextScope)("Tooltip",[ef.createPopperScope]),eN=(0,ef.createPopperScope)(),ew="TooltipProvider",ek="tooltip.open",[eC,eS]=ej(ew),e$=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:i=300,disableHoverableContent:l=!1,children:n}=e,o=s.useRef(!0),c=s.useRef(!1),d=s.useRef(0);return s.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,a.jsx)(eC,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:s.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:s.useCallback(e=>{c.current=e},[]),disableHoverableContent:l,children:n})};e$.displayName=ew;var eT="Tooltip",[eM,eP]=ej(eT),eR=e=>{let{__scopeTooltip:t,children:r,open:i,defaultOpen:l,onOpenChange:n,disableHoverableContent:o,delayDuration:c}=e,d=eS(eT,e.__scopeTooltip),u=eN(t),[m,p]=s.useState(null),x=(0,f.useId)(),h=s.useRef(0),v=o??d.disableHoverableContent,y=c??d.delayDuration,j=s.useRef(!1),[b,N]=(0,g.useControllableState)({prop:i,defaultProp:l??!1,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(ek))):d.onClose(),n?.(e)},caller:eT}),w=s.useMemo(()=>b?j.current?"delayed-open":"instant-open":"closed",[b]),k=s.useCallback(()=>{window.clearTimeout(h.current),h.current=0,j.current=!1,N(!0)},[N]),C=s.useCallback(()=>{window.clearTimeout(h.current),h.current=0,N(!1)},[N]),S=s.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{j.current=!0,N(!0),h.current=0},y)},[y,N]);return s.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),(0,a.jsx)(ef.Root,{...u,children:(0,a.jsx)(eM,{scope:t,contentId:x,open:b,stateAttribute:w,trigger:m,onTriggerChange:p,onTriggerEnter:s.useCallback(()=>{d.isOpenDelayedRef.current?S():k()},[d.isOpenDelayedRef,S,k]),onTriggerLeave:s.useCallback(()=>{v?C():(window.clearTimeout(h.current),h.current=0)},[C,v]),onOpen:k,onClose:C,disableHoverableContent:v,children:r})})};eR.displayName=eT;var eE="TooltipTrigger",eA=s.forwardRef((e,t)=>{let{__scopeTooltip:r,...i}=e,l=eP(eE,r),n=eS(eE,r),o=eN(r),c=s.useRef(null),u=(0,eh.useComposedRefs)(t,c,l.onTriggerChange),m=s.useRef(!1),p=s.useRef(!1),h=s.useCallback(()=>m.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),(0,a.jsx)(ef.Anchor,{asChild:!0,...o,children:(0,a.jsx)(x.Primitive.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...i,ref:u,onPointerMove:(0,d.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(p.current||n.isPointerInTransitRef.current||(l.onTriggerEnter(),p.current=!0))}),onPointerLeave:(0,d.composeEventHandlers)(e.onPointerLeave,()=>{l.onTriggerLeave(),p.current=!1}),onPointerDown:(0,d.composeEventHandlers)(e.onPointerDown,()=>{l.open&&l.onClose(),m.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:(0,d.composeEventHandlers)(e.onFocus,()=>{m.current||l.onOpen()}),onBlur:(0,d.composeEventHandlers)(e.onBlur,l.onClose),onClick:(0,d.composeEventHandlers)(e.onClick,l.onClose)})})});eA.displayName=eE;var[eB,eI]=ej("TooltipPortal",{forceMount:void 0}),eD="TooltipContent",eF=s.forwardRef((e,t)=>{let s=eI(eD,e.__scopeTooltip),{forceMount:r=s.forceMount,side:i="top",...l}=e,n=eP(eD,e.__scopeTooltip);return(0,a.jsx)(p.Presence,{present:r||n.open,children:n.disableHoverableContent?(0,a.jsx)(e_,{side:i,...l,ref:t}):(0,a.jsx)(eO,{side:i,...l,ref:t})})}),eO=s.forwardRef((e,t)=>{let r=eP(eD,e.__scopeTooltip),i=eS(eD,e.__scopeTooltip),l=s.useRef(null),n=(0,eh.useComposedRefs)(t,l),[o,c]=s.useState(null),{trigger:d,onClose:u}=r,m=l.current,{onPointerInTransitChange:p}=i,x=s.useCallback(()=>{c(null),p(!1)},[p]),h=s.useCallback((e,t)=>{let a,s=e.currentTarget,r={x:e.clientX,y:e.clientY},i=function(e,t){let a=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(a,s,r,i)){case i:return"left";case r:return"right";case a:return"top";case s:return"bottom";default:throw Error("unreachable")}}(r,s.getBoundingClientRect());c(((a=[...function(e,t,a=5){let s=[];switch(t){case"top":s.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":s.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":s.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":s.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a})}return s}(r,i),...function(e){let{top:t,right:a,bottom:s,left:r}=e;return[{x:r,y:t},{x:a,y:t},{x:a,y:s},{x:r,y:s}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let a=0;a<e.length;a++){let s=e[a];for(;t.length>=2;){let e=t[t.length-1],a=t[t.length-2];if((e.x-a.x)*(s.y-a.y)>=(e.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();let a=[];for(let t=e.length-1;t>=0;t--){let s=e[t];for(;a.length>=2;){let e=a[a.length-1],t=a[a.length-2];if((e.x-t.x)*(s.y-t.y)>=(e.y-t.y)*(s.x-t.x))a.pop();else break}a.push(s)}return(a.pop(),1===t.length&&1===a.length&&t[0].x===a[0].x&&t[0].y===a[0].y)?t:t.concat(a)}(a))),p(!0)},[p]);return s.useEffect(()=>()=>x(),[x]),s.useEffect(()=>{if(d&&m){let e=e=>h(e,m),t=e=>h(e,d);return d.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[d,m,h,x]),s.useEffect(()=>{if(o){let e=e=>{let t=e.target,a={x:e.clientX,y:e.clientY},s=d?.contains(t)||m?.contains(t),r=!function(e,t){let{x:a,y:s}=e,r=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){let l=t[e],n=t[i],o=l.x,c=l.y,d=n.x,u=n.y;c>s!=u>s&&a<(d-o)*(s-c)/(u-c)+o&&(r=!r)}return r}(a,o);s?x():r&&(x(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,m,o,u,x]),(0,a.jsx)(e_,{...e,ref:n})}),[eL,ez]=ej(eT,{isInside:!1}),eH=((t=({children:e})=>(0,a.jsx)(a.Fragment,{children:e})).displayName="TooltipContent.Slottable",t.__radixId=ev,t),e_=s.forwardRef((e,t)=>{let{__scopeTooltip:r,children:i,"aria-label":l,onEscapeKeyDown:n,onPointerDownOutside:o,...c}=e,d=eP(eD,r),u=eN(r),{onClose:m}=d;return s.useEffect(()=>(document.addEventListener(ek,m),()=>document.removeEventListener(ek,m)),[m]),s.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;t?.contains(d.trigger)&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,m]),(0,a.jsx)(eg.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,a.jsxs)(ef.Content,{"data-state":d.stateAttribute,...u,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,a.jsx)(eH,{children:i}),(0,a.jsx)(eL,{scope:r,isInside:!0,children:(0,a.jsx)(ey.Root,{id:d.contentId,role:"tooltip",children:l||i})})]})})});eF.displayName=eD;var eV="TooltipArrow";s.forwardRef((e,t)=>{let{__scopeTooltip:s,...r}=e,i=eN(s);return ez(eV,s).isInside?null:(0,a.jsx)(ef.Arrow,{...i,...r,ref:t})}).displayName=eV;let eq=s.forwardRef(({className:e,sideOffset:t=4,...s},r)=>(0,a.jsx)(eF,{ref:r,sideOffset:t,className:(0,A.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));eq.displayName=eF.displayName;let eU={"secure-payment":{id:"secure-payment",icon:es.CreditCard,label:"Secure Payment",description:"Your payment information is encrypted and secure",color:"text-green-400",variant:"success"},"money-back":{id:"money-back",icon:ex,label:"30-Day Guarantee",description:"Full refund if not satisfied within 30 days",color:"text-blue-400",variant:"info"},"free-shipping":{id:"free-shipping",icon:eo,label:"Free Shipping",description:"Free delivery on all digital products",color:"text-green-400",variant:"success"},"instant-delivery":{id:"instant-delivery",icon:K.Zap,label:"Instant Delivery",description:"Digital products delivered immediately",color:"text-yellow-400",variant:"warning"},"verified-seller":{id:"verified-seller",icon:eu.CheckCircle,label:"Verified Seller",description:"Trusted and verified by our team",color:"text-blue-400",variant:"info"},"24-7-support":{id:"24-7-support",icon:ep,label:"24/7 Support",description:"Round-the-clock customer support",color:"text-purple-400",variant:"default"},"ssl-secure":{id:"ssl-secure",icon:em,label:"SSL Secured",description:"All data transmitted is encrypted",color:"text-green-400",variant:"success"},bestseller:{id:"bestseller",icon:ed.Award,label:"Bestseller",description:"One of our most popular products",color:"text-yellow-400",variant:"warning"},"new-product":{id:"new-product",icon:H.Star,label:"New",description:"Recently added to our marketplace",color:"text-purple-400",variant:"default"},warranty:{id:"warranty",icon:q.Shield,label:"Warranty",description:"Covered by our comprehensive warranty",color:"text-blue-400",variant:"info"},"fast-delivery":{id:"fast-delivery",icon:ec.Clock,label:"Fast Delivery",description:"Quick turnaround time",color:"text-green-400",variant:"success"},"customer-choice":{id:"customer-choice",icon:L.Heart,label:"Customer Choice",description:"Highly rated by customers",color:"text-red-400",variant:"default"}};function eK({badges:e=[],layout:t="horizontal",size:s="md",showLabels:r=!0,className:l="",productType:o="PRODUCT",features:c={}}){let d,u=(e.length>0?e:((d=[]).push("secure-payment","ssl-secure"),c.hasGuarantee&&d.push("money-back"),c.hasFreeShipping&&d.push("free-shipping"),c.hasInstantDelivery&&d.push("instant-delivery"),c.isVerifiedSeller&&d.push("verified-seller"),c.hasSupport&&d.push("24-7-support"),c.isBestseller&&d.push("bestseller"),c.isNewProduct&&d.push("new-product"),c.hasWarranty&&d.push("warranty"),"PRODUCT"===o?!d.includes("instant-delivery")&&d.push("fast-delivery"):d.push("customer-choice"),d)).map(e=>eU[e]).filter(Boolean);if(0===u.length)return null;let m={sm:{icon:"w-3 h-3",badge:"text-xs px-2 py-1",gap:"gap-1"},md:{icon:"w-4 h-4",badge:"text-sm px-3 py-1.5",gap:"gap-2"},lg:{icon:"w-5 h-5",badge:"text-base px-4 py-2",gap:"gap-3"}}[s];return(0,a.jsx)(e$,{children:(0,a.jsx)("div",{className:`${{horizontal:"flex flex-wrap",vertical:"flex flex-col",grid:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4"}[t]} ${m.gap} ${l}`,children:u.map((e,s)=>{let l=e.icon;return(0,a.jsxs)(eR,{children:[(0,a.jsx)(eA,{asChild:!0,children:(0,a.jsx)(i.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*s},className:"cursor-help",children:(0,a.jsxs)(n.Badge,{variant:"outline",className:`
                      glass-badge border-border/50 hover:border-border transition-all duration-200
                      ${m.badge}
                      ${"vertical"===t?"justify-start":""}
                      group hover:scale-105
                    `,children:[(0,a.jsx)(l,{className:`${m.icon} ${e.color} mr-1.5`}),r&&(0,a.jsx)("span",{className:"text-foreground group-hover:text-white transition-colors",children:e.label})]})})}),(0,a.jsxs)(eq,{side:"top",className:"glass-elevated max-w-xs text-center",children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:e.label}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]})]},e.id)})})})}var eW=e.i(520978);let eG=(0,_.default)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),eX=(0,_.default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var eZ=e.i(949654);e.i(323583);var eQ=e.i(19317),eY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,eQ.createSlot)(`Primitive.${t}`),i=s.forwardRef((e,s)=>{let{asChild:i,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i?r:t,{...l,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),eJ="Progress",[e0,e1]=function(e,t=[]){let r=[],i=()=>{let t=r.map(e=>s.createContext(e));return function(a){let r=a?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return i.scopeName=e,[function(t,i){let l=s.createContext(i);l.displayName=t+"Context";let n=r.length;r=[...r,i];let o=t=>{let{scope:r,children:i,...o}=t,c=r?.[e]?.[n]||l,d=s.useMemo(()=>o,Object.values(o));return(0,a.jsx)(c.Provider,{value:d,children:i})};return o.displayName=t+"Provider",[o,function(a,r){let o=r?.[e]?.[n]||l,c=s.useContext(o);if(c)return c;if(void 0!==i)return i;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:a,scopeName:s})=>{let r=a(e)[`__scope${s}`];return{...t,...r}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(i,...t)]}(eJ),[e2,e4]=e0(eJ),e3=s.forwardRef((e,t)=>{var s,r;let{__scopeProgress:i,value:l=null,max:n,getValueLabel:o=e8,...c}=e;(n||0===n)&&!te(n)&&console.error((s=`${n}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let d=te(n)?n:100;null===l||tt(l,d)||console.error((r=`${l}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=tt(l,d)?l:null,m=e7(u)?o(u,d):void 0;return(0,a.jsx)(e2,{scope:i,value:u,max:d,children:(0,a.jsx)(eY.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":e7(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":e9(u,d),"data-value":u??void 0,"data-max":d,...c,ref:t})})});e3.displayName=eJ;var e5="ProgressIndicator",e6=s.forwardRef((e,t)=>{let{__scopeProgress:s,...r}=e,i=e4(e5,s);return(0,a.jsx)(eY.div,{"data-state":e9(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});function e8(e,t){return`${Math.round(e/t*100)}%`}function e9(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function e7(e){return"number"==typeof e}function te(e){return e7(e)&&!isNaN(e)&&e>0}function tt(e,t){return e7(e)&&!isNaN(e)&&e<=t&&e>=0}e6.displayName=e5;let ta=s.forwardRef(({className:e,value:t,...s},r)=>(0,a.jsx)(e3,{ref:r,className:(0,A.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:(0,a.jsx)(e6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));function ts({productId:e,stock:t=0,viewerCount:r=0,salesCount:l=0,timeLeft:n=0,discount:o,recentActivity:c,lowStockThreshold:d=10,showCountdown:u=!0,showViewers:m=!0,showSales:p=!0,showStock:x=!0,className:h=""}){let g,f,v,[y,j]=(0,s.useState)(r),[b,N]=(0,s.useState)(n),[w,k]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(!m||0===r)return;let e=setInterval(()=>{j(Math.min(Math.max(0,y+(Math.floor(5*Math.random())-2)),r+10))},3e3+2e3*Math.random());return()=>clearInterval(e)},[y,r,m]),(0,s.useEffect)(()=>{if(!u||b<=0)return;let e=setInterval(()=>{N(e=>e<=1?(k(!1),0):e-1)},1e3);return()=>clearInterval(e)},[b,u]);let C=t>0&&t<=d,S=y>=10,$=c&&c.purchases>0,T=o&&o.percentage>0,M=b>0,P=[];m&&y>0&&P.push({id:"viewers",icon:U.Eye,content:(0,a.jsx)(i.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,a.jsx)(U.Eye,{className:"w-4 h-4 text-green-400"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:y}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"viewing"})]})},"viewers"),priority:3}),x&&C&&P.push({id:"stock",icon:V,content:(0,a.jsxs)(i.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center gap-2",children:[(0,a.jsx)(V,{className:"w-4 h-4 text-orange-400"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-orange-400",children:["Only ",t," left!"]}),(0,a.jsx)(ta,{value:t/d*100,className:"w-16 h-1"})]})]},"stock"),priority:5}),p&&$&&P.push({id:"sales",icon:eW.TrendingUp,content:(0,a.jsxs)(i.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-2",children:[(0,a.jsx)(eG,{className:"w-4 h-4 text-red-400"}),(0,a.jsxs)("span",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-red-400",children:c?.purchases}),(0,a.jsxs)("span",{className:"text-muted-foreground ml-1",children:["sold ",c?.timeframe]})]})]},"sales"),priority:4}),T&&M&&P.push({id:"discount",icon:eX,content:(0,a.jsxs)(i.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center gap-2",children:[(0,a.jsx)(eX,{className:`w-4 h-4 ${b<300?"text-red-400 animate-pulse":"text-yellow-400"}`}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-yellow-400",children:[o.percentage,"% OFF"]}),(0,a.jsxs)("span",{className:`text-xs ${b<300?"text-red-400":"text-muted-foreground"}`,children:[(g=Math.floor(b/3600),f=Math.floor(b%3600/60),v=b%60,g>0?`${g}h ${f}m ${v}s`:f>0?`${f}m ${v}s`:`${v}s`)," left"]})]})]},"discount"),priority:6}),l>50&&P.push({id:"bestseller",icon:eZ.Target,content:(0,a.jsxs)(i.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:[(0,a.jsx)(eZ.Target,{className:"w-4 h-4 text-purple-400"}),(0,a.jsx)("span",{className:"text-sm text-purple-400 font-medium",children:"Bestseller"})]},"bestseller"),priority:2}),S&&C&&P.push({id:"high-demand",icon:K.Zap,content:(0,a.jsxs)(i.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center gap-2",children:[(0,a.jsx)(K.Zap,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-yellow-400 font-medium",children:"High Demand"})]},"high-demand"),priority:6});let R=P.sort((e,t)=>t.priority-e.priority).slice(0,3);return 0!==R.length&&w?(0,a.jsx)(J.AnimatePresence,{children:(0,a.jsxs)(i.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`space-y-3 ${h}`,children:[R.map(e=>(0,a.jsx)(i.motion.div,{layout:!0,className:"glass-card p-3 border border-border/30 bg-background/5 backdrop-blur-sm",children:e.content},e.id)),C&&S&&(0,a.jsx)(i.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-card p-3 border border-red-500/30 bg-red-500/5",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ei.AlertCircle,{className:"w-4 h-4 text-red-400 animate-pulse"}),(0,a.jsx)("span",{className:"text-sm font-medium text-red-400",children:"Almost sold out!"})]})})]})}):null}ta.displayName=e3.displayName;let tr=({data:e})=>(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(e)}}),ti=({name:e,description:t,price:s,currency:r,image:i,url:l,brand:n,category:o,inStock:c=!0,reviews:d,sku:u})=>{let m={"@context":"https://schema.org","@type":"Product",name:e,description:t,url:l,brand:{"@type":"Brand",name:n||"Astralis Agency"},...i&&{image:{"@type":"ImageObject",url:i}},...o&&{category:o},...u&&{sku:u},offers:{"@type":"Offer",price:s.toString(),priceCurrency:r,availability:c?"https://schema.org/InStock":"https://schema.org/OutOfStock",seller:{"@type":"Organization",name:"Astralis Agency"}},...d&&{aggregateRating:{"@type":"AggregateRating",ratingValue:d.rating.toString(),reviewCount:d.reviewCount.toString()}}};return(0,a.jsx)(tr,{data:m})};function tl(){let e=(0,r.useParams)(),t=(0,r.useRouter)(),d=e?.id||"",[u,m]=(0,s.useState)(null),[p,x]=(0,s.useState)(!0),[h,g]=(0,s.useState)(null),[f,v]=(0,s.useState)(1),[y,j]=(0,s.useState)(0),[b,N]=(0,s.useState)(!1),[w,C]=(0,s.useState)("overview"),[S,$]=(0,s.useState)(Math.floor(50*Math.random())+10),T=(0,Q.useCart)(e=>e.addItem),{toast:M}=(0,Y.useToast)();(0,s.useEffect)(()=>{let e=setInterval(()=>{$(e=>Math.max(5,e+(Math.floor(3*Math.random())-1)))},5e3);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{(async()=>{if(d)try{x(!0);let e=await fetch(`/api/marketplace/${d}`),t=await e.json();"success"===t.status?m(t.data):g("Product not found")}catch(e){g("Failed to load product details"),console.error("Error fetching product:",e)}finally{x(!1)}})()},[d]);let P=()=>{u&&(T({id:u.id,name:u.title,price:Number(u.discountPrice||u.price),image:u.imageUrl,quantity:f}),M({title:"Added to cart",description:`${f} x ${u.title} added to your cart.`}))},R=async()=>{if(navigator.share)try{await navigator.share({title:u?.title,text:u?.description,url:window.location.href})}catch(e){console.log("Error sharing:",e)}else navigator.clipboard.writeText(window.location.href),M({title:"Link copied",description:"Product link copied to clipboard."})};if(p)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-8",children:[(0,a.jsx)("div",{className:"h-8 bg-muted/10 rounded w-1/4 mb-6"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"aspect-square bg-muted/10 rounded-lg"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"aspect-square bg-muted/10 rounded"},t))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"h-6 bg-muted/10 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-muted/10 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-20 bg-muted/10 rounded"}),(0,a.jsx)("div",{className:"h-12 bg-muted/10 rounded w-1/3"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-12 bg-muted/10 rounded"}),(0,a.jsx)("div",{className:"h-12 bg-muted/10 rounded"})]})]})]})]})})});if(h||!u)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"glass-card p-12 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Product Not Found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6 text-lg",children:h||"The product you are looking for does not exist."}),(0,a.jsxs)(o.Button,{onClick:()=>t.push("/marketplace"),className:"glass-button",children:[(0,a.jsx)(F.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Marketplace"]})]})})});let E=Number(u.discountPrice||u.price),A=u.discountPrice&&Number(u.discountPrice)<Number(u.price),_=u.stock<=10,J=u.galleryImages&&u.galleryImages.length>0?[u.imageUrl,...u.galleryImages]:[u.imageUrl];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ti,{name:u.title,description:u.description,price:u.discountPrice||u.price,currency:"USD",image:u.imageUrl,url:`https://astralis.one/marketplace/${u.slug}`,brand:"Astralis Agency",category:u.category?.name,inStock:u.stock>0,sku:u.id,reviews:u.averageRating?{rating:u.averageRating,reviewCount:u.reviewCount||0}:void 0}),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-8",children:[(0,a.jsxs)(o.Button,{variant:"ghost",onClick:()=>t.push("/marketplace"),className:"glass-button mb-6",children:[(0,a.jsx)(F.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Marketplace"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-lg glass-card border-0",children:[(0,a.jsx)("img",{src:J[y],alt:u.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[u.featured&&(0,a.jsx)(n.Badge,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0",children:"Featured"}),A&&(0,a.jsxs)(n.Badge,{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white border-0",children:["-",Math.round((Number(u.price)-E)/Number(u.price)*100),"% OFF"]})]}),(0,a.jsx)("div",{className:"absolute bottom-4 right-4",children:(0,a.jsxs)("div",{className:"glass-card px-3 py-2 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,a.jsx)(U.Eye,{className:"w-4 h-4 text-green-400"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:S})]})})]}),J.length>1&&(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:J.slice(0,4).map((e,t)=>(0,a.jsx)("button",{onClick:()=>j(t),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${y===t?"border-primary shadow-lg shadow-primary/25":"border-border/30 hover:border-border"}`,children:(0,a.jsx)("img",{src:e,alt:`${u.title} ${t+1}`,className:"w-full h-full object-cover"})},t))})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.Badge,{variant:"outline",className:"glass-badge",children:u.category.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{N(!b),M({title:b?"Removed from wishlist":"Added to wishlist",description:b?`${u?.title} removed from your wishlist.`:`${u?.title} added to your wishlist.`})},className:`glass-button p-2 ${b?"text-red-400 border-red-400/50":""}`,children:(0,a.jsx)(L.Heart,{className:`w-4 h-4 ${b?"fill-current":""}`})}),(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:R,className:"glass-button p-2",children:(0,a.jsx)(z.Share2,{className:"w-4 h-4"})})]})]}),(0,a.jsx)("h1",{className:"text-4xl lg:text-5xl font-bold leading-tight bg-gradient-to-r from-white via-gray-200 to-white bg-clip-text text-transparent",children:u.title}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(H.Star,{className:`w-5 h-5 ${t<Math.floor(u.ratingAverage||4.5)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`},t)),(0,a.jsx)("span",{className:"ml-2 text-lg font-medium",children:u.ratingAverage||4.5}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["(",u.ratingCount||23," reviews)"]})]}),(0,a.jsx)(c.Separator,{orientation:"vertical",className:"h-6"}),(0,a.jsxs)("div",{className:"text-muted-foreground",children:[Math.floor(500*Math.random())+100," sold"]})]})]}),(0,a.jsx)(ts,{productId:u.id,stock:u.stock,viewerCount:S,salesCount:Math.floor(100*Math.random())+50,recentActivity:{purchases:Math.floor(10*Math.random())+1,timeframe:"today"},showViewers:!0,showStock:_,showSales:!0}),(0,a.jsxs)("div",{className:"glass-card p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-4xl font-bold bg-gradient-to-r from-primary-400 to-blue-400 bg-clip-text text-transparent",children:["$",E.toFixed(2)]}),A&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("span",{className:"text-xl text-muted-foreground line-through",children:["$",Number(u.price).toFixed(2)]}),(0,a.jsxs)(n.Badge,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0",children:["Save $",(Number(u.price)-E).toFixed(2)]})]})]}),(0,a.jsx)(eK,{productType:u.itemType||"PRODUCT",features:{hasSecurePayment:!0,hasInstantDelivery:"PRODUCT"===(u.itemType||"PRODUCT"),hasGuarantee:!0,isVerifiedSeller:!0,hasSupport:!0},size:"sm",layout:"horizontal"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Description"}),(0,a.jsx)("p",{className:"text-muted-foreground leading-relaxed text-lg",children:u.description})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(V,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:`font-medium ${u.stock>0?_?"text-orange-400":"text-green-400":"text-red-400"}`,children:u.stock>0?`${u.stock} in stock${_?" - Limited quantity!":""}`:"Out of stock"})]}),u.stock>0&&(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("label",{htmlFor:"quantity",className:"font-medium text-foreground",children:"Quantity:"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>v(Math.max(1,f-1)),disabled:f<=1,className:"glass-button p-2",children:(0,a.jsx)(X,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"w-12 text-center font-medium text-lg",children:f}),(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>v(Math.min(u.stock,f+1)),disabled:f>=u.stock,className:"glass-button p-2",children:(0,a.jsx)(Z,{className:"w-4 h-4"})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[u.stock>0?(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,a.jsxs)(o.Button,{onClick:P,size:"lg",className:"glass-button-primary text-lg h-14",children:[(0,a.jsx)(O.ShoppingCart,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),(0,a.jsxs)(o.Button,{onClick:()=>{P(),t.push("/checkout")},variant:"outline",size:"lg",className:"glass-button text-lg h-14",children:[(0,a.jsx)(K.Zap,{className:"w-5 h-5 mr-2"}),"Buy Now"]})]}):(0,a.jsxs)(o.Button,{disabled:!0,size:"lg",className:"w-full h-14",children:[(0,a.jsx)(V,{className:"w-5 h-5 mr-2"}),"Out of Stock"]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)(o.Button,{variant:"outline",size:"sm",className:"glass-button w-full",onClick:()=>{let e=document.getElementById("ai-chat-trigger");e&&(sessionStorage.setItem("chatContext",JSON.stringify({type:"product_inquiry",product:{title:u.title,description:u.description,price:u.price,category:u.category?.name,id:u.id}})),e.click())},children:[(0,a.jsx)(W.MessageCircle,{className:"w-4 h-4 mr-2"}),"Ask Question About This Product"]})})]})]})]}),(0,a.jsx)("div",{className:"mt-12",children:(0,a.jsxs)(k,{value:w,onValueChange:C,className:"w-full",children:[(0,a.jsxs)(B,{className:"glass-card grid w-full grid-cols-4 p-1",children:[(0,a.jsx)(I,{value:"overview",className:"data-[state=active]:bg-primary/20",children:"Overview"}),(0,a.jsx)(I,{value:"features",className:"data-[state=active]:bg-primary/20",children:"Features"}),(0,a.jsx)(I,{value:"specs",className:"data-[state=active]:bg-primary/20",children:"Specifications"}),(0,a.jsx)(I,{value:"reviews",className:"data-[state=active]:bg-primary/20",children:"Reviews"})]}),(0,a.jsx)(D,{value:"overview",className:"mt-6",children:(0,a.jsxs)("div",{className:"glass-card p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Product Overview"}),(0,a.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:u.description})]}),u.features&&u.features.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-3",children:"Key Highlights"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.features.slice(0,6).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-foreground",children:e})]},t))})]})]})}),(0,a.jsx)(D,{value:"features",className:"mt-6",children:(0,a.jsx)("div",{className:"glass-card p-6",children:u.features&&u.features.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"All Features"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3",children:u.features.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/5",children:[(0,a.jsx)(G,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-foreground",children:e})]},t))})]}):(0,a.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No detailed features available for this product."})})}),(0,a.jsx)(D,{value:"specs",className:"mt-6",children:(0,a.jsx)("div",{className:"glass-card p-6",children:u.specifications&&u.specifications.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"Technical Specifications"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3",children:u.specifications.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between p-3 rounded-lg bg-muted/5",children:[(0,a.jsxs)("span",{className:"font-medium text-foreground",children:["Specification ",t+1]}),(0,a.jsx)("span",{className:"text-muted-foreground",children:e})]},t))})]}):(0,a.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No technical specifications available for this product."})})}),(0,a.jsx)(D,{value:"reviews",className:"mt-6",children:(0,a.jsx)("div",{className:"glass-card p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),(0,a.jsx)(o.Button,{variant:"outline",className:"glass-button",children:"Write a Review"})]}),(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No reviews yet. Be the first to review this product!"})})]})})})]})}),(0,a.jsx)("div",{className:"mt-16",children:(0,a.jsx)(en,{currentProductId:u.id,categorySlug:u.category.slug,tags:u.tags.map(e=>e.slug),maxItems:8})}),(0,a.jsx)("div",{className:"mt-12",children:(0,a.jsxs)(l.Card,{className:"glass-card border-border/30",children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Seller Information"})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[u.seller.avatar?(0,a.jsx)("img",{src:u.seller.avatar,alt:u.seller.name,className:"w-16 h-16 rounded-full border-2 border-border"}):(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/20 to-blue/20 rounded-full flex items-center justify-center border-2 border-border",children:(0,a.jsx)("span",{className:"text-2xl font-bold text-primary",children:u.seller.name.charAt(0)})}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-foreground",children:u.seller.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.Badge,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[(0,a.jsx)(q.Shield,{className:"w-3 h-3 mr-1"}),"Verified Seller"]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:""}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Member since 2020"})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Trusted by ",Math.floor(5e3*Math.random())+1e3,"+ customers"]})]})]})})]})}),u.tags&&u.tags.length>0&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:u.tags.map(e=>(0,a.jsx)(n.Badge,{variant:"outline",className:"glass-badge",children:e.name},e.id))})]})]})})})]})}e.s(["default",()=>tl],951169)}]);