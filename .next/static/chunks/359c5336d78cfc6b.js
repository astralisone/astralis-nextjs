(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,237829,e=>{"use strict";let s=(0,e.i(88754).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],237829)},571556,e=>{"use strict";var s=e.i(942527),r=e.i(684603),t=e.i(994281),l=e.i(798317),a=e.i(141006),i=e.i(952075);let c=(0,e.i(88754).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var n=e.i(237829),o=e.i(113779);function d(){let e=(0,t.useSearchParams)(),d=(0,t.useRouter)(),m=e.get("token"),[x,u]=(0,r.useState)("loading"),[h,b]=(0,r.useState)("");return(0,r.useEffect)(()=>{if(!m){u("invalid"),b("Invalid confirmation link. No token provided.");return}(async()=>{try{let e=await fetch(`/api/newsletter/confirm?token=${m}`,{method:"GET"}),s=await e.json();e.ok&&s.success?(u("success"),b(s.message||"Your newsletter subscription has been confirmed!")):(u("error"),b(s.message||"Failed to confirm subscription. The link may be invalid or expired."))}catch(e){u("error"),b("An error occurred while confirming your subscription. Please try again later.")}})()},[m]),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-primary-950/20 flex items-center justify-center p-4",children:(0,s.jsx)(a.Card,{className:"glass-elevated border-white/10 max-w-md w-full",children:(0,s.jsxs)(a.CardContent,{className:"p-8",children:["loading"===x&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-blue-500/30",children:(0,s.jsx)(n.Loader2,{className:"w-8 h-8 text-blue-400 animate-spin"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Confirming Your Subscription"}),(0,s.jsx)("p",{className:"text-gray-300",children:"Please wait while we confirm your email address..."})]}),"success"===x&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-green-500/30",children:(0,s.jsx)(i.CheckCircle,{className:"w-8 h-8 text-green-400"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Subscription Confirmed!"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:h}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"glass-card p-4 rounded-lg border border-green-500/20 bg-green-500/5",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(o.Mail,{className:"w-5 h-5 text-green-400"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"text-white text-sm font-semibold",children:"You're all set!"}),(0,s.jsx)("p",{className:"text-gray-300 text-xs",children:"You'll start receiving our newsletter based on your preferences."})]})]})}),(0,s.jsx)(l.Button,{onClick:()=>d.push("/"),className:"w-full btn-primary",children:"Return to Homepage"}),(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>d.push("/blog"),className:"w-full glass-card border-white/20 text-white hover:border-primary-500/50",children:"Browse Our Blog"})]})]}),"error"===x&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/30",children:(0,s.jsx)(c,{className:"w-8 h-8 text-red-400"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Confirmation Failed"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:h}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"glass-card p-4 rounded-lg border border-yellow-500/20 bg-yellow-500/5",children:(0,s.jsxs)("p",{className:"text-yellow-300 text-sm",children:["If you continue to experience issues, please contact us at"," ",(0,s.jsx)("a",{href:"mailto:ceo@astralisone.com",className:"text-yellow-400 hover:underline",children:"ceo@astralisone.com"})]})}),(0,s.jsx)(l.Button,{onClick:()=>d.push("/"),className:"w-full btn-primary",children:"Return to Homepage"})]})]}),"invalid"===x&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-yellow-500/30",children:(0,s.jsx)(c,{className:"w-8 h-8 text-yellow-400"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Invalid Confirmation Link"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:h}),(0,s.jsx)(l.Button,{onClick:()=>d.push("/"),className:"w-full btn-primary",children:"Return to Homepage"})]})]})})})}e.s(["default",()=>d],571556)}]);