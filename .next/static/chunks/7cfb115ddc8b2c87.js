(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,859432,e=>{"use strict";let t,r,s;var n,a,i,o,l,c,d=e.i(63338),m=e.i(808065),u=e.i(610762);let p=e=>{let t,r=new Set,s=(e,s)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,a={setState:s,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(s,n,a);return a},h=e=>{let t=e?p(e):p,r=e=>(function(e,t=e=>e){let r=m.default.useSyncExternalStore(e.subscribe,m.default.useCallback(()=>t(e.getState()),[e,t]),m.default.useCallback(()=>t(e.getInitialState()),[e,t]));return m.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},x=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>x(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>x(t)(e)}}},f=(t?h(t):h)((r=e=>({items:[],total:0,addItem:t=>{e(e=>{let r=e.items.find(e=>e.id===t.id)?e.items.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e):[...e.items,{...t,quantity:1}];return{items:r,total:r.reduce((e,t)=>e+Number(t.price)*t.quantity,0)}})},removeItem:t=>{e(e=>{let r=e.items.filter(e=>e.id!==t);return{items:r,total:r.reduce((e,t)=>e+Number(t.price)*t.quantity,0)}})},updateQuantity:(t,r)=>{e(e=>{let s=e.items.map(e=>e.id===t?{...e,quantity:r}:e);return{items:s,total:s.reduce((e,t)=>e+Number(t.price)*t.quantity,0)}})},clearCart:()=>{e({items:[],total:0})}}),s={name:"cart-storage"},(e,t,n)=>{let a,i={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let s=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(s):s(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...s},o=!1,l=new Set,c=new Set,d=i.storage;if(!d)return r((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),e(...t)},t,n);let m=()=>{let e=i.partialize({...t()});return d.setItem(i.name,{state:e,version:i.version})},u=n.setState;n.setState=(e,t)=>(u(e,t),m());let p=r((...t)=>(e(...t),m()),t,n);n.getInitialState=()=>p;let h=()=>{var r,s;if(!d)return;o=!1,l.forEach(e=>{var r;return e(null!=(r=t())?r:p)});let n=(null==(s=i.onRehydrateStorage)?void 0:s.call(i,null!=(r=t())?r:p))||void 0;return x(d.getItem.bind(d))(i.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];else{if(i.migrate){let t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(r=>{var s;let[n,o]=r;if(e(a=i.merge(o,null!=(s=t())?s:p),!0),n)return m()}).then(()=>{null==n||n(a,void 0),a=t(),o=!0,c.forEach(e=>e(a))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{i={...i,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},i.skipHydration||h(),a||p}));var g=e.i(431723),j=e.i(260222),y=e.i(704377),v=e.i(976901),N=e.i(707620),b=e.i(946128),C=e.i(764185),S=e.i(592902),w=e.i(203075);let F=y.object({customerEmail:y.string().email("Please enter a valid email address"),customerName:y.string().min(2,"Name must be at least 2 characters"),billingAddress:y.object({street:y.string().min(1,"Street address is required"),city:y.string().min(1,"City is required"),state:y.string().min(1,"State is required"),zipCode:y.string().min(1,"ZIP code is required"),country:y.string().min(1,"Country is required")}),sameAsShipping:y.boolean(),shippingAddress:y.object({street:y.string(),city:y.string(),state:y.string(),zipCode:y.string(),country:y.string()}).optional(),phone:y.string().optional(),notes:y.string().optional()});function P({onSubmit:e,isLoading:t}){let[r,s]=(0,m.useState)(!0),n=(0,g.useForm)({resolver:(0,j.zodResolver)(F),defaultValues:{customerEmail:"",customerName:"",billingAddress:{street:"",city:"",state:"",zipCode:"",country:"United States"},sameAsShipping:!0,shippingAddress:{street:"",city:"",state:"",zipCode:"",country:"United States"},phone:"",notes:""}});return(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(w.Form,{...n,children:(0,d.jsxs)("form",{onSubmit:n.handleSubmit(t=>{t.sameAsShipping&&(t.shippingAddress={...t.billingAddress}),e(t)}),className:"space-y-6",children:[(0,d.jsxs)(v.Card,{className:"glass-card",children:[(0,d.jsx)(v.CardHeader,{children:(0,d.jsx)(v.CardTitle,{className:"text-gradient",children:"Customer Information"})}),(0,d.jsxs)(v.CardContent,{className:"space-y-4",children:[(0,d.jsx)(w.FormField,{control:n.control,name:"customerName",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"Full Name"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"John Doe",...e})}),(0,d.jsx)(w.FormMessage,{})]})}),(0,d.jsx)(w.FormField,{control:n.control,name:"customerEmail",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"Email Address"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{type:"email",placeholder:"john@example.com",...e})}),(0,d.jsx)(w.FormMessage,{})]})}),(0,d.jsx)(w.FormField,{control:n.control,name:"phone",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"Phone Number (Optional)"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"+1 (555) 123-4567",...e})}),(0,d.jsx)(w.FormMessage,{})]})})]})]}),(0,d.jsxs)(v.Card,{className:"glass-card",children:[(0,d.jsx)(v.CardHeader,{children:(0,d.jsx)(v.CardTitle,{className:"text-gradient",children:"Billing Address"})}),(0,d.jsxs)(v.CardContent,{className:"space-y-4",children:[(0,d.jsx)(w.FormField,{control:n.control,name:"billingAddress.street",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"Street Address"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"123 Main Street",...e})}),(0,d.jsx)(w.FormMessage,{})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(w.FormField,{control:n.control,name:"billingAddress.city",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"City"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"New York",...e})}),(0,d.jsx)(w.FormMessage,{})]})}),(0,d.jsx)(w.FormField,{control:n.control,name:"billingAddress.state",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"State"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"NY",...e})}),(0,d.jsx)(w.FormMessage,{})]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(w.FormField,{control:n.control,name:"billingAddress.zipCode",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"ZIP Code"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"10001",...e})}),(0,d.jsx)(w.FormMessage,{})]})}),(0,d.jsx)(w.FormField,{control:n.control,name:"billingAddress.country",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"Country"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"United States",...e})}),(0,d.jsx)(w.FormMessage,{})]})})]})]})]}),(0,d.jsxs)(v.Card,{className:"glass-card",children:[(0,d.jsx)(v.CardHeader,{children:(0,d.jsx)(v.CardTitle,{className:"text-gradient",children:"Shipping Address"})}),(0,d.jsxs)(v.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(S.Checkbox,{id:"sameAsShipping",checked:r,onCheckedChange:e=>{s(e),n.setValue("sameAsShipping",e)}}),(0,d.jsx)(b.Label,{htmlFor:"sameAsShipping",className:"text-sm font-medium",children:"Same as billing address"})]}),!r&&(0,d.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,d.jsx)(w.FormField,{control:n.control,name:"shippingAddress.street",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"Street Address"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"123 Main Street",...e})}),(0,d.jsx)(w.FormMessage,{})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(w.FormField,{control:n.control,name:"shippingAddress.city",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"City"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"New York",...e})}),(0,d.jsx)(w.FormMessage,{})]})}),(0,d.jsx)(w.FormField,{control:n.control,name:"shippingAddress.state",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"State"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"NY",...e})}),(0,d.jsx)(w.FormMessage,{})]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(w.FormField,{control:n.control,name:"shippingAddress.zipCode",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"ZIP Code"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"10001",...e})}),(0,d.jsx)(w.FormMessage,{})]})}),(0,d.jsx)(w.FormField,{control:n.control,name:"shippingAddress.country",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormLabel,{children:"Country"}),(0,d.jsx)(w.FormControl,{children:(0,d.jsx)(N.Input,{placeholder:"United States",...e})}),(0,d.jsx)(w.FormMessage,{})]})})]})]})]})]}),(0,d.jsxs)(v.Card,{className:"glass-card",children:[(0,d.jsx)(v.CardHeader,{children:(0,d.jsx)(v.CardTitle,{className:"text-gradient",children:"Order Notes (Optional)"})}),(0,d.jsx)(v.CardContent,{children:(0,d.jsx)(w.FormField,{control:n.control,name:"notes",render:({field:e})=>(0,d.jsxs)(w.FormItem,{children:[(0,d.jsx)(w.FormControl,{children:(0,d.jsx)("textarea",{placeholder:"Any special instructions or notes for your order...",className:"w-full min-h-[80px] px-3 py-2 text-sm rounded-md border border-input bg-background/50 backdrop-blur-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...e})}),(0,d.jsx)(w.FormMessage,{})]})})})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(C.Button,{type:"submit",size:"lg",disabled:t,className:"glass-button min-w-[200px]",children:t?"Processing...":"Continue to Payment"})})]})})})}var I=e.i(977331);e.i(938061);var E=e.i(260597);function A({steps:e,currentStep:t,completedSteps:r}){return(0,d.jsx)("div",{className:"w-full py-8",children:(0,d.jsx)("div",{className:"flex items-center justify-between",children:e.map((s,n)=>{let a=n+1,i=r.includes(a),o=a===t,l=a>t;return(0,d.jsxs)("div",{className:"flex items-center flex-1",children:[(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsx)("div",{className:(0,E.cn)("flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all duration-300",{"bg-primary border-primary text-primary-foreground":i,"bg-primary/20 border-primary text-primary":o,"bg-muted border-muted-foreground/30 text-muted-foreground":l}),children:i?(0,d.jsx)(I.Check,{className:"w-5 h-5"}):(0,d.jsx)("span",{className:"text-sm font-semibold",children:a})}),(0,d.jsxs)("div",{className:"mt-3 text-center max-w-[120px]",children:[(0,d.jsx)("div",{className:(0,E.cn)("text-sm font-medium transition-colors duration-300",{"text-primary":i||o,"text-muted-foreground":l}),children:s.title}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:s.description})]})]}),n<e.length-1&&(0,d.jsx)("div",{className:"flex-1 mx-4 mt-[-40px]",children:(0,d.jsx)("div",{className:(0,E.cn)("h-0.5 transition-colors duration-300",{"bg-primary":i,"bg-primary/30":o,"bg-muted-foreground/30":l})})})]},s.id)})})})}let k=[{id:"cart-review",title:"Review Cart",description:"Verify your items"},{id:"shipping-info",title:"Shipping Info",description:"Enter your details"},{id:"payment",title:"Payment",description:"Complete purchase"},{id:"confirmation",title:"Confirmation",description:"Order complete"}];var O=e.i(412574),R=e.i(412246),T=e.i(475667),L=e.i(432e3),M=e.i(740888);function B(e,t=.08){let r=e.reduce((e,t)=>e+t.price*t.quantity,0),s=r*t;return{subtotal:r,taxAmount:s,shippingAmount:0,discountAmount:0,total:r+s+0-0}}function D(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function _({items:e,subtotal:t,taxAmount:r,shippingAmount:s,discountAmount:n,total:a,showTaxBreakdown:i=!0}){let o=B(e),l=t??o.subtotal,c=r??o.taxAmount,m=s??o.shippingAmount,u=n??o.discountAmount,p=a??o.total;return(0,d.jsxs)(v.Card,{className:"glass-card",children:[(0,d.jsx)(v.CardHeader,{children:(0,d.jsxs)(v.CardTitle,{className:"flex items-center gap-2 text-gradient",children:[(0,d.jsx)(T.ShoppingBag,{className:"w-5 h-5"}),"Order Summary"]})}),(0,d.jsxs)(v.CardContent,{className:"space-y-4",children:[(0,d.jsx)("div",{className:"space-y-3",children:e.map(e=>{let t;return(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/20 backdrop-blur-sm border border-muted/30",children:[(0,d.jsx)("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-muted/30 flex-shrink-0",children:e.image?(0,d.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):(0,d.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(t=e.name.toLowerCase()).includes("service")||t.includes("consultation")||t.includes("design")?(0,d.jsx)(M.Zap,{className:"w-4 h-4 text-primary"}):t.includes("digital")||t.includes("template")||t.includes("asset")?(0,d.jsx)(L.Package,{className:"w-4 h-4 text-blue-500"}):(0,d.jsx)(T.ShoppingBag,{className:"w-4 h-4 text-muted-foreground"})})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h4",{className:"font-medium text-sm leading-tight mb-1 text-foreground",children:e.name}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsxs)(R.Badge,{variant:"secondary",className:"text-xs",children:["Qty: ",e.quantity]}),e.quantity>1&&(0,d.jsxs)("span",{className:"text-xs text-muted-foreground",children:[D(e.price)," each"]})]})]}),(0,d.jsx)("div",{className:"text-right flex-shrink-0",children:(0,d.jsx)("div",{className:"font-semibold text-sm",children:D(e.price*e.quantity)})})]},e.id)})}),(0,d.jsx)(O.Separator,{className:"bg-muted/30"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,d.jsx)("span",{className:"font-medium",children:D(l)})]}),i&&c>0&&(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Tax (8%)"}),(0,d.jsx)("span",{className:"font-medium",children:D(c)})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Shipping"}),(0,d.jsx)("span",{className:"font-medium",children:m>0?D(m):(0,d.jsx)("span",{className:"text-green-500 font-semibold",children:"FREE"})})]}),u>0&&(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Discount"}),(0,d.jsxs)("span",{className:"font-medium text-green-500",children:["-",D(u)]})]}),(0,d.jsx)(O.Separator,{className:"bg-muted/30"}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-lg font-semibold",children:"Total"}),(0,d.jsx)("span",{className:"text-lg font-bold text-gradient",children:D(p)})]})]}),(0,d.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-primary/5 border border-primary/20",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(L.Package,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,d.jsx)("p",{className:"font-medium text-primary mb-1",children:"What's included:"}),(0,d.jsxs)("ul",{className:"space-y-1",children:[(0,d.jsx)("li",{children:"â€¢ Digital delivery within 24 hours"}),(0,d.jsx)("li",{children:"â€¢ Lifetime access to your purchases"}),(0,d.jsx)("li",{children:"â€¢ Email support and documentation"}),e.some(e=>e.name.toLowerCase().includes("service"))&&(0,d.jsx)("li",{children:"â€¢ 30-day revision period for services"})]})]})]})})]})]})}(n=o||(o={})).INITIAL="initial",n.PENDING="pending",n.REJECTED="rejected",n.RESOLVED="resolved",(a=l||(l={})).LOADING_STATUS="setLoadingStatus",a.RESET_OPTIONS="resetOptions",a.SET_BRAINTREE_INSTANCE="braintreeInstance",(i=c||(c={})).NUMBER="number",i.CVV="cvv",i.EXPIRATION_DATE="expirationDate",i.EXPIRATION_MONTH="expirationMonth",i.EXPIRATION_YEAR="expirationYear",i.POSTAL_CODE="postalCode";var q=function(){return(q=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function z(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)0>t.indexOf(s[n])&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function U(e,t,r){if(r||2==arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var Y="dataNamespace",H="paypal";function V(e){return void 0===e&&(e=H),window[e]}function G(e){var t=e.reactComponentName,r=e.sdkComponentKey,s=e.sdkRequestedComponents,n=void 0===s?"":s,a=e.sdkDataNamespace,i=r.charAt(0).toUpperCase().concat(r.substring(1)),o="Unable to render <".concat(t," /> because window.").concat(void 0===a?H:a,".").concat(i," is undefined."),l="string"==typeof n?n:n.join(",");if(!l.includes(r)){var c=[l,r].filter(Boolean).join();o+="\nTo fix the issue, add '".concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(c,"'}}>`.")}return o}var J=(0,m.createContext)(null);function K(){var e=function(e){if("function"==typeof(null==e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}((0,m.useContext)(J));return[q(q({},e),{isInitial:e.loadingStatus===o.INITIAL,isPending:e.loadingStatus===o.PENDING,isResolved:e.loadingStatus===o.RESOLVED,isRejected:e.loadingStatus===o.REJECTED}),e.dispatch]}(0,m.createContext)({});var X=function(e){var t,r,s=e.className,n=e.disabled,a=void 0!==n&&n,i=e.children,o=e.forceReRender,l=z(e,["className","disabled","children","forceReRender"]),c="".concat(void 0===s?"":s," ").concat(a?"paypal-buttons-disabled":"").trim(),d=(0,m.useRef)(null),u=(0,m.useRef)(null),p=((t=(0,m.useRef)(new Proxy({},{get:function(e,t,r){return"function"==typeof e[t]?function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return e[t].apply(e,r)}:Reflect.get(e,t,r)}}))).current=Object.assign(t.current,l),t.current),h=K()[0],x=h.isResolved,f=h.options,g=(0,m.useState)(null),j=g[0],y=g[1],v=(0,m.useState)(!0),N=v[0],b=v[1],C=(0,m.useState)(null)[1];function S(){null!==u.current&&u.current.close().catch(function(){})}return(null==(r=u.current)?void 0:r.updateProps)&&u.current.updateProps({message:l.message}),(0,m.useEffect)(function(){if(!1===x)return S;var e=V(f.dataNamespace);if(void 0===e||void 0===e.Buttons)return C(function(){throw Error(G({reactComponentName:X.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:f.components,sdkDataNamespace:f[Y]}))}),S;try{u.current=e.Buttons(q(q({},p),{onInit:function(e,t){y(t),"function"==typeof l.onInit&&l.onInit(e,t)}}))}catch(e){return C(function(){throw Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(e))})}return!1===u.current.isEligible()?b(!1):d.current&&u.current.render(d.current).catch(function(e){null!==d.current&&0!==d.current.children.length&&C(function(){throw Error("Failed to render <PayPalButtons /> component. ".concat(e))})}),S},U(U([x],void 0===o?[]:o,!0),[l.fundingSource],!1)),(0,m.useEffect)(function(){null!==j&&(!0===a?j.disable().catch(function(){}):j.enable().catch(function(){}))},[a,j]),m.default.createElement(m.default.Fragment,null,N?m.default.createElement("div",{ref:d,style:a?{opacity:.38}:{},className:c}):i)};X.displayName="PayPalButtons","function"==typeof SuppressedError&&SuppressedError;var Z=function(e){var t=e.className,r=e.children,s=z(e,["className","children"]),n=K()[0],a=n.isResolved,i=n.options,o=(0,m.useRef)(null),l=(0,m.useState)(!0),c=l[0],d=l[1],u=(0,m.useState)(null)[1],p=function(e){var t=o.current;if(!t||!e.isEligible())return d(!1);t.firstChild&&t.removeChild(t.firstChild),e.render(t).catch(function(e){null!==t&&0!==t.children.length&&u(function(){throw Error("Failed to render <PayPalMarks /> component. ".concat(e))})})};return(0,m.useEffect)(function(){if(!1!==a){var e=V(i[Y]);if(void 0===e||void 0===e.Marks)return u(function(){throw Error(G({reactComponentName:Z.displayName,sdkComponentKey:"marks",sdkRequestedComponents:i.components,sdkDataNamespace:i[Y]}))});p(e.Marks(q({},s)))}},[a,s.fundingSource]),m.default.createElement(m.default.Fragment,null,c?m.default.createElement("div",{ref:o,className:void 0===t?"":t}):r)};Z.displayName="PayPalMarks";var $=function(e){var t=e.className,r=e.forceReRender,s=z(e,["className","forceReRender"]),n=K()[0],a=n.isResolved,i=n.options,o=(0,m.useRef)(null),l=(0,m.useRef)(null),c=(0,m.useState)(null)[1];return(0,m.useEffect)(function(){if(!1!==a){var e=V(i[Y]);if(void 0===e||void 0===e.Messages)return c(function(){throw Error(G({reactComponentName:$.displayName,sdkComponentKey:"messages",sdkRequestedComponents:i.components,sdkDataNamespace:i[Y]}))});l.current=e.Messages(q({},s)),l.current.render(o.current).catch(function(e){null!==o.current&&0!==o.current.children.length&&c(function(){throw Error("Failed to render <PayPalMessages /> component. ".concat(e))})})}},U([a],void 0===r?[]:r,!0)),m.default.createElement("div",{ref:o,className:void 0===t?"":t})};function Q(){}$.displayName="PayPalMessages",(0,m.createContext)({cardFieldsForm:null,fields:{},registerField:Q,unregisterField:Q});var W=e.i(551270);e.i(967960);var ee=e.i(741241);function et(){let[e,t]=(0,m.useState)(!1),r=(0,W.useRouter)(),s=f(e=>e.clearCart),{toast:n}=(0,ee.useToast)();return{isProcessing:e,handleApprove:async(e,a)=>{console.log("PayPal onApprove:",JSON.stringify(e));try{t(!0);let e=await a.order?.capture();e&&(s(),n({title:"Payment successful!",description:"Your order has been processed successfully."}),r.push(`/checkout/success?orderId=${e.id}`))}catch(e){console.error("PayPal capture error:",e),n({title:"Payment failed",description:"There was an error processing your payment. Please try again.",variant:"destructive"})}finally{t(!1)}},handleError:e=>{console.error("PayPal error:",e),n({title:"Payment failed",description:"There was an error initializing PayPal. Please try again.",variant:"destructive"})}}}function er({amount:e,onSuccess:t,onError:r}){let{handleApprove:s,handleError:n}=et(),a=t?async(e,s)=>{try{let e=await s.order?.capture();e&&t(e)}catch(e){console.error("PayPal capture error:",e),r?r(e):n(e)}}:s;return(0,d.jsx)(X,{style:{layout:"vertical",shape:"rect",label:"pay"},createOrder:(t,r)=>{try{return r.order.create({intent:"CAPTURE",purchase_units:[{amount:{value:e.toFixed(2),currency_code:"USD"}}]})}catch(e){throw console.error("Error creating PayPal order:",e),e}},onApprove:a,onError:r||n})}var es=e.i(424757);function en(){return(0,d.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,d.jsx)(es.Loader2,{className:"h-6 w-6 animate-spin"})})}function ea({amount:e,onSuccess:t,onError:r}){let[{isPending:s}]=K(),{isProcessing:n}=et();return(console.log("PayPal Button State:",{isPending:s,isProcessing:n,amount:e}),s||n)?(console.log("PayPal Button: Showing loading state"),(0,d.jsx)(en,{})):(console.log("PayPal Button: Rendering button"),(0,d.jsx)(er,{amount:e,onSuccess:t,onError:r}))}let ei=(0,e.i(326043).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var eo=e.i(959161),el=e.i(175339),ec=e.i(439976),ed=e.i(339210);function em(){let e,t=(0,u.useRouter)(),{items:r,total:s,clearCart:n}=f(),a=(0,ec.useMount)(),{toast:i}=(0,ee.useToast)(),[o,l]=(0,m.useState)("review"),[c,p]=(0,m.useState)(!1),[h,x]=(0,m.useState)(null),[g,j]=(0,m.useState)(null),y=B(r);if((0,m.useEffect)(()=>{a&&0===r.length&&t.push("/marketplace")},[r,t,a]),!a||0===r.length)return(0,d.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"text-center glass-card p-8",children:[(0,d.jsx)(ei,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,d.jsx)("h2",{className:"text-2xl font-bold mb-2 text-gradient",children:"Your cart is empty"}),(0,d.jsx)("p",{className:"text-muted-foreground mb-4",children:"Add some items to your cart to continue checkout"}),(0,d.jsx)(C.Button,{onClick:()=>t.push("/marketplace"),className:"glass-button",children:"Continue Shopping"})]})});let N=async e=>{p(!0);try{x(e),l("payment"),i({title:"Information saved",description:"Proceeding to payment..."})}catch(e){i({title:"Error",description:"Failed to save shipping information",variant:"destructive"})}finally{p(!1)}},b=async e=>{if(!h)throw Error("Checkout data not available");let t={items:r.map(e=>({marketplaceItemId:e.id,quantity:e.quantity,price:e.price})),customerEmail:h.customerEmail,customerName:h.customerName,billingAddress:h.billingAddress,shippingAddress:h.shippingAddress,paymentMethod:"PAYPAL",paymentId:e.id,paymentData:e,notes:h.notes};return(await ed.default.post("/orders",t)).data.data},S=async e=>{p(!0);try{let t,r=await b(e);await ed.default.patch(`/orders/${r.id}/payment`,{paymentStatus:"COMPLETED",paymentId:e.id,paymentData:e}),j(r.id),n(),JSON.stringify(r),t=window.gtag,"function"==typeof t?(console.log("GTAG found"),t("event","ads_conversion_Purchase",r)):((window.dataLayer=window.dataLayer||[]).push({event:"gtag_not_found",value:r}),console.log("GTAG not found, falling back")),l("confirmation"),i({title:"Payment successful!",description:"Your order has been processed successfully."})}catch(e){console.error("Order creation failed:",e),i({title:"Order creation failed",description:"Payment succeeded but order creation failed. Please contact support.",variant:"destructive"})}finally{p(!1)}},w=e=>{console.error("Payment error:",e),i({title:"Payment failed",description:"There was an error processing your payment. Please try again.",variant:"destructive"})};return(0,d.jsx)("div",{className:"min-h-screen bg-background",children:(0,d.jsx)("div",{className:"container py-8",children:(0,d.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gradient mb-2",children:"Checkout"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Complete your purchase securely"})]}),(0,d.jsx)(A,{steps:k,currentStep:{review:1,shipping:2,payment:3,confirmation:4}[o],completedSteps:(e=[],"review"!==o&&e.push(1),("payment"===o||"confirmation"===o)&&e.push(2),"confirmation"===o&&e.push(3,4),e)}),(0,d.jsx)("div",{className:"mt-8",children:(()=>{switch(o){case"review":return(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsxs)(v.Card,{className:"glass-card",children:[(0,d.jsx)(v.CardHeader,{children:(0,d.jsx)(v.CardTitle,{className:"text-gradient",children:"Review Your Order"})}),(0,d.jsxs)(v.CardContent,{children:[(0,d.jsx)(_,{items:r,...y}),(0,d.jsx)("div",{className:"flex justify-end mt-6",children:(0,d.jsx)(C.Button,{onClick:()=>l("shipping"),size:"lg",className:"glass-button min-w-[200px]",children:"Continue to Shipping"})})]})]})});case"shipping":return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"flex items-center gap-4 mb-6",children:(0,d.jsxs)(C.Button,{variant:"ghost",size:"sm",onClick:()=>l("review"),className:"flex items-center gap-2",children:[(0,d.jsx)(eo.ArrowLeft,{className:"w-4 h-4"}),"Back to Review"]})}),(0,d.jsx)(P,{onSubmit:N,isLoading:c})]});case"payment":return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"flex items-center gap-4 mb-6",children:(0,d.jsxs)(C.Button,{variant:"ghost",size:"sm",onClick:()=>l("shipping"),className:"flex items-center gap-2",children:[(0,d.jsx)(eo.ArrowLeft,{className:"w-4 h-4"}),"Back to Shipping"]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsxs)(v.Card,{className:"glass-card",children:[(0,d.jsx)(v.CardHeader,{children:(0,d.jsxs)(v.CardTitle,{className:"flex items-center gap-2 text-gradient",children:[(0,d.jsx)(el.CreditCard,{className:"w-5 h-5"}),"Payment Method"]})}),(0,d.jsx)(v.CardContent,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Complete your purchase using PayPal. You can pay with your PayPal account or use a credit/debit card."}),(0,d.jsx)("div",{className:"space-y-4",children:(0,d.jsx)(ea,{amount:y.total,onSuccess:S,onError:w})}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground mt-4 p-3 bg-muted/20 rounded-lg",children:[(0,d.jsx)("p",{children:"ðŸ”’ Your payment information is secure and encrypted."}),(0,d.jsx)("p",{children:"By completing this purchase, you agree to our Terms of Service."})]})]})})]})}),(0,d.jsx)("div",{children:(0,d.jsx)(_,{items:r,...y})})]})]});case"confirmation":return(0,d.jsx)("div",{className:"text-center space-y-6",children:(0,d.jsxs)(v.Card,{className:"glass-card p-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,d.jsx)("h2",{className:"text-2xl font-bold mb-2 text-gradient",children:"Order Confirmed!"}),(0,d.jsx)("p",{className:"text-muted-foreground mb-6",children:"Thank you for your purchase. Your order has been successfully processed."}),g&&(0,d.jsxs)("div",{className:"bg-muted/20 p-4 rounded-lg mb-6",children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Order ID"}),(0,d.jsx)("p",{className:"font-mono text-lg",children:g})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,d.jsx)(C.Button,{onClick:()=>t.push("/marketplace"),variant:"outline",children:"Continue Shopping"}),(0,d.jsx)(C.Button,{onClick:()=>t.push("/orders"),className:"glass-button",children:"View Orders"})]})]})});default:return null}})()})]})})})}e.s(["default",()=>em],859432)},356102,(e,t,r)=>{let s="/checkout";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(859432)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([s])})}]);