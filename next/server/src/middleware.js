(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{4240:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>n});var d={};c.r(d),c.d(d,{config:()=>j,default:()=>i});var e=c(7037),f=c(4394),g=c(4942),h=c(7084);let i=(0,g.withAuth)(function(a){let{pathname:b}=a.nextUrl,c=a.nextauth.token;return b.startsWith("/api/")||b.startsWith("/_next/")||"/favicon.ico"===b?h.NextResponse.next():["/auth/signin","/auth/signup"].some(a=>b.startsWith(a))&&c?h.NextResponse.redirect(new URL("/dashboard",a.url)):h.NextResponse.next()},{callbacks:{authorized:({token:a,req:b})=>{let{pathname:c}=b.nextUrl;return!!(c.startsWith("/api/")||c.startsWith("/_next/"))||"/favicon.ico"===c||!["/dashboard","/pipelines","/intake","/documents","/scheduling","/automations","/settings"].some(a=>c.startsWith(a))||!!a}},pages:{signIn:"/auth/signin"}}),j={matcher:["/(.*)"]};c(8793);let k={...d},l=k.middleware||k.default,m="/src/middleware";if("function"!=typeof l)throw Object.defineProperty(Error(`The Middleware "${m}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function n(a){return(0,f.O)({...a,page:m,handler:async(...a)=>{try{return await l(...a)}catch(f){let b=a[0],c=new URL(b.url),d=c.pathname+c.search;throw await (0,e.Ek)(f,{path:d,method:b.method,headers:Object.fromEntries(b.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),f}}})}},5356:a=>{"use strict";a.exports=require("node:buffer")},5521:a=>{"use strict";a.exports=require("node:async_hooks")}},a=>{a.O(0,[226,942,368,824,805,339],()=>a(a.s=4240));var b=a.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_src/middleware"]=b}]);
//# sourceMappingURL=middleware.js.map