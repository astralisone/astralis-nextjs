"use strict";exports.id=8647,exports.ids=[8647],exports.modules={17103:(a,b)=>{function c(a){let b={};if(a instanceof Headers)a.forEach((a,c)=>{b[c]=a});else if(Array.isArray(a))for(let[c,d]of a)b[c]=d;else b=a||{};return b}Object.defineProperty(b,"__esModule",{value:!0}),b.headersToClassicHeaders=c,b.marshallGaxiosResponse=function(a){return Object.defineProperties(a||{},{headers:{configurable:!0,writable:!0,enumerable:!0,value:c(a?.headers)}})}},17931:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isBrowser=function(){return"undefined"!=typeof window}},19209:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.sessions=void 0,b.request=s,b.closeSession=u;let d=c(73496),e=c(74075),f=c(79551),g=c(34563),h=c(63023),i=c(27910),j=c(28354),k=c(19771),l=c(17103),{HTTP2_HEADER_CONTENT_ENCODING:m,HTTP2_HEADER_CONTENT_TYPE:n,HTTP2_HEADER_METHOD:o,HTTP2_HEADER_PATH:p,HTTP2_HEADER_STATUS:q}=d.constants,r=!!k.env.HTTP2_DEBUG;async function s(a){let c,k=h(!0,{},a);k.validateStatus=k.validateStatus||t,k.responseType=k.responseType||"json";let s=new f.URL(k.url),v=function(a){if(b.sessions[a])r&&console.log(`Used cached client for ${a}`);else{r&&console.log(`Creating client for ${a}`);let c=d.connect(`https://${a}`);c.on("error",c=>{console.error(`*ERROR*: ${c}`),delete b.sessions[a]}).on("goaway",(c,d)=>{console.error(`*GOAWAY*: ${c} : ${d}`),delete b.sessions[a]}),b.sessions[a]={session:c}}return b.sessions[a]}(s.host);void 0!==v.timeoutHandle&&clearTimeout(v.timeoutHandle);let w=s.pathname;if(a.params&&Object.keys(a.params).length>0){let b=(a.paramsSerializer||g.stringify)(k.params);w+=`?${b}`}let x=(0,l.headersToClassicHeaders)(k.headers);x[p]=w,x[o]=a.method||"GET",k.headers=x,x[n]||"text"===k.responseType||(x[n]="application/json");let y={config:a,headers:{},status:0,data:{},statusText:""},z=[],A=v.session;return new Promise((b,d)=>{try{c=A.request(x).on("response",a=>{Object.assign(y,{headers:a,status:a[q]});let f=c;if("gzip"===a[m]&&(f=c.pipe(e.createGunzip())),"stream"===k.responseType){y.data=f,b(y);return}f.on("data",a=>{z.push(a)}).on("error",a=>{d(a)}).on("end",()=>{let a=Buffer.concat(z),c=a;if(a){if("json"===k.responseType)try{c=JSON.parse(a.toString("utf8"))}catch{c=a.toString("utf8")}else"text"===k.responseType?c=a.toString("utf8"):"arraybuffer"===k.responseType&&(c=a.buffer);y.data=c}if(!k.validateStatus(y.status)){let a=`Request failed with status code ${y.status}. `;if(y.data&&"object"==typeof y.data){let b=j.inspect(y.data,{depth:5});a=`${a}
'${b}`}d(Error(a,{cause:y}))}b(y)})}).on("error",a=>{d(a)})}catch(a){u(s).then(()=>d(a)).catch(d);return}if(y.request=c,a.data){if(a.data instanceof i.Stream)a.data.pipe(c);else if("string"==typeof a.data){let b=Buffer.from(a.data);c.end(b)}else if("object"==typeof a.data){let b=JSON.stringify(a.data);c.end(b)}}v.timeoutHandle=setTimeout(()=>u(s),500)})}function t(a){return a>=200&&a<300}async function u(a){let c=b.sessions[a.host];if(!c)return;let{session:d}=c;delete b.sessions[a.host],r&&console.error(`Closing ${a.host}`),d.close(()=>{r&&console.error(`Closed ${a.host}`)}),setTimeout(()=>{d&&!d.destroyed&&(r&&console.log(`Forcing close ${a.host}`),d&&d.destroy())},1e3)}b.sessions={}},29532:a=>{a.exports=JSON.parse('{"name":"googleapis-common","version":"8.0.1","description":"A common tooling library used by the googleapis npm module. You probably don\'t want to use this directly.","repository":{"type":"git","directory":"packages/nodejs-googleapis-common","url":"https://github.com/googleapis/google-cloud-node-core.git"},"main":"build/src/index.js","types":"build/src/index.d.ts","files":["build/src","!build/src/**/*.map"],"scripts":{"prebenchmark":"npm run compile","benchmark":"node build/benchmark/bench.js","compile":"tsc -p .","test":"c8 mocha build/test","system-test":"c8 mocha build/system-test --timeout 600000","presystem-test":"npm run compile","fix":"gts fix","prepare":"npm run compile","pretest":"npm run compile","lint":"gts check","samples-test":"mocha build/samples-test","docs":"jsdoc -c .jsdoc.js","predocs-test":"npm run docs","docs-test":"linkinator docs","webpack":"webpack","browser-test":"karma start","prelint":"cd samples; npm link ../; npm install","clean":"gts clean","precompile":"gts clean"},"keywords":[],"author":"Google LLC","license":"Apache-2.0","dependencies":{"extend":"^3.0.2","gaxios":"^7.0.0-rc.4","google-auth-library":"^10.1.0","qs":"^6.7.0","url-template":"^2.0.8"},"devDependencies":{"@babel/plugin-proposal-private-methods":"^7.18.6","@types/extend":"^3.0.1","@types/mocha":"^10.0.10","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/nock":"^11.0.0","@types/proxyquire":"^1.3.28","@types/qs":"^6.5.3","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/url-template":"^2.0.28","c8":"^10.1.3","codecov":"^3.5.0","gts":"^6.0.2","http2spy":"^2.0.0","is-docker":"^2.0.0","jsdoc":"^4.0.0","jsdoc-fresh":"^3.0.0","jsdoc-region-tag":"^3.0.0","karma":"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"^4.0.0","linkinator":"^6.1.2","mocha":"^11.1.0","mv":"^2.1.1","ncp":"^2.0.0","nock":"^14.0.1","null-loader":"^4.0.0","path-to-regexp":"^6.0.0","proxyquire":"^2.1.3","puppeteer":"^18.2.1","sinon":"^17.0.0","tmp":"^0.2.0","ts-loader":"^8.0.0","typescript":"^5.8.2","webpack":"^4.0.0","webpack-cli":"^4.0.0"},"engines":{"node":">=18.0.0"},"homepage":"https://github.com/googleapis/google-cloud-node-core/tree/main/packages/nodejs-googleapis-common"}')},33942:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Endpoint=void 0;let d=c(55014);class e{_options;google;constructor(a){this._options=a||{}}applySchema(a,b,c,d){if(this.applyMethodsFromSchema(a,b,c,d),c.resources){for(let e in c.resources)if(Object.prototype.hasOwnProperty.call(c.resources,e)){let f=c.resources[e];a[e]||(a[e]={}),this.applySchema(a[e],b,f,d)}}}applyMethodsFromSchema(a,b,c,d){if(c.methods){for(let e in c.methods)if(Object.prototype.hasOwnProperty.call(c.methods,e)){let f=c.methods[e];a[e]=this.makeMethod(b,f,d)}}}makeMethod(a,b,c){return(e,g)=>{g="function"==typeof e?e:g;let h=f(a.rootUrl+a.servicePath+b.path),i={options:{url:h.substring(1,h.length-1),method:b.httpMethod,apiVersion:b.apiVersion},params:"function"==typeof e?{}:e,requiredParams:b.parameterOrder||[],pathParams:this.getPathParams(b.parameters),context:c};if(b.mediaUpload&&b.mediaUpload.protocols&&b.mediaUpload.protocols.simple&&b.mediaUpload.protocols.simple.path){let c=f(a.rootUrl+b.mediaUpload.protocols.simple.path);i.mediaUrl=c.substring(1,c.length-1)}if(!g)return(0,d.createAPIRequest)(i);(0,d.createAPIRequest)(i,g)}}getPathParams(a){let b=[];return"object"!=typeof a&&(a={}),Object.keys(a).forEach(c=>{"path"===a[c].location&&b.push(c)}),b}}function f(a){return a?`'${a}'`.replace(/([^:]\/)\/+/g,"$1"):""}b.Endpoint=e},55014:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createAPIRequest=function(a,b){if(!b)return n(a);n(a).then(a=>b(null,a),b)};let d=c(41421),e=c(34563),f=c(27910),g=c(42979),h=c(63023),i=c(17931),j=c(19209),k=c(17103),l=c(29532),m=()=>globalThis.crypto?.randomUUID()||c(55511).randomUUID();async function n(a){var b,c;let n=h(!0,{},a.context.google?._options||{},a.context._options||{},a.options),p=h(!0,{},n.params,a.params);n.userAgentDirectives=n.userAgentDirectives||[];let q=p.media||{},r=p.requestBody;p.requestBody||!p.resource||a.requiredParams.includes("resource")&&"string"==typeof p.resource||(r=p.resource,delete p.resource),delete p.requestBody;let s=p.auth||n.auth,t="string"==typeof q.body?"text/plain":"application/octet-stream";delete p.media,delete p.auth;let u=(0,k.headersToClassicHeaders)(p.headers||{});b=u,c=n.apiVersion,(0,i.isBrowser)()||(b["x-goog-api-client"]=`gdcl/${l.version} gl-node/${process.versions.node}`),c&&(b["x-goog-api-version"]=c),delete p.headers,Object.keys(p).forEach(a=>{"_"===a.slice(-1)&&(p[a.slice(0,-1)]=p[a],delete p[a])});let v=function(a,b){let c=[];return b.forEach(b=>{void 0===a[b]&&c.push(b)}),c.length>0?c:null}(p,a.requiredParams);if(v)throw Error("Missing required parameters: "+v.join(", "));if(n.url){let a=n.url;"object"==typeof a&&(a=a.toString()),n.url=g.parse(a).expand(p)}if(a.mediaUrl&&(a.mediaUrl=g.parse(a.mediaUrl).expand(p)),void 0!==a.context._options.rootUrl&&void 0!==n.url){let b=new URL(n.url);n.url=new URL(b.href.substr(b.origin.length),a.context._options.rootUrl).href}if(n.paramsSerializer=a=>e.stringify(a,{arrayFormat:"repeat"}),a.pathParams.forEach(a=>delete p[a]),"string"==typeof s&&(p.key=p.key||s,s=void 0),a.mediaUrl&&q.body)if(n.url=a.mediaUrl,r){p.uploadType="multipart";let a=[{"content-type":"application/json",body:JSON.stringify(r)},{"content-type":q.mimeType||r&&r.mimeType||t,body:q.body}];if((0,i.isBrowser)()){let b=m(),c=`--${b}--`;u["content-type"]=`multipart/related; boundary=${b}`;let d="";for(let c of a)d+=`--${b}\r
content-type: ${c["content-type"]}\r
\r
`,"string"==typeof c.body&&(d+=c.body,d+="\r\n");n.data=d+c}else!function(a){var b;let c=m(),d=`--${c}--`,e=new f.PassThrough({flush(a){this.push("\r\n"),this.push(d),a()}}),g=new o,h=null!==(b=a[1].body)&&"object"==typeof b&&"function"==typeof b.pipe&&!1!==b.readable&&"function"==typeof b._read&&"object"==typeof b._readableState;for(let b of(u["content-type"]=`multipart/related; boundary=${c}`,a)){let a=`--${c}\r
content-type: ${b["content-type"]}\r
\r
`;e.push(a),"string"==typeof b.body?(e.push(b.body),e.push("\r\n")):(g.on("progress",a=>{n.onUploadProgress&&n.onUploadProgress({bytesRead:a})}),b.body.pipe(g).pipe(e))}h||(e.push(d),e.push(null)),n.data=e}(a)}else p.uploadType="media",Object.assign(u,{"content-type":q.mimeType||t}),n.data=q.body;else n.data=r||void 0;if(n.headers=d.Gaxios.mergeHeaders(n.headers||{},u),n.params=p,!(0,i.isBrowser)()){n.headers.set("Accept-Encoding","gzip"),n.userAgentDirectives.push({product:"google-api-nodejs-client",version:l.version,comment:"gzip"});let a=n.userAgentDirectives.map(a=>{let b=`${a.product}/${a.version}`;return a.comment&&(b+=` (${a.comment})`),b}).join(" ");n.headers.set("User-Agent",a)}if(n.validateStatus||(n.validateStatus=a=>a>=200&&a<300||304===a),n.retry=void 0===n.retry||n.retry,delete n.auth,n.universeDomain&&n.universe_domain&&n.universeDomain!==n.universe_domain)throw Error("Please set either universe_domain or universeDomain, but not both.");let w="object"==typeof process&&"object"==typeof process.env?process.env.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0,x=n.universeDomain??n.universe_domain??w??"googleapis.com";if("googleapis.com"!==x&&n.url){let a=new URL(n.url);a.hostname.endsWith(".googleapis.com")&&(a.hostname=a.hostname.replace(/googleapis\.com$/,x),n.url=a.toString())}if(Object.keys(n.params).length||(delete n.params,delete n.paramsSerializer),!s||"object"!=typeof s)return new d.Gaxios().request(n).then(a=>(0,k.marshallGaxiosResponse)(a));{let a="function"==typeof s.getUniverseDomain?await s.getUniverseDomain():void 0;if(a&&x!==a)throw Error(`The configured universe domain (${x}) does not match the universe domain found in the credentials (${a}). If you haven't configured the universe domain explicitly, googleapis.com is the default.`);if(n.http2){let a=await s.getRequestHeaders(n.url),b=Object.assign({},n);return b.headers=d.Gaxios.mergeHeaders(b.headers,a),j.request(b)}{let a=await s.request(n);return(0,k.marshallGaxiosResponse)(a)}}}class o extends f.Transform{bytesRead=0;_transform(a,b,c){this.bytesRead+=a.length,this.emit("progress",this.bytesRead),this.push(a),c()}}},55573:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Discovery=void 0;let d=c(29021),e=c(41421),f=c(79551),g=c(28354),h=c(55014),i=c(33942),j=g.promisify(d.readFile);class k{transporter=new e.Gaxios;options;constructor(a){this.options=a||{}}makeEndpoint(a){return b=>{let c=new i.Endpoint(b);return c.applySchema(c,a,a,c),c}}log(...a){this.options&&this.options.debug&&console.log(...a)}async discoverAllAPIs(a){let b=new Headers(this.options.includePrivate?{}:{"X-User-Ip":"0.0.0.0"}),c=(await this.transporter.request({url:a,headers:b})).data.items,d=await Promise.all(c.map(async a=>{let b=await this.discoverAPI(a.discoveryRestUrl);return{api:a,endpointCreator:b}})),e={},f={};for(let a of d)f[a.api.name]||(e[a.api.name]={},f[a.api.name]=b=>{let c,d=typeof b;if("string"===d)c=b,b={};else if("object"===d)c=b.version,delete b.version;else throw Error("Argument error: Accepts only string or object");try{let c=a.endpointCreator(b,this);return Object.freeze(c)}catch(b){throw Error(g.format('Unable to load endpoint %s("%s"): %s',a.api.name,c,b.message))}}),e[a.api.name][a.api.version]=a.endpointCreator;return f}async discoverAPI(a){if("string"==typeof a){let b=f.parse(a);if(a&&!b.protocol){this.log("Reading from file "+a);let b=await j(a,{encoding:"utf8"});return this.makeEndpoint(JSON.parse(b))}{this.log("Requesting "+a);let b=await this.transporter.request({url:a});return this.makeEndpoint(b.data)}}{this.log("Requesting "+a.url);let b=a.url;delete a.url;let c=await (0,h.createAPIRequest)({options:{url:b,method:"GET"},requiredParams:[],pathParams:[],params:a,context:{google:{_options:{}},_options:{}}});return this.makeEndpoint(c.data)}}}b.Discovery=k},61757:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.AuthPlus=void 0;let d=c(113);class e extends d.GoogleAuth{JWT=d.JWT;Compute=d.Compute;OAuth2=d.OAuth2Client;GoogleAuth=d.GoogleAuth;AwsClient=d.AwsClient;IdentityPoolClient=d.IdentityPoolClient;ExternalAccountClient=d.ExternalAccountClient;_cachedAuth;async getClient(a){return this._cachedAuth=new d.GoogleAuth(a),this._cachedAuth.getClient()}getProjectId(a){return a?this._cachedAuth?this._cachedAuth.getProjectId(a):super.getProjectId(a):this._cachedAuth?this._cachedAuth.getProjectId():super.getProjectId()}}b.AuthPlus=e},78647:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.Endpoint=b.Discovery=b.AuthPlus=b.createAPIRequest=b.getAPI=b.GaxiosError=b.Gaxios=b.AwsClient=b.IdentityPoolClient=b.BaseExternalAccountClient=b.ExternalAccountClient=b.GoogleAuth=b.UserRefreshClient=b.Compute=b.JWT=b.OAuth2Client=b.gaxios=b.googleAuthLibrary=void 0,b.googleAuthLibrary=c(113),b.gaxios=c(41421);var f=c(113);Object.defineProperty(b,"OAuth2Client",{enumerable:!0,get:function(){return f.OAuth2Client}}),Object.defineProperty(b,"JWT",{enumerable:!0,get:function(){return f.JWT}}),Object.defineProperty(b,"Compute",{enumerable:!0,get:function(){return f.Compute}}),Object.defineProperty(b,"UserRefreshClient",{enumerable:!0,get:function(){return f.UserRefreshClient}}),Object.defineProperty(b,"GoogleAuth",{enumerable:!0,get:function(){return f.GoogleAuth}}),Object.defineProperty(b,"ExternalAccountClient",{enumerable:!0,get:function(){return f.ExternalAccountClient}}),Object.defineProperty(b,"BaseExternalAccountClient",{enumerable:!0,get:function(){return f.BaseExternalAccountClient}}),Object.defineProperty(b,"IdentityPoolClient",{enumerable:!0,get:function(){return f.IdentityPoolClient}}),Object.defineProperty(b,"AwsClient",{enumerable:!0,get:function(){return f.AwsClient}});var g=c(41421);Object.defineProperty(b,"Gaxios",{enumerable:!0,get:function(){return g.Gaxios}}),Object.defineProperty(b,"GaxiosError",{enumerable:!0,get:function(){return g.GaxiosError}});var h=c(98655);Object.defineProperty(b,"getAPI",{enumerable:!0,get:function(){return h.getAPI}});var i=c(55014);Object.defineProperty(b,"createAPIRequest",{enumerable:!0,get:function(){return i.createAPIRequest}});var j=c(61757);Object.defineProperty(b,"AuthPlus",{enumerable:!0,get:function(){return j.AuthPlus}});var k=c(55573);Object.defineProperty(b,"Discovery",{enumerable:!0,get:function(){return k.Discovery}});var l=c(33942);Object.defineProperty(b,"Endpoint",{enumerable:!0,get:function(){return l.Endpoint}}),e(c(17103),b)},98655:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getAPI=function(a,b,c,d){let e;if("string"==typeof b)e=b,b={};else if("object"==typeof b)e=b.version,delete b.version;else throw Error("Argument error: Accepts only string or object");try{let a=new c[e](b,d);return Object.freeze(a)}catch(b){throw Error(`Unable to load endpoint ${a}("${e}"): ${b.message}`)}}}};