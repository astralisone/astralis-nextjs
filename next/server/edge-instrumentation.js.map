{"version":3,"file":"edge-instrumentation.js","mappings":"2FASO,eAAeA,IAwBtB","sources":["webpack://_N_E/./src/instrumentation.ts"],"sourcesContent":["/**\n * Next.js Instrumentation Hook\n *\n * This file is automatically called by Next.js when the server starts.\n * It's used to initialize the Orchestration Agent system on server startup.\n *\n * @see https://nextjs.org/docs/app/building-your-application/optimizing/instrumentation\n */\n\nexport async function register() {\n  if (process.env.NEXT_RUNTIME === 'nodejs') {\n    const { initializeAgentSystem, getAgentInstance } = await import('@/lib/agent');\n\n    console.log('[Instrumentation] Initializing agent system...');\n\n    // Initialize system-wide components\n    await initializeAgentSystem({\n      enableWebhooks: true,\n      enableEmail: true,\n      enableDBTriggers: true,\n      enableWorkerEvents: true,\n    });\n\n    // Start default org agent\n    const defaultOrgId = process.env.DEFAULT_ORG_ID;\n    if (defaultOrgId) {\n      const agent = getAgentInstance(defaultOrgId);\n      agent.start();\n      console.log(`[Instrumentation] OA started for org: ${defaultOrgId}`);\n    } else {\n      console.warn('[Instrumentation] DEFAULT_ORG_ID not set, skipping agent startup');\n    }\n  }\n}\n"],"names":["register"],"sourceRoot":"","ignoreList":[]}