exports.id=5047,exports.ids=[5047],exports.modules={579:(a,b,c)=>{var d=null;let e={pagerender:function(a){return a.getTextContent({normalizeWhitespace:!1,disableCombineTextItems:!1}).then(function(a){let b,c="";for(let d of a.items)b!=d.transform[5]&&b?c+="\n"+d.str:c+=d.str,b=d.transform[5];return c})},max:0,version:"v1.10.100"};a.exports=async function(a,b){let f={numpages:0,numrender:0,info:null,metadata:null,text:"",version:null};void 0===b&&(b=e),"function"!=typeof b.pagerender&&(b.pagerender=e.pagerender),"number"!=typeof b.max&&(b.max=e.max),"string"!=typeof b.version&&(b.version=e.version),"default"==b.version&&(b.version=e.version),f.version=(d=d||c(50861)(`./${b.version}/build/pdf.js`)).version,d.disableWorker=!0;let g=await d.getDocument(a);f.numpages=g.numPages;let h=await g.getMetadata().catch(function(a){return null});f.info=h?h.info:null,f.metadata=h?h.metadata:null;let i=b.max<=0?g.numPages:b.max;i=i>g.numPages?g.numPages:i,f.text="";for(var j=1;j<=i;j++){let a=await g.getPage(j).then(a=>b.pagerender(a)).catch(a=>"");f.text=`${f.text}

${a}`}return f.numrender=i,g.destroy(),f}},5472:a=>{"use strict";a.exports=function(a,b,c){if("string"!=typeof b)throw Error("Input must be string");for(var d,e,f,g=b.length,h=0,i=0;i<g;i+=1){if(e=b.charCodeAt(i),f=b[i],e>=55296&&e<=56319&&(d=b.charCodeAt(i+1))>=56320&&d<=57343&&(i+=1,f+=b[i]),(h+=a(f))===c)return b.slice(0,i+1);if(h>c)return b.slice(0,i-f.length+1)}return b}},24800:(a,b,c)=>{"use strict";var d=c(5472),e=Buffer.byteLength.bind(Buffer);a.exports=d.bind(null,e)},28947:(a,b,c)=>{"use strict";c.d(b,{BI:()=>M}),c(44901);let d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},e={};for(let[a,b]of Object.entries(d))e[b]=Number.parseInt(a);function f(a){return new DataView(a.buffer,a.byteOffset)}let g={len:1,get:(a,b)=>f(a).getUint8(b),put:(a,b,c)=>(f(a).setUint8(b,c),b+1)},h={len:2,get:(a,b)=>f(a).getUint16(b,!0),put:(a,b,c)=>(f(a).setUint16(b,c,!0),b+2)},i={len:2,get:(a,b)=>f(a).getUint16(b),put:(a,b,c)=>(f(a).setUint16(b,c),b+2)},j={len:4,get:(a,b)=>f(a).getUint32(b,!0),put:(a,b,c)=>(f(a).setUint32(b,c,!0),b+4)},k={len:4,get:(a,b)=>f(a).getUint32(b),put:(a,b,c)=>(f(a).setUint32(b,c),b+4)},l={len:4,get:(a,b)=>f(a).getInt32(b),put:(a,b,c)=>(f(a).setInt32(b,c),b+4)},m={len:8,get:(a,b)=>f(a).getBigUint64(b,!0),put:(a,b,c)=>(f(a).setBigUint64(b,c,!0),b+8)};class n{constructor(a,b){this.len=a,this.encoding=b}get(a,b=0){return function(a,b="utf-8"){switch(b.toLowerCase()){case"utf-8":case"utf8":if(void 0!==globalThis.TextDecoder)return new globalThis.TextDecoder("utf-8").decode(a);return function(a){let b="",c=0;for(;c<a.length;){let d=a[c++];if(d<128)b+=String.fromCharCode(d);else if(d<224)b+=String.fromCharCode((31&d)<<6|63&a[c++]);else if(d<240)b+=String.fromCharCode((15&d)<<12|(63&a[c++])<<6|63&a[c++]);else{let e=63&a[c++],f=(7&d)<<18|e<<12|(63&a[c++])<<6|63&a[c++];f-=65536,b+=String.fromCharCode(55296+(f>>10&1023),56320+(1023&f))}}return b}(a);case"utf-16le":var c=a;let e="";for(let a=0;a<c.length;a+=2)e+=String.fromCharCode(c[a]|c[a+1]<<8);return e;case"ascii":return String.fromCharCode(...a.map(a=>127&a));case"latin1":case"iso-8859-1":return String.fromCharCode(...a);case"windows-1252":var f=a;let g="";for(let a of f)a>=128&&a<=159&&d[a]?g+=d[a]:g+=String.fromCharCode(a);return g;default:throw RangeError(`Encoding '${b}' not supported`)}}(a.subarray(b,b+this.len),this.encoding)}}class o extends Error{constructor(){super("End-Of-Stream"),this.name="EndOfStreamError"}}class p extends Error{constructor(a="The operation was aborted"){super(a),this.name="AbortError"}}class q{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(a,b=!1){let c=await this.read(a,b);return this.peekQueue.push(a.subarray(0,c)),c}async read(a,b=!1){if(0===a.length)return 0;let c=this.readFromPeekBuffer(a);if(this.endOfStream||(c+=await this.readRemainderFromStream(a.subarray(c),b)),0===c&&!b)throw new o;return c}readFromPeekBuffer(a){let b=a.length,c=0;for(;this.peekQueue.length>0&&b>0;){let d=this.peekQueue.pop();if(!d)throw Error("peekData should be defined");let e=Math.min(d.length,b);a.set(d.subarray(0,e),c),c+=e,b-=e,e<d.length&&this.peekQueue.push(d.subarray(e))}return c}async readRemainderFromStream(a,b){let c=0;for(;c<a.length&&!this.endOfStream;){if(this.interrupted)throw new p;let d=await this.readFromStream(a.subarray(c),b);if(0===d)break;c+=d}if(!b&&c<a.length)throw new o;return c}}class r extends q{constructor(a){super(),this.reader=a}async abort(){return this.close()}async close(){this.reader.releaseLock()}}class s extends r{async readFromStream(a,b){if(0===a.length)return 0;let c=await this.reader.read(new Uint8Array(a.length),{min:b?void 0:a.length});return(c.done&&(this.endOfStream=c.done),c.value)?(a.set(c.value),c.value.length):0}}class t extends q{constructor(a){super(),this.reader=a,this.buffer=null}writeChunk(a,b){let c=Math.min(b.length,a.length);return a.set(b.subarray(0,c)),c<b.length?this.buffer=b.subarray(c):this.buffer=null,c}async readFromStream(a,b){if(0===a.length)return 0;let c=0;for(this.buffer&&(c+=this.writeChunk(a,this.buffer));c<a.length&&!this.endOfStream;){let b=await this.reader.read();if(b.done){this.endOfStream=!0;break}b.value&&(c+=this.writeChunk(a.subarray(c),b.value))}if(!b&&0===c&&this.endOfStream)throw new o;return c}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}class u{constructor(a){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=a?.onClose,a?.abortSignal&&a.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(a,b=this.position){let c=new Uint8Array(a.len);if(await this.readBuffer(c,{position:b})<a.len)throw new o;return a.get(c,0)}async peekToken(a,b=this.position){let c=new Uint8Array(a.len);if(await this.peekBuffer(c,{position:b})<a.len)throw new o;return a.get(c,0)}async readNumber(a){if(await this.readBuffer(this.numBuffer,{length:a.len})<a.len)throw new o;return a.get(this.numBuffer,0)}async peekNumber(a){if(await this.peekBuffer(this.numBuffer,{length:a.len})<a.len)throw new o;return a.get(this.numBuffer,0)}async ignore(a){if(void 0!==this.fileInfo.size){let b=this.fileInfo.size-this.position;if(a>b)return this.position+=b,b}return this.position+=a,a}async close(){await this.abort(),await this.onClose?.()}normalizeOptions(a,b){if(!this.supportsRandomAccess()&&b&&void 0!==b.position&&b.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return{...{mayBeLess:!1,offset:0,length:a.length,position:this.position},...b}}abort(){return Promise.resolve()}}class v extends u{constructor(a,b){super(b),this.streamReader=a,this.fileInfo=b?.fileInfo??{}}async readBuffer(a,b){let c=this.normalizeOptions(a,b),d=c.position-this.position;if(d>0)return await this.ignore(d),this.readBuffer(a,b);if(d<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===c.length)return 0;let e=await this.streamReader.read(a.subarray(0,c.length),c.mayBeLess);if(this.position+=e,(!b||!b.mayBeLess)&&e<c.length)throw new o;return e}async peekBuffer(a,b){let c=this.normalizeOptions(a,b),d=0;if(c.position){let b=c.position-this.position;if(b>0){let e=new Uint8Array(c.length+b);return d=await this.peekBuffer(e,{mayBeLess:c.mayBeLess}),a.set(e.subarray(b)),d-b}if(b<0)throw Error("Cannot peek from a negative offset in a stream")}if(c.length>0){try{d=await this.streamReader.peek(a.subarray(0,c.length),c.mayBeLess)}catch(a){if(b?.mayBeLess&&a instanceof o)return 0;throw a}if(!c.mayBeLess&&d<c.length)throw new o}return d}async ignore(a){let b=Math.min(256e3,a),c=new Uint8Array(b),d=0;for(;d<a;){let e=a-d,f=await this.readBuffer(c,{length:Math.min(b,e)});if(f<0)return f;d+=f}return d}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}class w extends u{constructor(a,b){super(b),this.uint8Array=a,this.fileInfo={...b?.fileInfo??{},...{size:a.length}}}async readBuffer(a,b){b?.position&&(this.position=b.position);let c=await this.peekBuffer(a,b);return this.position+=c,c}async peekBuffer(a,b){let c=this.normalizeOptions(a,b),d=Math.min(this.uint8Array.length-c.position,c.length);if(!c.mayBeLess&&d<c.length)throw new o;return a.set(this.uint8Array.subarray(c.position,c.position+d)),d}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(a){this.position=a}}class x extends u{constructor(a,b){super(b),this.blob=a,this.fileInfo={...b?.fileInfo??{},...{size:a.size,mimeType:a.type}}}async readBuffer(a,b){b?.position&&(this.position=b.position);let c=await this.peekBuffer(a,b);return this.position+=c,c}async peekBuffer(a,b){let c=this.normalizeOptions(a,b),d=Math.min(this.blob.size-c.position,c.length);if(!c.mayBeLess&&d<c.length)throw new o;let e=await this.blob.slice(c.position,c.position+d).arrayBuffer();return a.set(new Uint8Array(e)),d}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(a){this.position=a}}var y=c(13251);let z={LocalFileHeader:0x4034b50,DataDescriptor:0x8074b50,CentralFileHeader:0x2014b50,EndOfCentralDirectory:0x6054b50},A={get:a=>({signature:j.get(a,0),compressedSize:j.get(a,8),uncompressedSize:j.get(a,12)}),len:16},B={get(a){let b=h.get(a,6);return{signature:j.get(a,0),minVersion:h.get(a,4),dataDescriptor:!!(8&b),compressedMethod:h.get(a,8),compressedSize:j.get(a,18),uncompressedSize:j.get(a,22),filenameLength:h.get(a,26),extraFieldLength:h.get(a,28),filename:null}},len:30},C={get:a=>({signature:j.get(a,0),nrOfThisDisk:h.get(a,4),nrOfThisDiskWithTheStart:h.get(a,6),nrOfEntriesOnThisDisk:h.get(a,8),nrOfEntriesOfSize:h.get(a,10),sizeOfCd:j.get(a,12),offsetOfStartOfCd:j.get(a,16),zipFileCommentLength:h.get(a,20)}),len:22},D={get(a){let b=h.get(a,8);return{signature:j.get(a,0),minVersion:h.get(a,6),dataDescriptor:!!(8&b),compressedMethod:h.get(a,10),compressedSize:j.get(a,20),uncompressedSize:j.get(a,24),filenameLength:h.get(a,28),extraFieldLength:h.get(a,30),fileCommentLength:h.get(a,32),relativeOffsetOfLocalHeader:j.get(a,42),filename:null}},len:46};function E(a){let b=new Uint8Array(j.len);return j.put(b,0,a),b}let F=y("tokenizer:inflate"),G=E(z.DataDescriptor),H=E(z.EndOfCentralDirectory);class I{constructor(a){this.tokenizer=a,this.syncBuffer=new Uint8Array(262144)}async isZip(){return await this.peekSignature()===z.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(j)}async findEndOfCentralDirectoryLocator(){let a=this.tokenizer,b=Math.min(16384,a.fileInfo.size),c=this.syncBuffer.subarray(0,b);await this.tokenizer.readBuffer(c,{position:a.fileInfo.size-b});for(let d=c.length-4;d>=0;d--)if(c[d]===H[0]&&c[d+1]===H[1]&&c[d+2]===H[2]&&c[d+3]===H[3])return a.fileInfo.size-b+d;return -1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess())return void F("Cannot reading central-directory without random-read support");F("Reading central-directory...");let a=this.tokenizer.position,b=await this.findEndOfCentralDirectoryLocator();if(b>0){F("Central-directory 32-bit signature found");let c=await this.tokenizer.readToken(C,b),d=[];this.tokenizer.setPosition(c.offsetOfStartOfCd);for(let a=0;a<c.nrOfEntriesOfSize;++a){let b=await this.tokenizer.readToken(D);if(b.signature!==z.CentralFileHeader)throw Error("Expected Central-File-Header signature");b.filename=await this.tokenizer.readToken(new n(b.filenameLength,"utf-8")),await this.tokenizer.ignore(b.extraFieldLength),await this.tokenizer.ignore(b.fileCommentLength),d.push(b),F(`Add central-directory file-entry: n=${a+1}/${d.length}: filename=${d[a].filename}`)}return this.tokenizer.setPosition(a),d}this.tokenizer.setPosition(a)}async unzip(a){let b=await this.readCentralDirectory();if(b)return this.iterateOverCentralDirectory(b,a);let c=!1;do{let b,d=await this.readLocalFileHeader();if(!d)break;let e=a(d);if(c=!!e.stop,await this.tokenizer.ignore(d.extraFieldLength),d.dataDescriptor&&0===d.compressedSize){let a=[],b=262144;F("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let c=-1;for(;c<0&&262144===b;){b=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0});let d=(c=function(a,b){let c=a.length,d=b.length;if(d>c)return -1;for(let e=0;e<=c-d;e++){let c=!0;for(let f=0;f<d;f++)if(a[e+f]!==b[f]){c=!1;break}if(c)return e}return -1}(this.syncBuffer.subarray(0,b),G))>=0?c:b;if(e.handler){let b=new Uint8Array(d);await this.tokenizer.readBuffer(b),a.push(b)}else await this.tokenizer.ignore(d)}F(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),e.handler&&await this.inflate(d,function(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}(a),e.handler)}else e.handler?(F(`Reading compressed-file-data: ${d.compressedSize} bytes`),b=new Uint8Array(d.compressedSize),await this.tokenizer.readBuffer(b),await this.inflate(d,b,e.handler)):(F(`Ignoring compressed-file-data: ${d.compressedSize} bytes`),await this.tokenizer.ignore(d.compressedSize));if(F(`Reading data-descriptor at pos=${this.tokenizer.position}`),d.dataDescriptor&&0x8074b50!==(await this.tokenizer.readToken(A)).signature)throw Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-A.len}`)}while(!c)}async iterateOverCentralDirectory(a,b){for(let c of a){let a=b(c);if(a.handler){this.tokenizer.setPosition(c.relativeOffsetOfLocalHeader);let b=await this.readLocalFileHeader();if(b){await this.tokenizer.ignore(b.extraFieldLength);let d=new Uint8Array(c.compressedSize);await this.tokenizer.readBuffer(d),await this.inflate(b,d,a.handler)}}if(a.stop)break}}async inflate(a,b,c){if(0===a.compressedMethod)return c(b);if(8!==a.compressedMethod)throw Error(`Unsupported ZIP compression method: ${a.compressedMethod}`);return F(`Decompress filename=${a.filename}, compressed-size=${b.length}`),c(await I.decompressDeflateRaw(b))}static async decompressDeflateRaw(a){let b=new ReadableStream({start(b){b.enqueue(a),b.close()}}),c=new DecompressionStream("deflate-raw"),d=b.pipeThrough(c);try{let a=new Response(d),b=await a.arrayBuffer();return new Uint8Array(b)}catch(a){throw TypeError(a instanceof Error?`Failed to deflate ZIP entry: ${a.message}`:"Unknown decompression error in ZIP entry")}}async readLocalFileHeader(){let a=await this.tokenizer.peekToken(j);if(a===z.LocalFileHeader){let a=await this.tokenizer.readToken(B);return a.filename=await this.tokenizer.readToken(new n(a.filenameLength,"utf-8")),a}if(a===z.CentralFileHeader)return!1;if(0xe011cfd0===a)throw Error("Encrypted ZIP");throw Error("Unexpected signature")}}class J{constructor(a){this.tokenizer=a}inflate(){let a=this.tokenizer;return new ReadableStream({async pull(b){let c=new Uint8Array(1024),d=await a.readBuffer(c,{mayBeLess:!0});if(0===d)return void b.close();b.enqueue(c.subarray(0,d))}}).pipeThrough(new DecompressionStream("gzip"))}}function K(a){let{byteLength:b}=a;return 6===b?0x100000000*a.getUint16(0)+a.getUint32(2):5===b?0x100000000*a.getUint8(0)+a.getUint32(1):4===b?a.getUint32(0):3===b?65536*a.getUint8(0)+a.getUint16(1):2===b?a.getUint16(0):1===b?a.getUint8(0):void 0}Object.prototype.toString,new globalThis.TextDecoder("utf8"),new globalThis.TextEncoder,Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));let L={get:(a,b)=>127&a[b+3]|a[b+2]<<7|a[b+1]<<14|a[b]<<21,len:4};async function M(a,b){return new P(b).fromBuffer(a)}function N(a){switch(a=a.toLowerCase()){case"application/epub+zip":return{ext:"epub",mime:a};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:a};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:a};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:a};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:a};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:a};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:a};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:a};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:a};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:a};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:a};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:a};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:a};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:a};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:a};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:a};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"}}}function O(a,b,c){for(let[d,e]of(c={offset:0,...c},b.entries()))if(c.mask){if(e!==(c.mask[d]&a[d+c.offset]))return!1}else if(e!==a[d+c.offset])return!1;return!0}class P{constructor(a){this.options={mpegOffsetTolerance:0,...a},this.detectors=[...a?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:a?.signal}}async fromTokenizer(a){let b=a.position;for(let c of this.detectors){let d=await c.detect(a);if(d)return d;if(b!==a.position)return}}async fromBuffer(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof a}\``);let b=a instanceof Uint8Array?a:new Uint8Array(a);if(b?.length>1)return this.fromTokenizer(new w(b,this.tokenizerOptions))}async fromBlob(a){let b=new x(a,this.tokenizerOptions);try{return await this.fromTokenizer(b)}finally{await b.close()}}async fromStream(a){let b=function(a,b){let c=function(a){try{let b=a.getReader({mode:"byob"});if(b instanceof ReadableStreamDefaultReader)return new t(b);return new s(b)}catch(b){if(b instanceof TypeError)return new t(a.getReader());throw b}}(a),d=b??{},e=d.onClose;return d.onClose=async()=>{if(await c.close(),e)return e()},new v(c,d)}(a,this.tokenizerOptions);try{return await this.fromTokenizer(b)}finally{await b.close()}}async toDetectionStream(a,b){let c,d,{sampleSize:e=4100}=b,f=a.getReader({mode:"byob"});try{let{value:a,done:b}=await f.read(new Uint8Array(e));if(d=a,!b&&a)try{c=await this.fromBuffer(a.subarray(0,e))}catch(a){if(!(a instanceof o))throw a;c=void 0}d=a}finally{f.releaseLock()}let g=new TransformStream({async start(a){a.enqueue(d)},transform(a,b){b.enqueue(a)}}),h=a.pipeThrough(g);return h.fileType=c,h}check(a,b){return O(this.buffer,a,b)}checkString(a,b){return this.check(function(a,b){if("utf-16le"===b){let b=[];for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);b.push(255&d,d>>8&255)}return b}if("utf-16be"===b){let b=[];for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);b.push(d>>8&255,255&d)}return b}return[...a].map(a=>a.charCodeAt(0))}(a,b?.encoding),b)}detectConfident=async a=>{if(this.buffer=new Uint8Array(4100),void 0===a.fileInfo.size&&(a.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=a,await a.peekBuffer(this.buffer,{length:32,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return(await a.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(a);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8])){let b=new J(a).inflate(),c=!0;try{let a;try{a=await this.fromStream(b)}catch{c=!1}if(a&&"tar"===a.ext)return{ext:"tar.gz",mime:"application/gzip"}}finally{c&&await b.cancel()}return{ext:"gz",mime:"application/gzip"}}if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await a.ignore(6);let b=await a.readToken(L);return a.position+b>a.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await a.ignore(b),this.fromTokenizer(a))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let b;return await new I(a).unzip(a=>{switch(a.filename){case"META-INF/mozilla.rsa":return b={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return b={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(a){b=N(new TextDecoder("utf-8").decode(a).trim())},stop:!0};case"[Content_Types].xml":return{async handler(a){let c=new TextDecoder("utf-8").decode(a),d=c.indexOf('.main+xml"');if(-1===d){let a="application/vnd.ms-package.3dmanufacturing-3dmodel+xml";c.includes(`ContentType="${a}"`)&&(b=N(a))}else{let a=(c=c.slice(0,Math.max(0,d))).lastIndexOf('"');b=N(c.slice(Math.max(0,a+1)))}},stop:!0};default:if(/classes\d*\.dex/.test(a.filename))return b={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0};return{}}}).catch(a=>{if(!(a instanceof o))throw a}),b??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await a.ignore(28);let b=new Uint8Array(8);return(await a.readBuffer(b),O(b,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/ogg; codecs=opus"}:O(b,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:O(b,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:O(b,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:O(b,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:O(b,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let a=await this.readTiffHeader(!1);if(a)return a}if(this.check([77,77])){let a=await this.readTiffHeader(!0);if(a)return a}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function b(){let b=await a.peekNumber(g),c=128,d=0;for(;(b&c)==0&&0!==c;)++d,c>>=1;let e=new Uint8Array(d+1);return await a.readBuffer(e),e}async function c(){let a=await b(),c=await b();c[0]^=128>>c.length-1;let d=Math.min(6,c.length),e=new DataView(a.buffer),f=new DataView(c.buffer,c.length-d,d);return{id:K(e),len:K(f)}}async function d(b){for(;b>0;){let d=await c();if(17026===d.id)return(await a.readToken(new n(d.len))).replaceAll(/\00.*$/g,"");await a.ignore(d.len),--b}}let e=await c();switch(await d(e.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.checkString("regf"))return{ext:"dat",mime:"application/x-ft-windows-registry-hive"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let a=new n(4,"latin1").get(this.buffer,2);if(a.match("^d*")&&a>=1e3&&a<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return(await a.ignore(8),"debian-binary"===await a.readToken(new n(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("WEBVTT")&&["\n","\r","	"," ","\0"].some(a=>this.checkString(a,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){async function e(){return{length:await a.readToken(l),type:await a.readToken(new n(4,"latin1"))}}await a.ignore(8);do{let b=await e();if(b.length<0)return;switch(b.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await a.ignore(b.length+4)}}while(a.position+8<a.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(96&this.buffer[8])!=0){let a=new n(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(a){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(a.startsWith("3g")){if(a.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("REGEDIT4\r\n"))return{ext:"reg",mime:"application/x-ms-regedit"};if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function f(){let b=new Uint8Array(16);return await a.readBuffer(b),{id:b,size:Number(await a.readToken(m))}}for(await a.ignore(30);a.position+24<a.fileInfo.size;){let b=await f(),c=b.size-24;if(O(b.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let b=new Uint8Array(16);if(c-=await a.readBuffer(b),O(b,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(O(b,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await a.ignore(c)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await a.ignore(20),await a.readToken(new n(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.checkString("<?xml ",{offset:2,encoding:"utf-16be"})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await a.peekBuffer(this.buffer,{length:Math.min(256,a.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let a=new DataView(this.buffer.buffer).getUint32(12,!0);if(a>12&&this.buffer.length>=a+16)try{let b=new TextDecoder().decode(this.buffer.subarray(16,a+16));if(JSON.parse(b).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188})||this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await a.peekBuffer(this.buffer,{length:Math.min(512,a.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\0",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&function(a,b=0){let c=Number.parseInt(new n(6).get(a,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(c))return!1;let d=256;for(let c=b;c<b+148;c++)d+=a[c];for(let c=b+156;c<b+512;c++)d+=a[c];return c===d}(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254])){let a="utf-16le";return this.checkString("<?xml ",{offset:2,encoding:a})?{ext:"xml",mime:"application/xml"}:this.check([255,14],{offset:2})&&this.checkString("SketchUp Model",{offset:4,encoding:a})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:this.checkString("Windows Registry Editor Version 5.00\r\n",{offset:2,encoding:a})?{ext:"reg",mime:"application/x-ms-regedit"}:void 0}if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}};detectImprecise=async a=>{if(this.buffer=new Uint8Array(4100),await a.peekBuffer(this.buffer,{length:Math.min(8,a.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await a.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,a.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let a=0;a<=this.options.mpegOffsetTolerance;++a){let b=this.scanMpeg(a);if(b)return b}};async readTiffTag(a){let b=await this.tokenizer.readToken(a?i:h);switch(this.tokenizer.ignore(10),b){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(a){let b=await this.tokenizer.readToken(a?i:h);for(let c=0;c<b;++c){let b=await this.readTiffTag(a);if(b)return b}}async readTiffHeader(a){let b=(a?i:h).get(this.buffer,2),c=(a?k:j).get(this.buffer,4);if(42===b){if(c>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(c>=8){let b=(a?i:h).get(this.buffer,8),c=(a?i:h).get(this.buffer,10);if(28===b&&254===c||31===b&&11===c)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(c),await this.readTiffIFD(a)??{ext:"tif",mime:"image/tiff"}}if(43===b)return{ext:"tif",mime:"image/tiff"}}scanMpeg(a){if(this.check([255,224],{offset:a,mask:[255,224]})){if(this.check([16],{offset:a+1,mask:[22]}))return this.check([8],{offset:a+1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:a+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:a+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:a+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}}},44901:(a,b)=>{b.L=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.M=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=5960464477539062e-23*(23===e),n=d?0:f-1,o=d?1:-1,p=+(b<0||0===b&&1/b<0);for(isNaN(b=Math.abs(b))||b===1/0?(h=+!!isNaN(b),g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),g+l>=1?b+=m/i:b+=m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},54551:(a,b,c)=>{a.exports=c(579)},54763:(a,b,c)=>{"use strict";c.d(b,{A:()=>aD});let d=a=>encodeURIComponent(a).replace(/[!'()*]/g,e),e=a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`,f=async a=>{let b=a?.Bucket||"";if("string"==typeof a.Bucket&&(a.Bucket=b.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),k(b)){if(!0===a.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else j(b)&&(-1===b.indexOf(".")||String(a.Endpoint).startsWith("http:"))&&b.toLowerCase()===b&&!(b.length<3)||(a.ForcePathStyle=!0);return a.DisableMultiRegionAccessPoints&&(a.disableMultiRegionAccessPoints=!0,a.DisableMRAP=!0),a},g=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,h=/(\d+\.){3}\d+/,i=/\.\./,j=a=>g.test(a)&&!h.test(a)&&!i.test(a),k=a=>{let[b,c,d,,,e]=a.split(":"),f="arn"===b&&a.split(":").length>=6,g=!!(f&&c&&d&&e);if(f&&!g)throw Error(`Invalid ARN: ${a} was an invalid ARN.`);return g},l=(a,b,c)=>{let d=async()=>{let d=c[a]??c[b];return"function"==typeof d?d():d};return"credentialScope"===a||"CredentialScope"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.credentialScope??a?.CredentialScope}:"accountId"===a||"AccountId"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.accountId??a?.AccountId}:"endpoint"===a||"endpoint"===b?async()=>{if(!1===c.isCustomEndpoint)return;let a=await d();if(a&&"object"==typeof a){if("url"in a)return a.url.href;if("hostname"in a){let{protocol:b,hostname:c,port:d,path:e}=a;return`${b}//${c}${d?":"+d:""}${e}`}}return a}:d};class m extends Error{name="ProviderError";tryNextLink;constructor(a,b=!0){let c,d=!0;"boolean"==typeof b?(c=void 0,d=b):null!=b&&"object"==typeof b&&(c=b.logger,d=b.tryNextLink??!0),super(a),this.tryNextLink=d,Object.setPrototypeOf(this,m.prototype),c?.debug?.(`@smithy/property-provider ${d?"->":"(!)"} ${a}`)}static from(a,b=!0){return Object.assign(new this(a.message,b),a)}}class n extends m{name="CredentialsProviderError";constructor(a,b=!0){super(a,b),Object.setPrototypeOf(this,n.prototype)}}function o(a){try{let b=new Set(Array.from(a.match(/([A-Z_]){3,}/g)??[]));return b.delete("CONFIG"),b.delete("CONFIG_PREFIX_SEPARATOR"),b.delete("ENV"),[...b].join(", ")}catch(b){return a}}var p,q,r,s=c(33873);!function(a){a.PROFILE="profile",a.SSO_SESSION="sso-session",a.SERVICES="services"}(p||(p={}));let t=a=>Object.entries(a).filter(([a])=>{let b=a.indexOf(".");return -1!==b&&Object.values(p).includes(a.substring(0,b))}).reduce((a,[b,c])=>{let d=b.indexOf(".");return a[b.substring(0,d)===p.PROFILE?b.substring(d+1):b]=c,a},{...a.default&&{default:a.default}});var u=c(21820);let v={},w=()=>{let{HOME:a,USERPROFILE:b,HOMEPATH:c,HOMEDRIVE:d=`C:${s.sep}`}=process.env;if(a)return a;if(b)return b;if(c)return`${d}${c}`;let e=process&&process.geteuid?`${process.geteuid()}`:"DEFAULT";return v[e]||(v[e]=(0,u.homedir)()),v[e]},x=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,y=["__proto__","profile __proto__"],z=a=>{let b,c,d={};for(let e of a.split(/\r?\n/)){let a=e.split(/(^|\s)[;#]/)[0].trim();if("["===a[0]&&"]"===a[a.length-1]){b=void 0,c=void 0;let d=a.substring(1,a.length-1),e=x.exec(d);if(e){let[,a,,c]=e;Object.values(p).includes(a)&&(b=[a,c].join("."))}else b=d;if(y.includes(d))throw Error(`Found invalid profile name "${d}"`)}else if(b){let f=a.indexOf("=");if(![0,-1].includes(f)){let[g,h]=[a.substring(0,f).trim(),a.substring(f+1).trim()];if(""===h)c=g;else{c&&e.trimStart()===e&&(c=void 0),d[b]=d[b]||{};let a=c?[c,g].join("."):g;d[b][a]=h}}}}return d};var A=c(51455);let B={},C={},D=(a,b)=>void 0!==C[a]?C[a]:((!B[a]||b?.ignoreCache)&&(B[a]=(0,A.readFile)(a,"utf8")),B[a]),E=()=>({}),F=async(a={})=>{let{filepath:b=process.env.AWS_SHARED_CREDENTIALS_FILE||(0,s.join)(w(),".aws","credentials"),configFilepath:c=process.env.AWS_CONFIG_FILE||(0,s.join)(w(),".aws","config")}=a,d=w(),e=b;b.startsWith("~/")&&(e=(0,s.join)(d,b.slice(2)));let f=c;c.startsWith("~/")&&(f=(0,s.join)(d,c.slice(2)));let g=await Promise.all([D(f,{ignoreCache:a.ignoreCache}).then(z).then(t).catch(E),D(e,{ignoreCache:a.ignoreCache}).then(z).catch(E)]);return{configFile:g[0],credentialsFile:g[1]}},G="AWS_ENDPOINT_URL",H="endpoint_url",I=async a=>(({environmentVariableSelector:a,configFileSelector:b,default:c},d={})=>{let{signingName:e,logger:f}=d;return((a,b,c)=>{let d,e,f,g=async()=>{e||(e=a());try{d=await e,f=!0}finally{e=void 0}return d};return async a=>((!f||a?.forceRefresh)&&(d=await g()),d)})(((...a)=>async()=>{let b;if(0===a.length)throw new m("No providers in chain");for(let c of a)try{return await c()}catch(a){if(b=a,a?.tryNextLink)continue;throw a}throw b})(((a,b)=>async()=>{try{let c=a(process.env,b);if(void 0===c)throw Error();return c}catch(c){throw new n(c.message||`Not found in ENV: ${o(a.toString())}`,{logger:b?.logger})}})(a,{signingName:e,logger:f}),((a,{preferredFile:b="config",...c}={})=>async()=>{let d=c.profile||process.env.AWS_PROFILE||"default",{configFile:e,credentialsFile:f}=await F(c),g=f[d]||{},h=e[d]||{},i="config"===b?{...g,...h}:{...h,...g};try{let c="config"===b?e:f,d=a(i,c);if(void 0===d)throw Error();return d}catch(b){throw new n(b.message||`Not found in config files w/ profile [${d}]: ${o(a.toString())}`,{logger:c.logger})}})(b,d),(a=>"function"==typeof a?async()=>await a():()=>Promise.resolve(a))(c)))})((a=>({environmentVariableSelector:b=>{let c=b[[G,...a.split(" ").map(a=>a.toUpperCase())].join("_")];if(c)return c;let d=b[G];if(d)return d},configFileSelector:(b,c)=>{if(c&&b.services){let d=c[["services",b.services].join(".")];if(d){let b=d[[a.split(" ").map(a=>a.toLowerCase()).join("_"),H].join(".")];if(b)return b}}let d=b[H];if(d)return d},default:void 0}))(a??""))(),J=a=>{let b;if("string"==typeof a)return J(new URL(a));let{hostname:c,pathname:d,port:e,protocol:f,search:g}=a;return g&&(b=function(a){let b={};if(a=a.replace(/^\?/,""))for(let c of a.split("&")){let[a,d=null]=c.split("=");a=decodeURIComponent(a),d&&(d=decodeURIComponent(d)),a in b?Array.isArray(b[a])?b[a].push(d):b[a]=[b[a],d]:b[a]=d}return b}(g)),{hostname:c,port:e?parseInt(e):void 0,protocol:f,path:d,query:b}},K=async(a,b,c,d)=>{if(!c.isCustomEndpoint){let a;(a=c.serviceConfiguredEndpoint?await c.serviceConfiguredEndpoint():await I(c.serviceId))&&(c.endpoint=()=>Promise.resolve((a=>"object"==typeof a?"url"in a?J(a.url):a:J(a))(a)),c.isCustomEndpoint=!0)}let e=await L(a,b,c);if("function"!=typeof c.endpointProvider)throw Error("config.endpointProvider is not set.");return c.endpointProvider(e,d)},L=async(a,b,c)=>{let d={},e=b?.getEndpointParameterInstructions?.()||{};for(let[b,f]of Object.entries(e))switch(f.type){case"staticContextParams":d[b]=f.value;break;case"contextParams":d[b]=a[f.name];break;case"clientContextParams":case"builtInParams":d[b]=await l(f.name,b,c)();break;case"operationContextParams":d[b]=f.get(a);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(f))}return 0===Object.keys(e).length&&Object.assign(d,c),"s3"===String(c.serviceId).toLowerCase()&&await f(d),d};class M{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(a){this.method=a.method||"GET",this.hostname=a.hostname||"localhost",this.port=a.port,this.query=a.query||{},this.headers=a.headers||{},this.body=a.body,this.protocol=a.protocol?":"!==a.protocol.slice(-1)?`${a.protocol}:`:a.protocol:"https:",this.path=a.path?"/"!==a.path.charAt(0)?`/${a.path}`:a.path:"/",this.username=a.username,this.password=a.password,this.fragment=a.fragment}static clone(a){var b;let c=new M({...a,headers:{...a.headers}});return c.query&&(c.query=Object.keys(b=c.query).reduce((a,c)=>{let d=b[c];return{...a,[c]:Array.isArray(d)?[...d]:d}},{})),c}static isInstance(a){return!!a&&"method"in a&&"protocol"in a&&"hostname"in a&&"path"in a&&"object"==typeof a.query&&"object"==typeof a.headers}clone(){return M.clone(this)}}let N={},O={};for(let a=0;a<256;a++){let b=a.toString(16).toLowerCase();1===b.length&&(b=`0${b}`),N[a]=b,O[b]=a}function P(a){let b="";for(let c=0;c<a.byteLength;c++)b+=N[a[c]];return b}var Q=c(79428);let R=a=>{let b=((a,b)=>{if("string"!=typeof a)throw TypeError(`The "input" argument must be of type string. Received type ${typeof a} (${a})`);return b?Q.Buffer.from(a,b):Q.Buffer.from(a)})(a,"utf8");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength/Uint8Array.BYTES_PER_ELEMENT)},S=a=>"string"==typeof a?R(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a),T="X-Amz-Date",U="X-Amz-Signature",V="X-Amz-Security-Token",W="authorization",X=T.toLowerCase(),Y=[W,X,"date"],Z=U.toLowerCase(),$="x-amz-content-sha256",_=V.toLowerCase(),aa={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ab=/^proxy-/,ac=/^sec-/,ad="AWS4-HMAC-SHA256",ae="aws4_request",af={},ag=[],ah=(a,b,c)=>`${a}/${b}/${c}/${ae}`,ai=async(a,b,c,d,e)=>{let f=await aj(a,b.secretAccessKey,b.accessKeyId),g=`${c}:${d}:${e}:${P(f)}:${b.sessionToken}`;if(g in af)return af[g];for(ag.push(g);ag.length>50;)delete af[ag.shift()];let h=`AWS4${b.secretAccessKey}`;for(let b of[c,d,e,ae])h=await aj(a,h,b);return af[g]=h},aj=(a,b,c)=>{let d=new a(b);return d.update(S(c)),d.digest()},ak=({headers:a},b,c)=>{let d={};for(let e of Object.keys(a).sort()){if(void 0==a[e])continue;let f=e.toLowerCase();(!(f in aa||b?.has(f)||ab.test(f)||ac.test(f))||c&&(!c||c.has(f)))&&(d[f]=a[e].trim().replace(/\s+/g," "))}return d},al=async({headers:a,body:b},c)=>{for(let b of Object.keys(a))if(b.toLowerCase()===$)return a[b];if(void 0==b)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof b||ArrayBuffer.isView(b)||(a=>"function"==typeof ArrayBuffer&&a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a))(b)){let a=new c;return a.update(S(b)),P(await a.digest())}return"UNSIGNED-PAYLOAD"};class am{format(a){let b=[];for(let c of Object.keys(a)){let d=R(c);b.push(Uint8Array.from([d.byteLength]),d,this.formatHeaderValue(a[c]))}let c=new Uint8Array(b.reduce((a,b)=>a+b.byteLength,0)),d=0;for(let a of b)c.set(a,d),d+=a.byteLength;return c}formatHeaderValue(a){switch(a.type){case"boolean":return Uint8Array.from([+!a.value]);case"byte":return Uint8Array.from([2,a.value]);case"short":let b=new DataView(new ArrayBuffer(3));return b.setUint8(0,3),b.setInt16(1,a.value,!1),new Uint8Array(b.buffer);case"integer":let c=new DataView(new ArrayBuffer(5));return c.setUint8(0,4),c.setInt32(1,a.value,!1),new Uint8Array(c.buffer);case"long":let d=new Uint8Array(9);return d[0]=5,d.set(a.value.bytes,1),d;case"binary":let e=new DataView(new ArrayBuffer(3+a.value.byteLength));e.setUint8(0,6),e.setUint16(1,a.value.byteLength,!1);let f=new Uint8Array(e.buffer);return f.set(a.value,3),f;case"string":let g=R(a.value),h=new DataView(new ArrayBuffer(3+g.byteLength));h.setUint8(0,7),h.setUint16(1,g.byteLength,!1);let i=new Uint8Array(h.buffer);return i.set(g,3),i;case"timestamp":let j=new Uint8Array(9);return j[0]=8,j.set(ao.fromNumber(a.value.valueOf()).bytes,1),j;case"uuid":if(!an.test(a.value))throw Error(`Invalid UUID received: ${a.value}`);let k=new Uint8Array(17);return k[0]=9,k.set(function(a){if(a.length%2!=0)throw Error("Hex encoded strings must have an even number length");let b=new Uint8Array(a.length/2);for(let c=0;c<a.length;c+=2){let d=a.slice(c,c+2).toLowerCase();if(d in O)b[c/2]=O[d];else throw Error(`Cannot decode unrecognized sequence ${d} as hexadecimal`)}return b}(a.value.replace(/\-/g,"")),1),k}}}!function(a){a[a.boolTrue=0]="boolTrue",a[a.boolFalse=1]="boolFalse",a[a.byte=2]="byte",a[a.short=3]="short",a[a.integer=4]="integer",a[a.long=5]="long",a[a.byteArray=6]="byteArray",a[a.string=7]="string",a[a.timestamp=8]="timestamp",a[a.uuid=9]="uuid"}(q||(q={}));let an=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class ao{bytes;constructor(a){if(this.bytes=a,8!==a.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(a){if(a>0x8000000000000000||a<-0x8000000000000000)throw Error(`${a} is too large (or, if negative, too small) to represent as an Int64`);let b=new Uint8Array(8);for(let c=7,d=Math.abs(Math.round(a));c>-1&&d>0;c--,d/=256)b[c]=d;return a<0&&ap(b),new ao(b)}valueOf(){let a=this.bytes.slice(0),b=128&a[0];return b&&ap(a),parseInt(P(a),16)*(b?-1:1)}toString(){return String(this.valueOf())}}function ap(a){for(let b=0;b<8;b++)a[b]^=255;for(let b=7;b>-1&&(a[b]++,0===a[b]);b--);}let aq=a=>{for(let b of Object.keys((a=M.clone(a)).headers))Y.indexOf(b.toLowerCase())>-1&&delete a.headers[b];return a},ar=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b};class as{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f=!0}){this.service=d,this.sha256=e,this.uriEscapePath=f,this.applyChecksum="boolean"!=typeof a||a,this.regionProvider=ar(c),this.credentialProvider=ar(b)}createCanonicalRequest(a,b,c){let e=Object.keys(b).sort();return`${a.method}
${this.getCanonicalPath(a)}
${(({query:a={}})=>{let b=[],c={};for(let e of Object.keys(a)){if(e.toLowerCase()===Z)continue;let f=d(e);b.push(f);let g=a[e];"string"==typeof g?c[f]=`${f}=${d(g)}`:Array.isArray(g)&&(c[f]=g.slice(0).reduce((a,b)=>a.concat([`${f}=${d(b)}`]),[]).sort().join("&"))}return b.sort().map(a=>c[a]).filter(a=>a).join("&")})(a)}
${e.map(a=>`${a}:${b[a]}`).join("\n")}

${e.join(";")}
${c}`}async createStringToSign(a,b,c,d){let e=new this.sha256;e.update(S(c));let f=await e.digest();return`${d}
${a}
${b}
${P(f)}`}getCanonicalPath({path:a}){if(this.uriEscapePath){let b=[];for(let c of a.split("/"))c?.length!==0&&"."!==c&&(".."===c?b.pop():b.push(c));return d(`${a?.startsWith("/")?"/":""}${b.join("/")}${b.length>0&&a?.endsWith("/")?"/":""}`).replace(/%2F/g,"/")}return a}validateResolvedCredentials(a){if("object"!=typeof a||"string"!=typeof a.accessKeyId||"string"!=typeof a.secretAccessKey)throw Error("Resolved credential object is not valid")}formatDate(a){var b;let c=("number"==typeof(b=a)?new Date(1e3*b):"string"==typeof b?new Date(Number(b)?1e3*Number(b):b):b).toISOString().replace(/\.\d{3}Z$/,"Z").replace(/[\-:]/g,"");return{longDate:c,shortDate:c.slice(0,8)}}getCanonicalHeaderList(a){return Object.keys(a).sort().join(";")}}class at extends as{headerFormatter=new am;constructor({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f=!0}){super({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f})}async presign(a,b={}){let{signingDate:c=new Date,expiresIn:d=3600,unsignableHeaders:e,unhoistableHeaders:f,signableHeaders:g,hoistableHeaders:h,signingRegion:i,signingService:j}=b,k=await this.credentialProvider();this.validateResolvedCredentials(k);let l=i??await this.regionProvider(),{longDate:m,shortDate:n}=this.formatDate(c);if(d>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let o=ah(n,l,j??this.service),p=((a,b={})=>{let{headers:c,query:d={}}=M.clone(a);for(let a of Object.keys(c)){let e=a.toLowerCase();("x-amz-"===e.slice(0,6)&&!b.unhoistableHeaders?.has(e)||b.hoistableHeaders?.has(e))&&(d[a]=c[a],delete c[a])}return{...a,headers:c,query:d}})(aq(a),{unhoistableHeaders:f,hoistableHeaders:h});k.sessionToken&&(p.query[V]=k.sessionToken),p.query["X-Amz-Algorithm"]=ad,p.query["X-Amz-Credential"]=`${k.accessKeyId}/${o}`,p.query[T]=m,p.query["X-Amz-Expires"]=d.toString(10);let q=ak(p,e,g);return p.query["X-Amz-SignedHeaders"]=this.getCanonicalHeaderList(q),p.query[U]=await this.getSignature(m,o,this.getSigningKey(k,l,n,j),this.createCanonicalRequest(p,q,await al(a,this.sha256))),p}async sign(a,b){return"string"==typeof a?this.signString(a,b):a.headers&&a.payload?this.signEvent(a,b):a.message?this.signMessage(a,b):this.signRequest(a,b)}async signEvent({headers:a,payload:b},{signingDate:c=new Date,priorSignature:d,signingRegion:e,signingService:f}){let g=e??await this.regionProvider(),{shortDate:h,longDate:i}=this.formatDate(c),j=ah(h,g,f??this.service),k=await al({headers:{},body:b},this.sha256),l=new this.sha256;l.update(a);let m=["AWS4-HMAC-SHA256-PAYLOAD",i,j,d,P(await l.digest()),k].join("\n");return this.signString(m,{signingDate:c,signingRegion:g,signingService:f})}async signMessage(a,{signingDate:b=new Date,signingRegion:c,signingService:d}){return this.signEvent({headers:this.headerFormatter.format(a.message.headers),payload:a.message.body},{signingDate:b,signingRegion:c,signingService:d,priorSignature:a.priorSignature}).then(b=>({message:a.message,signature:b}))}async signString(a,{signingDate:b=new Date,signingRegion:c,signingService:d}={}){let e=await this.credentialProvider();this.validateResolvedCredentials(e);let f=c??await this.regionProvider(),{shortDate:g}=this.formatDate(b),h=new this.sha256(await this.getSigningKey(e,f,g,d));return h.update(S(a)),P(await h.digest())}async signRequest(a,{signingDate:b=new Date,signableHeaders:c,unsignableHeaders:d,signingRegion:e,signingService:f}={}){let g=await this.credentialProvider();this.validateResolvedCredentials(g);let h=e??await this.regionProvider(),i=aq(a),{longDate:j,shortDate:k}=this.formatDate(b),l=ah(k,h,f??this.service);i.headers[X]=j,g.sessionToken&&(i.headers[_]=g.sessionToken);let m=await al(i,this.sha256);!((a,b)=>{for(let c of(a=a.toLowerCase(),Object.keys(b)))if(a===c.toLowerCase())return!0;return!1})($,i.headers)&&this.applyChecksum&&(i.headers[$]=m);let n=ak(i,d,c),o=await this.getSignature(j,l,this.getSigningKey(g,h,k,f),this.createCanonicalRequest(i,n,m));return i.headers[W]=`${ad} Credential=${g.accessKeyId}/${l}, SignedHeaders=${this.getCanonicalHeaderList(n)}, Signature=${o}`,i}async getSignature(a,b,c,d){let e=await this.createStringToSign(a,b,d,ad),f=new this.sha256(await c);return f.update(S(e)),P(await f.digest())}getSigningKey(a,b,c,d){return ai(this.sha256,a,c,b,d||this.service)}}!function(a){a.ENV="env",a.CONFIG="shared config entry"}(r||(r={}));let au="X-Amz-S3session-Token",av=au.toLowerCase();class aw extends at{async signWithCredentials(a,b,c){let d=ax(b);return a.headers[av]=b.sessionToken,ay(this,d),this.signRequest(a,c??{})}async presignWithCredentials(a,b,c){let d=ax(b);return delete a.headers[av],a.headers[au]=b.sessionToken,a.query=a.query??{},a.query[au]=b.sessionToken,ay(this,d),this.presign(a,c)}}function ax(a){return{accessKeyId:a.accessKeyId,secretAccessKey:a.secretAccessKey,expiration:a.expiration}}function ay(a,b){let c=setTimeout(()=>{throw Error("SignatureV4S3Express credential override was created but not called.")},10),d=a.credentialProvider;a.credentialProvider=()=>(clearTimeout(c),a.credentialProvider=d,Promise.resolve(b))}let az={SignatureV4a:null},aA={CrtSignerV4:null};class aB{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"function"==typeof aA.CrtSignerV4?"crt":"function"==typeof az.SignatureV4a?"js":"none"}constructor(a){this.sigv4Signer=new aw(a),this.signerOptions=a}async sign(a,b={}){return"*"===b.signingRegion?this.getSigv4aSigner().sign(a,b):this.sigv4Signer.sign(a,b)}async signWithCredentials(a,b,c={}){if("*"===c.signingRegion){let d=this.getSigv4aSigner(),e=aA.CrtSignerV4;if(e&&d instanceof e)return d.signWithCredentials(a,b,c);throw Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.signWithCredentials(a,b,c)}async presign(a,b={}){if("*"===b.signingRegion){let c=this.getSigv4aSigner(),d=aA.CrtSignerV4;if(d&&c instanceof d)return c.presign(a,b);throw Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.presign(a,b)}async presignWithCredentials(a,b,c={}){if("*"===c.signingRegion)throw Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(a,b,c)}getSigv4aSigner(){if(!this.sigv4aSigner){let a=aA.CrtSignerV4,b=az.SignatureV4a;if("node"===this.signerOptions.runtime){if(!a&&!b)throw Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(a&&"function"==typeof a)this.sigv4aSigner=new a({...this.signerOptions,signingAlgorithm:1});else if(b&&"function"==typeof b)this.sigv4aSigner=new b({...this.signerOptions});else throw Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!b||"function"!=typeof b)throw Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new b({...this.signerOptions})}}return this.sigv4aSigner}}class aC{signer;constructor(a){let b={service:a.signingName||a.service||"s3",uriEscapePath:a.uriEscapePath||!1,applyChecksum:a.applyChecksum||!1,...a};this.signer=new aB(b)}presign(a,{unsignableHeaders:b=new Set,hoistableHeaders:c=new Set,unhoistableHeaders:d=new Set,...e}={}){return this.prepareRequest(a,{unsignableHeaders:b,unhoistableHeaders:d,hoistableHeaders:c}),this.signer.presign(a,{expiresIn:900,unsignableHeaders:b,unhoistableHeaders:d,...e})}presignWithCredentials(a,b,{unsignableHeaders:c=new Set,hoistableHeaders:d=new Set,unhoistableHeaders:e=new Set,...f}={}){return this.prepareRequest(a,{unsignableHeaders:c,unhoistableHeaders:e,hoistableHeaders:d}),this.signer.presignWithCredentials(a,b,{expiresIn:900,unsignableHeaders:c,unhoistableHeaders:e,...f})}prepareRequest(a,{unsignableHeaders:b=new Set,unhoistableHeaders:c=new Set,hoistableHeaders:d=new Set}={}){b.add("content-type"),Object.keys(a.headers).map(a=>a.toLowerCase()).filter(a=>a.startsWith("x-amz-server-side-encryption")).forEach(a=>{d.has(a)||c.add(a)}),a.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD";let e=a.headers.host,f=a.port,g=`${a.hostname}${null!=a.port?":"+f:""}`;e&&(e!==a.hostname||null==a.port)||(a.headers.host=g)}}let aD=async(a,b,c={})=>{let e,f;if("function"==typeof a.config.endpointProvider){let c=await K(b.input,b.constructor,a.config),d=c.properties?.authSchemes?.[0];f=d?.name==="sigv4a"?d?.signingRegionSet?.join(","):d?.signingRegion,e=new aC({...a.config,signingName:d?.signingName,region:async()=>f})}else e=new aC(a.config);let g=a.middlewareStack.clone();g.addRelativeTo((a,b)=>async a=>{let{request:d}=a;if(!M.isInstance(d))throw Error("Request to be presigned is not an valid HTTP request.");delete d.headers["amz-sdk-invocation-id"],delete d.headers["amz-sdk-request"],delete d.headers["x-amz-user-agent"];let g={...c,signingRegion:c.signingRegion??b.signing_region??f,signingService:c.signingService??b.signing_service};return{response:{},output:{$metadata:{httpStatusCode:200},presigned:b.s3ExpressIdentity?await e.presignWithCredentials(d,b.s3ExpressIdentity,g):await e.presign(d,g)}}},{name:"presignInterceptMiddleware",relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let h=b.resolveMiddleware(g,a.config,{}),{output:i}=await h({input:b.input}),{presigned:j}=i;return function(a){let{port:b,query:c}=a,{protocol:e,path:f,hostname:g}=a;e&&":"!==e.slice(-1)&&(e+=":"),b&&(g+=`:${b}`),f&&"/"!==f.charAt(0)&&(f=`/${f}`);let h=c?function(a){let b=[];for(let c of Object.keys(a).sort()){let e=a[c];if(c=d(c),Array.isArray(e))for(let a=0,f=e.length;a<f;a++)b.push(`${c}=${d(e[a])}`);else{let a=c;(e||"string"==typeof e)&&(a+=`=${d(e)}`),b.push(a)}}return b.join("&")}(c):"";h&&"?"!==h[0]&&(h=`?${h}`);let i="";if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";i=`${b}:${c}@`}let j="";return a.fragment&&(j=`#${a.fragment}`),`${e}//${i}${g}${f}${h}${j}`}(j)}},99405:(a,b,c)=>{"use strict";var d=c(24800),e=/[\/\?<>\\:\*\|"]/g,f=/[\x00-\x1f\x80-\x9f]/g,g=/^\.+$/,h=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,i=/[\. ]+$/;function j(a,b){if("string"!=typeof a)throw Error("Input must be string");return d(a.replace(e,b).replace(f,b).replace(g,b).replace(h,b).replace(i,b),255)}a.exports=function(a,b){var c=b&&b.replacement||"",d=j(a,c);return""===c?d:j(d,"")}}};