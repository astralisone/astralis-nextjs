exports.id=1265,exports.ids=[1265],exports.modules={1265:function(a,b,c){a.exports=function(){var a=[function(a,b,c){"use strict";var d=c(1),e=c(114),f=c(126),g=c(127),h=c(115),i=c(128),j=c(120),k=c(117);if(c(4)()){var l=c(129).PDFNodeStream;e.setPDFNetworkStreamFactory(function(a){return new l(a)})}else if("undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream){var m=c(132).PDFFetchStream;e.setPDFNetworkStreamFactory(function(a){return new m(a)})}else{var n=c(133).PDFNetworkStream;e.setPDFNetworkStreamFactory(function(a){return new n(a)})}b.build=e.build,b.version=e.version,b.getDocument=e.getDocument,b.LoopbackPort=e.LoopbackPort,b.PDFDataRangeTransport=e.PDFDataRangeTransport,b.PDFWorker=e.PDFWorker,b.renderTextLayer=f.renderTextLayer,b.AnnotationLayer=g.AnnotationLayer,b.createPromiseCapability=d.createPromiseCapability,b.PasswordResponses=d.PasswordResponses,b.InvalidPDFException=d.InvalidPDFException,b.MissingPDFException=d.MissingPDFException,b.SVGGraphics=i.SVGGraphics,b.NativeImageDecoding=d.NativeImageDecoding,b.UnexpectedResponseException=d.UnexpectedResponseException,b.OPS=d.OPS,b.VerbosityLevel=d.VerbosityLevel,b.UNSUPPORTED_FEATURES=d.UNSUPPORTED_FEATURES,b.createValidAbsoluteUrl=d.createValidAbsoluteUrl,b.createObjectURL=d.createObjectURL,b.removeNullCharacters=d.removeNullCharacters,b.shadow=d.shadow,b.createBlob=d.createBlob,b.Util=d.Util,b.RenderingCancelledException=h.RenderingCancelledException,b.getFilenameFromUrl=h.getFilenameFromUrl,b.LinkTarget=h.LinkTarget,b.addLinkAttributes=h.addLinkAttributes,b.GlobalWorkerOptions=j.GlobalWorkerOptions,b.apiCompatibilityParams=k.apiCompatibilityParams},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.unreachable=b.warn=b.utf8StringToString=b.stringToUTF8String=b.stringToPDFString=b.stringToBytes=b.string32=b.shadow=b.setVerbosityLevel=b.ReadableStream=b.removeNullCharacters=b.readUint32=b.readUint16=b.readInt8=b.log2=b.isEvalSupported=b.isLittleEndian=b.createValidAbsoluteUrl=b.isSameOrigin=b.isSpace=b.isString=b.isNum=b.isEmptyObj=b.isBool=b.isArrayBuffer=b.info=b.getVerbosityLevel=b.getLookupTableFactory=b.getInheritableProperty=b.deprecated=b.createObjectURL=b.createPromiseCapability=b.createBlob=b.bytesToString=b.assert=b.arraysToBytes=b.arrayByteLength=b.FormatError=b.XRefParseException=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.StreamType=b.PasswordResponses=b.PasswordException=b.NotImplementedException=b.NativeImageDecoding=b.MissingPDFException=b.MissingDataException=b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=b.AnnotationType=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VerbosityLevel=b.OPS=b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=void 0;var d,e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c(2);var f=c(112),g={ERRORS:0,WARNINGS:1,INFOS:5},h=g.WARNINGS;function i(a){h>=g.WARNINGS&&console.log("Warning: "+a)}function j(a){throw Error(a)}function k(a,b){a||j(b)}var l=function(){function a(a,b){this.name="PasswordException",this.message=a,this.code=b}return a.prototype=Error(),a.constructor=a,a}(),m=function(){function a(a,b){this.name="UnknownErrorException",this.message=a,this.details=b}return a.prototype=Error(),a.constructor=a,a}(),n=function(){function a(a){this.name="InvalidPDFException",this.message=a}return a.prototype=Error(),a.constructor=a,a}(),o=function(){function a(a){this.name="MissingPDFException",this.message=a}return a.prototype=Error(),a.constructor=a,a}(),p=function(){function a(a,b){this.name="UnexpectedResponseException",this.message=a,this.status=b}return a.prototype=Error(),a.constructor=a,a}(),q=function(){function a(a){this.message=a}return a.prototype=Error(),a.prototype.name="NotImplementedException",a.constructor=a,a}(),r=function(){function a(a,b){this.begin=a,this.end=b,this.message="Missing data ["+a+", "+b+")"}return a.prototype=Error(),a.prototype.name="MissingDataException",a.constructor=a,a}(),s=function(){function a(a){this.message=a}return a.prototype=Error(),a.prototype.name="XRefParseException",a.constructor=a,a}(),t=function(){function a(a){this.message=a}return a.prototype=Error(),a.prototype.name="FormatError",a.constructor=a,a}(),u=function(){function a(a){this.name="AbortException",this.message=a}return a.prototype=Error(),a.constructor=a,a}(),v=/\x00/g;function w(a){k("string"==typeof a,"Invalid argument for stringToBytes");for(var b=a.length,c=new Uint8Array(b),d=0;d<b;++d)c[d]=255&a.charCodeAt(d);return c}function x(a){return void 0!==a.length?a.length:(k(void 0!==a.byteLength),a.byteLength)}var y=function(){function a(){}var b=["rgb(",0,",",0,",",0,")"];a.makeCssRgb=function(a,c,d){return b[1]=a,b[3]=c,b[5]=d,b.join("")},a.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]},a.applyTransform=function(a,b){return[a[0]*b[0]+a[1]*b[2]+b[4],a[0]*b[1]+a[1]*b[3]+b[5]]},a.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2];return[(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c]},a.getAxialAlignedBoundingBox=function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,4),c),f=a.applyTransform([b[0],b[3]],c),g=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],f[0],g[0]),Math.min(d[1],e[1],f[1],g[1]),Math.max(d[0],e[0],f[0],g[0]),Math.max(d[1],e[1],f[1],g[1])]},a.inverseTransform=function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]},a.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]},a.singularValueDecompose2dScale=function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[0]*b[1]+a[1]*b[3],e=a[2]*b[0]+a[3]*b[2],f=a[2]*b[1]+a[3]*b[3],g=(c+f)/2,h=Math.sqrt((c+f)*(c+f)-4*(c*f-e*d))/2;return[Math.sqrt(g+h||1),Math.sqrt(g-h||1)]},a.normalizeRect=function(a){var b=a.slice(0);return a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]),a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]),b},a.intersect=function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),f=[b[1],b[3],c[1],c[3]].sort(d),g=[];return b=a.normalizeRect(b),c=a.normalizeRect(c),(e[0]===b[0]&&e[1]===c[0]||e[0]===c[0]&&e[1]===b[0])&&(g[0]=e[1],g[2]=e[2],(f[0]===b[1]&&f[1]===c[1]||f[0]===c[1]&&f[1]===b[1])&&(g[1]=f[1],g[3]=f[2],g))};var c=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return a.toRoman=function(a,b){k(Number.isInteger(a)&&a>0,"The number should be a positive integer.");for(var d,e=[];a>=1e3;)a-=1e3,e.push("M");d=a/100|0,a%=100,e.push(c[d]),d=a/10|0,a%=10,e.push(c[10+d]),e.push(c[20+a]);var f=e.join("");return b?f.toLowerCase():f},a.appendToArray=function(a,b){Array.prototype.push.apply(a,b)},a.prependToArray=function(a,b){Array.prototype.unshift.apply(a,b)},a.extendObj=function(a,b){for(var c in b)a[c]=b[c]},a.inherit=function(a,b,c){for(var d in a.prototype=Object.create(b.prototype),a.prototype.constructor=a,c)a.prototype[d]=c[d]},a.loadScript=function(a,b){var c=document.createElement("script"),d=!1;c.setAttribute("src",a),b&&(c.onload=function(){d||b(),d=!0}),document.getElementsByTagName("head")[0].appendChild(c)},a}(),z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],A=function(a,b){if("undefined"!=typeof Blob)return new Blob([a],{type:b});throw Error('The "Blob" constructor is not supported.')},B=(d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!c&&URL.createObjectURL){var e=A(a,b);return URL.createObjectURL(e)}for(var f="data:"+b+";base64,",g=0,h=a.length;g<h;g+=3){var i=255&a[g],j=255&a[g+1],k=255&a[g+2],l=i>>2,m=(3&i)<<4|j>>4,n=g+1<h?(15&j)<<2|k>>6:64,o=g+2<h?63&k:64;f+=d[l]+d[m]+d[n]+d[o]}return f});b.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],b.IDENTITY_MATRIX=[1,0,0,1,0,0],b.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},b.VerbosityLevel=g,b.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},b.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},b.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:0x1000000,RICHTEXT:0x2000000,RADIOSINUNISON:0x2000000,COMMITONSELCHANGE:0x4000000},b.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},b.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},b.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},b.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},b.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},b.AbortException=u,b.InvalidPDFException=n,b.MissingDataException=r,b.MissingPDFException=o,b.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},b.NotImplementedException=q,b.PasswordException=l,b.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},b.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},b.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},b.UnexpectedResponseException=p,b.UnknownErrorException=m,b.Util=y,b.XRefParseException=s,b.FormatError=t,b.arrayByteLength=x,b.arraysToBytes=function(a){if(1===a.length&&a[0]instanceof Uint8Array)return a[0];var b,c,d,e=0,f=a.length;for(d=0;d<f;d++)e+=c=x(b=a[d]);var g=0,h=new Uint8Array(e);for(d=0;d<f;d++)(b=a[d])instanceof Uint8Array||(b="string"==typeof b?w(b):new Uint8Array(b)),c=b.byteLength,h.set(b,g),g+=c;return h},b.assert=k,b.bytesToString=function(a){k(null!==a&&(void 0===a?"undefined":e(a))==="object"&&void 0!==a.length,"Invalid argument for bytesToString");var b=a.length;if(b<8192)return String.fromCharCode.apply(null,a);for(var c=[],d=0;d<b;d+=8192){var f=Math.min(d+8192,b),g=a.subarray(d,f);c.push(String.fromCharCode.apply(null,g))}return c.join("")},b.createBlob=A,b.createPromiseCapability=function(){var a={};return a.promise=new Promise(function(b,c){a.resolve=b,a.reject=c}),a},b.createObjectURL=B,b.deprecated=function(a){console.log("Deprecated API usage: "+a)},b.getInheritableProperty=function(a){for(var b=a.dict,c=a.key,d=a.getArray,e=void 0!==d&&d,f=a.stopWhenFound,g=void 0===f||f,h=0,j=void 0;b;){var k=e?b.getArray(c):b.get(c);if(void 0!==k){if(g)return k;j||(j=[]),j.push(k)}if(++h>100){i('getInheritableProperty: maximum loop count exceeded for "'+c+'"');break}b=b.get("Parent")}return j},b.getLookupTableFactory=function(a){var b;return function(){return a&&(b=Object.create(null),a(b),a=null),b}},b.getVerbosityLevel=function(){return h},b.info=function(a){h>=g.INFOS&&console.log("Info: "+a)},b.isArrayBuffer=function(a){return(void 0===a?"undefined":e(a))==="object"&&null!==a&&void 0!==a.byteLength},b.isBool=function(a){return"boolean"==typeof a},b.isEmptyObj=function(a){for(var b in a)return!1;return!0},b.isNum=function(a){return"number"==typeof a},b.isString=function(a){return"string"==typeof a},b.isSpace=function(a){return 32===a||9===a||13===a||10===a},b.isSameOrigin=function(a,b){try{var c=new URL(a);if(!c.origin||"null"===c.origin)return!1}catch(a){return!1}var d=new URL(b,c);return c.origin===d.origin},b.createValidAbsoluteUrl=function(a,b){if(!a)return null;try{var c=b?new URL(a,b):new URL(a);if(function(a){if(!a)return!1;switch(a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(c))return c}catch(a){}return null},b.isLittleEndian=function(){var a=new Uint8Array(4);return a[0]=1,1===new Uint32Array(a.buffer,0,1)[0]},b.isEvalSupported=function(){try{return Function(""),!0}catch(a){return!1}},b.log2=function(a){return a<=0?0:Math.ceil(Math.log2(a))},b.readInt8=function(a,b){return a[b]<<24>>24},b.readUint16=function(a,b){return a[b]<<8|a[b+1]},b.readUint32=function(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0},b.removeNullCharacters=function(a){return"string"!=typeof a?(i("The argument for removeNullCharacters must be a string."),a):a.replace(v,"")},b.ReadableStream=f.ReadableStream,b.setVerbosityLevel=function(a){Number.isInteger(a)&&(h=a)},b.shadow=function(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1}),c},b.string32=function(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a)},b.stringToBytes=w,b.stringToPDFString=function(a){var b,c=a.length,d=[];if("\xfe"===a[0]&&"\xff"===a[1])for(b=2;b<c;b+=2)d.push(String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1)));else for(b=0;b<c;++b){var e=z[a.charCodeAt(b)];d.push(e?String.fromCharCode(e):a.charAt(b))}return d.join("")},b.stringToUTF8String=function(a){return decodeURIComponent(escape(a))},b.utf8StringToString=function(a){return unescape(encodeURIComponent(a))},b.warn=i,b.unreachable=j},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(3);if(!e._pdfjsCompatibilityChecked){e._pdfjsCompatibilityChecked=!0;var f=c(4),g=("undefined"==typeof window?"undefined":d(window))==="object"&&("undefined"==typeof document?"undefined":d(document))==="object";!e.btoa&&f()&&(e.btoa=function(a){return Buffer.from(a,"binary").toString("base64")}),!e.atob&&f()&&(e.atob=function(a){return Buffer.from(a,"base64").toString("binary")}),g&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},enumerable:!0,configurable:!0})),g&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),String.prototype.includes||c(5),Array.prototype.includes||c(33),Math.log2||(Math.log2=c(42)),Number.isNaN||(Number.isNaN=c(44)),Number.isInteger||(Number.isInteger=c(46)),e.Promise||(e.Promise=c(49)),e.WeakMap||(e.WeakMap=c(89)),function(){var a=!1;try{if("function"==typeof URL&&"object"===d(URL.prototype)&&"origin"in URL.prototype){var b=new URL("b","http://a");b.pathname="c%20d",a="http://a/c%20d"===b.href}}catch(a){}if(!a){var c=Object.create(null);c.ftp=21,c.file=0,c.gopher=70,c.http=80,c.https=443,c.ws=80,c.wss=443;var f=Object.create(null);f["%2e"]=".",f[".%2e"]="..",f["%2e."]="..",f["%2e%2e"]="..";var g,h=/[a-zA-Z]/,i=/[a-zA-Z0-9\+\-\.]/;s.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var j="";return(""!==this._username||null!==this._password)&&(j=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+j+this.host:"")+this.pathname+this._query+this._fragment},set href(value){r.call(this),q.call(this,value)},get protocol(){return this._scheme+":"},set protocol(value){if(this._isInvalid)return;q.call(this,value+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(value){if(this._isInvalid||!this._isRelative)return;q.call(this,value,"host")},get hostname(){return this._host},set hostname(value){if(this._isInvalid||!this._isRelative)return;q.call(this,value,"hostname")},get port(){return this._port},set port(value){if(this._isInvalid||!this._isRelative)return;q.call(this,value,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(value){if(this._isInvalid||!this._isRelative)return;this._path=[],q.call(this,value,"relative path start")},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(value){if(this._isInvalid||!this._isRelative)return;this._query="?","?"===value[0]&&(value=value.slice(1)),q.call(this,value,"query")},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(value){if(this._isInvalid)return;this._fragment="#","#"===value[0]&&(value=value.slice(1)),q.call(this,value,"fragment")},get origin(){var k;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new s(this._schemeData).origin||"null"}catch(a){}return"null"}if(!(k=this.host))return"";return this._scheme+"://"+k}};var l=e.URL;l&&(s.createObjectURL=function(a){return l.createObjectURL.apply(l,arguments)},s.revokeObjectURL=function(a){l.revokeObjectURL(a)}),e.URL=s}function m(a){return void 0!==c[a]}function n(){r.call(this),this._isInvalid=!0}function o(a){return""===a&&n.call(this),a.toLowerCase()}function p(a){var b=a.charCodeAt(0);return b>32&&b<127&&-1===[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function q(a,b,d){function e(a){s.push(a)}var j=b||"scheme start",k=0,l="",q=!1,r=!1,s=[];a:for(;(a[k-1]!==g||0===k)&&!this._isInvalid;){var t,u=a[k];switch(j){case"scheme start":if(u&&h.test(u))l+=u.toLowerCase(),j="scheme";else if(b){e("Invalid scheme.");break a}else{l="",j="no scheme";continue}break;case"scheme":if(u&&i.test(u))l+=u.toLowerCase();else if(":"===u){if(this._scheme=l,l="",b)break a;m(this._scheme)&&(this._isRelative=!0),j="file"===this._scheme?"relative":this._isRelative&&d&&d._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(b)if(u===g)break a;else{e("Code point not allowed in scheme: "+u);break a}else{l="",k=0,j="no scheme";continue}break;case"scheme data":"?"===u?(this._query="?",j="query"):"#"===u?(this._fragment="#",j="fragment"):u!==g&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._schemeData+=p(u));break;case"no scheme":if(d&&m(d._scheme)){j="relative";continue}e("Missing scheme."),n.call(this);break;case"relative or authority":if("/"===u&&"/"===a[k+1])j="authority ignore slashes";else{e("Expected /, got: "+u),j="relative";continue}break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=d._scheme),u===g){this._host=d._host,this._port=d._port,this._path=d._path.slice(),this._query=d._query,this._username=d._username,this._password=d._password;break a}if("/"===u||"\\"===u)"\\"===u&&e("\\ is an invalid code point."),j="relative slash";else if("?"===u)this._host=d._host,this._port=d._port,this._path=d._path.slice(),this._query="?",this._username=d._username,this._password=d._password,j="query";else if("#"===u)this._host=d._host,this._port=d._port,this._path=d._path.slice(),this._query=d._query,this._fragment="#",this._username=d._username,this._password=d._password,j="fragment";else{var v=a[k+1],w=a[k+2];"file"===this._scheme&&h.test(u)&&(":"===v||"|"===v)&&(w===g||"/"===w||"\\"===w||"?"===w||"#"===w)||(this._host=d._host,this._port=d._port,this._username=d._username,this._password=d._password,this._path=d._path.slice(),this._path.pop()),j="relative path";continue}break;case"relative slash":if("/"===u||"\\"===u)"\\"===u&&e("\\ is an invalid code point."),j="file"===this._scheme?"file host":"authority ignore slashes";else{"file"!==this._scheme&&(this._host=d._host,this._port=d._port,this._username=d._username,this._password=d._password),j="relative path";continue}break;case"authority first slash":if("/"===u)j="authority second slash";else{e("Expected '/', got: "+u),j="authority ignore slashes";continue}break;case"authority second slash":if(j="authority ignore slashes","/"!==u){e("Expected '/', got: "+u);continue}break;case"authority ignore slashes":if("/"!==u&&"\\"!==u){j="authority";continue}e("Expected authority, got: "+u);break;case"authority":if("@"===u){q&&(e("@ already seen."),l+="%40"),q=!0;for(var x=0;x<l.length;x++){var y=l[x];if("	"===y||"\n"===y||"\r"===y){e("Invalid whitespace in authority.");continue}if(":"===y&&null===this._password){this._password="";continue}var z=p(y);null!==this._password?this._password+=z:this._username+=z}l=""}else if(u===g||"/"===u||"\\"===u||"?"===u||"#"===u){k-=l.length,l="",j="host";continue}else l+=u;break;case"file host":if(u===g||"/"===u||"\\"===u||"?"===u||"#"===u){2===l.length&&h.test(l[0])&&(":"===l[1]||"|"===l[1])?j="relative path":(0===l.length||(this._host=o.call(this,l),l=""),j="relative path start");continue}"	"===u||"\n"===u||"\r"===u?e("Invalid whitespace in file host."):l+=u;break;case"host":case"hostname":if(":"!==u||r)if(u===g||"/"===u||"\\"===u||"?"===u||"#"===u){if(this._host=o.call(this,l),l="",j="relative path start",b)break a;continue}else"	"!==u&&"\n"!==u&&"\r"!==u?("["===u?r=!0:"]"===u&&(r=!1),l+=u):e("Invalid code point in host/hostname: "+u);else if(this._host=o.call(this,l),l="",j="port","hostname"===b)break a;break;case"port":if(/[0-9]/.test(u))l+=u;else if(u===g||"/"===u||"\\"===u||"?"===u||"#"===u||b){if(""!==l){var A=parseInt(l,10);A!==c[this._scheme]&&(this._port=A+""),l=""}if(b)break a;j="relative path start";continue}else"	"===u||"\n"===u||"\r"===u?e("Invalid code point in port: "+u):n.call(this);break;case"relative path start":if("\\"===u&&e("'\\' not allowed in path."),j="relative path","/"!==u&&"\\"!==u)continue;break;case"relative path":u!==g&&"/"!==u&&"\\"!==u&&(b||"?"!==u&&"#"!==u)?"	"!==u&&"\n"!==u&&"\r"!==u&&(l+=p(u)):("\\"===u&&e("\\ not allowed in relative path."),(t=f[l.toLowerCase()])&&(l=t),".."===l?(this._path.pop(),"/"!==u&&"\\"!==u&&this._path.push("")):"."===l&&"/"!==u&&"\\"!==u?this._path.push(""):"."!==l&&("file"===this._scheme&&0===this._path.length&&2===l.length&&h.test(l[0])&&"|"===l[1]&&(l=l[0]+":"),this._path.push(l)),l="","?"===u?(this._query="?",j="query"):"#"===u&&(this._fragment="#",j="fragment"));break;case"query":b||"#"!==u?u!==g&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._query+=function(a){var b=a.charCodeAt(0);return b>32&&b<127&&-1===[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}(u)):(this._fragment="#",j="fragment");break;case"fragment":u!==g&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._fragment+=u)}k++}}function r(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function s(a,b){void 0===b||b instanceof s||(b=new s(String(b))),this._url=a,r.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");q.call(this,c,null,b)}}(),Object.values||(Object.values=c(109))}},function(a,b,c){"use strict";a.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a.exports=function(){return("undefined"==typeof process?"undefined":d(process))==="object"&&process+""=="[object process]"}},function(a,b,c){"use strict";c(6),a.exports=c(9).String.includes},function(a,b,c){"use strict";var d=c(7),e=c(25),f="includes";d(d.P+d.F*c(32)(f),"String",{includes:function(a){return!!~e(this,a,f).indexOf(a,arguments.length>1?arguments[1]:void 0)}})},function(a,b,c){"use strict";var d=c(8),e=c(9),f=c(10),g=c(20),h=c(23),i="prototype",j=function a(b,c,j){var k,l,m,n,o=b&a.F,p=b&a.G,q=b&a.S,r=b&a.P,s=b&a.B,t=p?d:q?d[c]||(d[c]={}):(d[c]||{})[i],u=p?e:e[c]||(e[c]={}),v=u[i]||(u[i]={});for(k in p&&(j=c),j)m=((l=!o&&t&&void 0!==t[k])?t:j)[k],n=s&&l?h(m,d):r&&"function"==typeof m?h(Function.call,m):m,t&&g(t,k,m,b&a.U),u[k]!=m&&f(u,k,n),r&&v[k]!=m&&(v[k]=m)};d.core=e,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,a.exports=j},function(a,b,c){"use strict";var d=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(a,b,c){"use strict";var d=a.exports={version:"2.5.7"};"number"==typeof __e&&(__e=d)},function(a,b,c){"use strict";var d=c(11),e=c(19);a.exports=c(15)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a,b,c){"use strict";var d=c(12),e=c(14),f=c(18),g=Object.defineProperty;b.f=c(15)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},function(a,b,c){"use strict";var d=c(13);a.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a.exports=function(a){return(void 0===a?"undefined":d(a))==="object"?null!==a:"function"==typeof a}},function(a,b,c){"use strict";a.exports=!c(15)&&!c(16)(function(){return 7!=Object.defineProperty(c(17)("div"),"a",{get:function(){return 7}}).a})},function(a,b,c){"use strict";a.exports=!c(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b,c){"use strict";a.exports=function(a){try{return!!a()}catch(a){return!0}}},function(a,b,c){"use strict";var d=c(13),e=c(8).document,f=d(e)&&d(e.createElement);a.exports=function(a){return f?e.createElement(a):{}}},function(a,b,c){"use strict";var d=c(13);a.exports=function(a,b){var c,e;if(!d(a))return a;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a))||"function"==typeof(c=a.valueOf)&&!d(e=c.call(a))||!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},function(a,b,c){"use strict";a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(a,b,c){"use strict";var d=c(8),e=c(10),f=c(21),g=c(22)("src"),h="toString",i=Function[h],j=(""+i).split(h);c(9).inspectSource=function(a){return i.call(a)},(a.exports=function(a,b,c,h){var i="function"==typeof c;i&&(f(c,"name")||e(c,"name",b)),a[b]!==c&&(i&&(f(c,g)||e(c,g,a[b]?""+a[b]:j.join(String(b)))),a===d?a[b]=c:h?a[b]?a[b]=c:e(a,b,c):(delete a[b],e(a,b,c)))})(Function.prototype,h,function(){return"function"==typeof this&&this[g]||i.call(this)})},function(a,b,c){"use strict";var d={}.hasOwnProperty;a.exports=function(a,b){return d.call(a,b)}},function(a,b,c){"use strict";var d=0,e=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},function(a,b,c){"use strict";var d=c(24);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b,c){"use strict";a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b,c){"use strict";var d=c(26),e=c(31);a.exports=function(a,b,c){if(d(b))throw TypeError("String#"+c+" doesn't accept regex!");return String(e(a))}},function(a,b,c){"use strict";var d=c(13),e=c(27),f=c(28)("match");a.exports=function(a){var b;return d(a)&&(void 0!==(b=a[f])?!!b:"RegExp"==e(a))}},function(a,b,c){"use strict";var d={}.toString;a.exports=function(a){return d.call(a).slice(8,-1)}},function(a,b,c){"use strict";var d=c(29)("wks"),e=c(22),f=c(8).Symbol,g="function"==typeof f;(a.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))}).store=d},function(a,b,c){"use strict";var d=c(9),e=c(8),f="__core-js_shared__",g=e[f]||(e[f]={});(a.exports=function(a,b){return g[a]||(g[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,mode:c(30)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(a,b,c){"use strict";a.exports=!1},function(a,b,c){"use strict";a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b,c){"use strict";var d=c(28)("match");a.exports=function(a){var b=/./;try{"/./"[a](b)}catch(c){try{return b[d]=!1,!"/./"[a](b)}catch(a){}}return!0}},function(a,b,c){"use strict";c(34),a.exports=c(9).Array.includes},function(a,b,c){"use strict";var d=c(7),e=c(35)(!0);d(d.P,"Array",{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),c(41)("includes")},function(a,b,c){"use strict";var d=c(36),e=c(38),f=c(40);a.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if((h=i[k++])!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},function(a,b,c){"use strict";var d=c(37),e=c(31);a.exports=function(a){return d(e(a))}},function(a,b,c){"use strict";var d=c(27);a.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},function(a,b,c){"use strict";var d=c(39),e=Math.min;a.exports=function(a){return a>0?e(d(a),0x1fffffffffffff):0}},function(a,b,c){"use strict";var d=Math.ceil,e=Math.floor;a.exports=function(a){return isNaN(a*=1)?0:(a>0?e:d)(a)}},function(a,b,c){"use strict";var d=c(39),e=Math.max,f=Math.min;a.exports=function(a,b){return(a=d(a))<0?e(a+b,0):f(a,b)}},function(a,b,c){"use strict";var d=c(28)("unscopables"),e=Array.prototype;void 0==e[d]&&c(10)(e,d,{}),a.exports=function(a){e[d][a]=!0}},function(a,b,c){"use strict";c(43),a.exports=c(9).Math.log2},function(a,b,c){"use strict";var d=c(7);d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},function(a,b,c){"use strict";c(45),a.exports=c(9).Number.isNaN},function(a,b,c){"use strict";var d=c(7);d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(a,b,c){"use strict";c(47),a.exports=c(9).Number.isInteger},function(a,b,c){"use strict";var d=c(7);d(d.S,"Number",{isInteger:c(48)})},function(a,b,c){"use strict";var d=c(13),e=Math.floor;a.exports=function(a){return!d(a)&&isFinite(a)&&e(a)===a}},function(a,b,c){"use strict";c(50),c(52),c(67),c(70),c(87),c(88),a.exports=c(9).Promise},function(a,b,c){"use strict";var d=c(51),e={};e[c(28)("toStringTag")]="z",e+""!="[object z]"&&c(20)(Object.prototype,"toString",function(){return"[object "+d(this)+"]"},!0)},function(a,b,c){"use strict";var d=c(27),e=c(28)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};a.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},function(a,b,c){"use strict";var d=c(53)(!0);c(54)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},function(a,b,c){"use strict";var d=c(39),e=c(31);a.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return i<0||i>=j?a?"":void 0:(f=h.charCodeAt(i))<55296||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536}}},function(a,b,c){"use strict";var d=c(30),e=c(7),f=c(20),g=c(10),h=c(55),i=c(56),j=c(64),k=c(65),l=c(28)("iterator"),m=!([].keys&&"next"in[].keys()),n="keys",o="values",p=function(){return this};a.exports=function(a,b,c,q,r,s,t){i(c,b,q);var u,v,w,x=function(a){if(!m&&a in B)return B[a];switch(a){case n:case o:return function(){return new c(this,a)}}return function(){return new c(this,a)}},y=b+" Iterator",z=r==o,A=!1,B=a.prototype,C=B[l]||B["@@iterator"]||r&&B[r],D=C||x(r),E=r?z?x("entries"):D:void 0,F="Array"==b&&B.entries||C;if(F&&(w=k(F.call(new a)))!==Object.prototype&&w.next&&(j(w,y,!0),d||"function"==typeof w[l]||g(w,l,p)),z&&C&&C.name!==o&&(A=!0,D=function(){return C.call(this)}),(!d||t)&&(m||A||!B[l])&&g(B,l,D),h[b]=D,h[y]=p,r)if(u={values:z?D:x(o),keys:s?D:x(n),entries:E},t)for(v in u)v in B||f(B,v,u[v]);else e(e.P+e.F*(m||A),b,u);return u}},function(a,b,c){"use strict";a.exports={}},function(a,b,c){"use strict";var d=c(57),e=c(19),f=c(64),g={};c(10)(g,c(28)("iterator"),function(){return this}),a.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},function(a,b,c){"use strict";var d=c(12),e=c(58),f=c(62),g=c(61)("IE_PROTO"),h=function(){},i="prototype",j=function(){var a,b=c(17)("iframe"),d=f.length;for(b.style.display="none",c(63).appendChild(b),b.src="javascript:",(a=b.contentWindow.document).open(),a.write("<script>document.F=Object<\/script>"),a.close(),j=a.F;d--;)delete j[i][f[d]];return j()};a.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},function(a,b,c){"use strict";var d=c(11),e=c(12),f=c(59);a.exports=c(15)?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},function(a,b,c){"use strict";var d=c(60),e=c(62);a.exports=Object.keys||function(a){return d(a,e)}},function(a,b,c){"use strict";var d=c(21),e=c(36),f=c(35)(!1),g=c(61)("IE_PROTO");a.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},function(a,b,c){"use strict";var d=c(29)("keys"),e=c(22);a.exports=function(a){return d[a]||(d[a]=e(a))}},function(a,b,c){"use strict";a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(a,b,c){"use strict";var d=c(8).document;a.exports=d&&d.documentElement},function(a,b,c){"use strict";var d=c(11).f,e=c(21),f=c(28)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},function(a,b,c){"use strict";var d=c(21),e=c(66),f=c(61)("IE_PROTO"),g=Object.prototype;a.exports=Object.getPrototypeOf||function(a){return d(a=e(a),f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},function(a,b,c){"use strict";var d=c(31);a.exports=function(a){return Object(d(a))}},function(a,b,c){"use strict";for(var d=c(68),e=c(59),f=c(20),g=c(8),h=c(10),i=c(55),j=c(28),k=j("iterator"),l=j("toStringTag"),m=i.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},o=e(n),p=0;p<o.length;p++){var q,r=o[p],s=n[r],t=g[r],u=t&&t.prototype;if(u&&(u[k]||h(u,k,m),u[l]||h(u,l,r),i[r]=m,s))for(q in d)u[q]||f(u,q,d[q],!0)}},function(a,b,c){"use strict";var d=c(41),e=c(69),f=c(55),g=c(36);a.exports=c(54)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},function(a,b,c){"use strict";a.exports=function(a,b){return{value:b,done:!!a}}},function(a,b,c){"use strict";var d,e,f,g,h=c(30),i=c(8),j=c(23),k=c(51),l=c(7),m=c(13),n=c(24),o=c(71),p=c(72),q=c(76),r=c(77).set,s=c(79)(),t=c(80),u=c(81),v=c(82),w=c(83),x="Promise",y=i.TypeError,z=i.process,A=z&&z.versions,B=A&&A.v8||"",C=i[x],D="process"==k(z),E=function(){},F=e=t.f,G=!!function(){try{var a=C.resolve(1),b=(a.constructor={})[c(28)("species")]=function(a){a(E,E)};return(D||"function"==typeof PromiseRejectionEvent)&&a.then(E)instanceof b&&0!==B.indexOf("6.6")&&-1===v.indexOf("Chrome/66")}catch(a){}}(),H=function(a){var b;return!!m(a)&&"function"==typeof(b=a.then)&&b},I=function(a,b){if(!a._n){a._n=!0;var c=a._c;s(function(){for(var d=a._v,e=1==a._s,f=0;c.length>f;)!function(b){var c,f,g,h=e?b.ok:b.fail,i=b.resolve,j=b.reject,k=b.domain;try{h?(e||(2==a._h&&L(a),a._h=1),!0===h?c=d:(k&&k.enter(),c=h(d),k&&(k.exit(),g=!0)),c===b.promise?j(y("Promise-chain cycle")):(f=H(c))?f.call(c,i,j):i(c)):j(d)}catch(a){k&&!g&&k.exit(),j(a)}}(c[f++]);a._c=[],a._n=!1,b&&!a._h&&J(a)})}},J=function(a){r.call(i,function(){var b,c,d,e=a._v,f=K(a);if(f&&(b=u(function(){D?z.emit("unhandledRejection",e,a):(c=i.onunhandledrejection)?c({promise:a,reason:e}):(d=i.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=D||K(a)?2:1),a._a=void 0,f&&b.e)throw b.v})},K=function(a){return 1!==a._h&&0===(a._a||a._c).length},L=function(a){r.call(i,function(){var b;D?z.emit("rejectionHandled",a):(b=i.onrejectionhandled)&&b({promise:a,reason:a._v})})},M=function(a){var b=this;b._d||(b._d=!0,(b=b._w||b)._v=a,b._s=2,b._a||(b._a=b._c.slice()),I(b,!0))},N=function a(b){var c,d=this;if(!d._d){d._d=!0,d=d._w||d;try{if(d===b)throw y("Promise can't be resolved itself");(c=H(b))?s(function(){var e={_w:d,_d:!1};try{c.call(b,j(a,e,1),j(M,e,1))}catch(a){M.call(e,a)}}):(d._v=b,d._s=1,I(d,!1))}catch(a){M.call({_w:d,_d:!1},a)}}};G||(C=function(a){o(this,C,x,"_h"),n(a),d.call(this);try{a(j(N,this,1),j(M,this,1))}catch(a){M.call(this,a)}},(d=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=c(84)(C.prototype,{then:function(a,b){var c=F(q(this,C));return c.ok="function"!=typeof a||a,c.fail="function"==typeof b&&b,c.domain=D?z.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&I(this,!1),c.promise},catch:function(a){return this.then(void 0,a)}}),f=function(){var a=new d;this.promise=a,this.resolve=j(N,a,1),this.reject=j(M,a,1)},t.f=F=function(a){return a===C||a===g?new f(a):e(a)}),l(l.G+l.W+!G*l.F,{Promise:C}),c(64)(C,x),c(85)(x),g=c(9)[x],l(l.S+!G*l.F,x,{reject:function(a){var b=F(this);return(0,b.reject)(a),b.promise}}),l(l.S+l.F*(h||!G),x,{resolve:function(a){return w(h&&this===g?C:this,a)}}),l(l.S+!(G&&c(86)(function(a){C.all(a).catch(E)}))*l.F,x,{all:function(a){var b=this,c=F(b),d=c.resolve,e=c.reject,f=u(function(){var c=[],f=0,g=1;p(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){!i&&(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f.e&&e(f.v),c.promise},race:function(a){var b=this,c=F(b),d=c.reject,e=u(function(){p(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e.e&&d(e.v),c.promise}})},function(a,b,c){"use strict";a.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},function(a,b,c){"use strict";var d=c(23),e=c(73),f=c(74),g=c(12),h=c(38),i=c(75),j={},k={},l=a.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if((q=b?s(g(o=a[t])[0],o[1]):s(a[t]))===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if((q=e(p,s,o.value,b))===j||q===k)return q};l.BREAK=j,l.RETURN=k},function(a,b,c){"use strict";var d=c(12);a.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a.return;throw void 0!==f&&d(f.call(a)),b}}},function(a,b,c){"use strict";var d=c(55),e=c(28)("iterator"),f=Array.prototype;a.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},function(a,b,c){"use strict";var d=c(51),e=c(28)("iterator"),f=c(55);a.exports=c(9).getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||f[d(a)]}},function(a,b,c){"use strict";var d=c(12),e=c(24),f=c(28)("species");a.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},function(a,b,c){"use strict";var d,e,f,g=c(23),h=c(78),i=c(63),j=c(17),k=c(8),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=k.Dispatch,q=0,r={},s="onreadystatechange",t=function(){var a=+this;if(r.hasOwnProperty(a)){var b=r[a];delete r[a],b()}},u=function(a){t.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return r[++q]=function(){h("function"==typeof a?a:Function(a),b)},d(q),q},n=function(a){delete r[a]},"process"==c(27)(l)?d=function(a){l.nextTick(g(t,a,1))}:p&&p.now?d=function(a){p.now(g(t,a,1))}:o?(f=(e=new o).port2,e.port1.onmessage=u,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",u,!1)):d=s in j("script")?function(a){i.appendChild(j("script"))[s]=function(){i.removeChild(this),t.call(a)}}:function(a){setTimeout(g(t,a,1),0)}),a.exports={set:m,clear:n}},function(a,b,c){"use strict";a.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},function(a,b,c){"use strict";var d=c(8),e=c(77).set,f=d.MutationObserver||d.WebKitMutationObserver,g=d.process,h=d.Promise,i="process"==c(27)(g);a.exports=function(){var a,b,c,j=function(){var d,e;for(i&&(d=g.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(d){throw a?c():b=void 0,d}}b=void 0,d&&d.enter()};if(i)c=function(){g.nextTick(j)};else if(f&&!(d.navigator&&d.navigator.standalone)){var k=!0,l=document.createTextNode("");new f(j).observe(l,{characterData:!0}),c=function(){l.data=k=!k}}else if(h&&h.resolve){var m=h.resolve(void 0);c=function(){m.then(j)}}else c=function(){e.call(d,j)};return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}}},function(a,b,c){"use strict";var d=c(24);function e(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=d(b),this.reject=d(c)}a.exports.f=function(a){return new e(a)}},function(a,b,c){"use strict";a.exports=function(a){try{return{e:!1,v:a()}}catch(a){return{e:!0,v:a}}}},function(a,b,c){"use strict";var d=c(8).navigator;a.exports=d&&d.userAgent||""},function(a,b,c){"use strict";var d=c(12),e=c(13),f=c(80);a.exports=function(a,b){if(d(a),e(b)&&b.constructor===a)return b;var c=f.f(a);return(0,c.resolve)(b),c.promise}},function(a,b,c){"use strict";var d=c(20);a.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},function(a,b,c){"use strict";var d=c(8),e=c(11),f=c(15),g=c(28)("species");a.exports=function(a){var b=d[a];f&&b&&!b[g]&&e.f(b,g,{configurable:!0,get:function(){return this}})}},function(a,b,c){"use strict";var d=c(28)("iterator"),e=!1;try{var f=[7][d]();f.return=function(){e=!0},Array.from(f,function(){throw 2})}catch(a){}a.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(a){}return c}},function(a,b,c){"use strict";var d=c(7),e=c(9),f=c(8),g=c(76),h=c(83);d(d.P+d.R,"Promise",{finally:function(a){var b=g(this,e.Promise||f.Promise),c="function"==typeof a;return this.then(c?function(c){return h(b,a()).then(function(){return c})}:a,c?function(c){return h(b,a()).then(function(){throw c})}:a)}})},function(a,b,c){"use strict";var d=c(7),e=c(80),f=c(81);d(d.S,"Promise",{try:function(a){var b=e.f(this),c=f(a);return(c.e?b.reject:b.resolve)(c.v),b.promise}})},function(a,b,c){"use strict";c(50),c(67),c(90),c(105),c(107),a.exports=c(9).WeakMap},function(a,b,c){"use strict";var d,e=c(91)(0),f=c(20),g=c(95),h=c(96),i=c(99),j=c(13),k=c(16),l=c(100),m="WeakMap",n=g.getWeak,o=Object.isExtensible,p=i.ufstore,q={},r=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},s={get:function(a){if(j(a)){var b=n(a);return!0===b?p(l(this,m)).get(a):b?b[this._i]:void 0}},set:function(a,b){return i.def(l(this,m),a,b)}},t=a.exports=c(101)(m,r,s,i,!0,!0);k(function(){return 7!=new t().set((Object.freeze||Object)(q),7).get(q)})&&(h((d=i.getConstructor(r,m)).prototype,s),g.NEED=!0,e(["delete","has","get","set"],function(a){var b=t.prototype,c=b[a];f(b,a,function(b,e){if(j(b)&&!o(b)){this._f||(this._f=new d);var f=this._f[a](b,e);return"set"==a?this:f}return c.call(this,b,e)})}))},function(a,b,c){"use strict";var d=c(23),e=c(37),f=c(66),g=c(38),h=c(92);a.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var p,q,r=f(b),s=e(r),t=d(h,o,3),u=g(s.length),v=0,w=c?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(q=t(p=s[v],v,r),a)){if(c)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:w.push(p)}else if(k)return!1}return l?-1:j||k?k:w}}},function(a,b,c){"use strict";var d=c(93);a.exports=function(a,b){return new(d(a))(b)}},function(a,b,c){"use strict";var d=c(13),e=c(94),f=c(28)("species");a.exports=function(a){var b;return e(a)&&("function"==typeof(b=a.constructor)&&(b===Array||e(b.prototype))&&(b=void 0),d(b)&&null===(b=b[f])&&(b=void 0)),void 0===b?Array:b}},function(a,b,c){"use strict";var d=c(27);a.exports=Array.isArray||function(a){return"Array"==d(a)}},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(22)("meta"),f=c(13),g=c(21),h=c(11).f,i=0,j=Object.isExtensible||function(){return!0},k=!c(16)(function(){return j(Object.preventExtensions({}))}),l=function(a){h(a,e,{value:{i:"O"+ ++i,w:{}}})},m=a.exports={KEY:e,NEED:!1,fastKey:function(a,b){if(!f(a))return(void 0===a?"undefined":d(a))=="symbol"?a:("string"==typeof a?"S":"P")+a;if(!g(a,e)){if(!j(a))return"F";if(!b)return"E";l(a)}return a[e].i},getWeak:function(a,b){if(!g(a,e)){if(!j(a))return!0;if(!b)return!1;l(a)}return a[e].w},onFreeze:function(a){return k&&m.NEED&&j(a)&&!g(a,e)&&l(a),a}}},function(a,b,c){"use strict";var d=c(59),e=c(97),f=c(98),g=c(66),h=c(37),i=Object.assign;a.exports=!i||c(16)(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:i},function(a,b,c){"use strict";b.f=Object.getOwnPropertySymbols},function(a,b,c){"use strict";b.f=({}).propertyIsEnumerable},function(a,b,c){"use strict";var d=c(84),e=c(95).getWeak,f=c(12),g=c(13),h=c(71),i=c(72),j=c(91),k=c(21),l=c(100),m=j(5),n=j(6),o=0,p=function(a){return a._l||(a._l=new q)},q=function(){this.a=[]},r=function(a,b){return m(a.a,function(a){return a[0]===b})};q.prototype={get:function(a){var b=r(this,a);if(b)return b[1]},has:function(a){return!!r(this,a)},set:function(a,b){var c=r(this,a);c?c[1]=b:this.a.push([a,b])},delete:function(a){var b=n(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}},a.exports={getConstructor:function(a,b,c,f){var j=a(function(a,d){h(a,j,b,"_i"),a._t=b,a._i=o++,a._l=void 0,void 0!=d&&i(d,c,a[f],a)});return d(j.prototype,{delete:function(a){if(!g(a))return!1;var c=e(a);return!0===c?p(l(this,b)).delete(a):c&&k(c,this._i)&&delete c[this._i]},has:function(a){if(!g(a))return!1;var c=e(a);return!0===c?p(l(this,b)).has(a):c&&k(c,this._i)}}),j},def:function(a,b,c){var d=e(f(b),!0);return!0===d?p(a).set(b,c):d[a._i]=c,a},ufstore:p}},function(a,b,c){"use strict";var d=c(13);a.exports=function(a,b){if(!d(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},function(a,b,c){"use strict";var d=c(8),e=c(7),f=c(20),g=c(84),h=c(95),i=c(72),j=c(71),k=c(13),l=c(16),m=c(86),n=c(64),o=c(102);a.exports=function(a,b,c,p,q,r){var s=d[a],t=s,u=q?"set":"add",v=t&&t.prototype,w={},x=function(a){var b=v[a];f(v,a,"delete"==a?function(a){return(!r||!!k(a))&&b.call(this,0===a?0:a)}:"has"==a?function(a){return(!r||!!k(a))&&b.call(this,0===a?0:a)}:"get"==a?function(a){return r&&!k(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){return b.call(this,0===a?0:a),this}:function(a,c){return b.call(this,0===a?0:a,c),this})};if("function"==typeof t&&(r||v.forEach&&!l(function(){new t().entries().next()}))){var y=new t,z=y[u](r?{}:-0,1)!=y,A=l(function(){y.has(1)}),B=m(function(a){new t(a)}),C=!r&&l(function(){for(var a=new t,b=5;b--;)a[u](b,b);return!a.has(-0)});B||((t=b(function(b,c){j(b,t,a);var d=o(new s,b,t);return void 0!=c&&i(c,q,d[u],d),d})).prototype=v,v.constructor=t),(A||C)&&(x("delete"),x("has"),q&&x("get")),(C||z)&&x(u),r&&v.clear&&delete v.clear}else g((t=p.getConstructor(b,a,q,u)).prototype,c),h.NEED=!0;return n(t,a),w[a]=t,e(e.G+e.W+e.F*(t!=s),w),r||p.setStrong(t,a,q),t}},function(a,b,c){"use strict";var d=c(13),e=c(103).set;a.exports=function(a,b,c){var f,g=b.constructor;return g!==c&&"function"==typeof g&&(f=g.prototype)!==c.prototype&&d(f)&&e&&e(a,f),a}},function(a,b,c){"use strict";var d=c(13),e=c(12),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};a.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,d){try{(d=c(23)(Function.call,c(104).f(Object.prototype,"__proto__").set,2))(a,[]),b=!(a instanceof Array)}catch(a){b=!0}return function(a,c){return f(a,c),b?a.__proto__=c:d(a,c),a}}({},!1):void 0),check:f}},function(a,b,c){"use strict";var d=c(98),e=c(19),f=c(36),g=c(18),h=c(21),i=c(14),j=Object.getOwnPropertyDescriptor;b.f=c(15)?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}if(h(a,b))return e(!d.f.call(a,b),a[b])}},function(a,b,c){"use strict";c(106)("WeakMap")},function(a,b,c){"use strict";var d=c(7);a.exports=function(a){d(d.S,a,{of:function(){for(var a=arguments.length,b=Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(a,b,c){"use strict";c(108)("WeakMap")},function(a,b,c){"use strict";var d=c(7),e=c(24),f=c(23),g=c(72);a.exports=function(a){d(d.S,a,{from:function(a){var b,c,d,h,i=arguments[1];return(e(this),(b=void 0!==i)&&e(i),void 0==a)?new this:(c=[],b?(d=0,h=f(i,arguments[2],2),g(a,!1,function(a){c.push(h(a,d++))})):g(a,!1,c.push,c),new this(c))}})}},function(a,b,c){"use strict";c(110),a.exports=c(9).Object.values},function(a,b,c){"use strict";var d=c(7),e=c(111)(!1);d(d.S,"Object",{values:function(a){return e(a)}})},function(a,b,c){"use strict";var d=c(59),e=c(36),f=c(98).f;a.exports=function(a){return function(b){for(var c,g=e(b),h=d(g),i=h.length,j=0,k=[];i>j;)f.call(g,c=h[j++])&&k.push(a?[c,g[c]]:g[c]);return k}}},function(a,b,c){"use strict";var d=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),d=!0}catch(a){}d?b.ReadableStream=ReadableStream:b.ReadableStream=c(113).ReadableStream},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(a){var b={};function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}return c.m=a,c.c=b,c.i=function(a){return a},c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:d})},c.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=7)}([function(a,b,c){var e="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(a){return void 0===a?"undefined":d(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":d(a)},f=c(1).assert;function g(a){return"string"==typeof a||(void 0===a?"undefined":e(a))==="symbol"}function h(a,b,c){if("function"!=typeof a)throw TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,c)}b.typeIsObject=function(a){return(void 0===a?"undefined":e(a))==="object"&&null!==a||"function"==typeof a},b.createDataProperty=function(a,c,d){f(b.typeIsObject(a)),Object.defineProperty(a,c,{value:d,writable:!0,enumerable:!0,configurable:!0})},b.createArrayFromList=function(a){return a.slice()},b.ArrayBufferCopy=function(a,b,c,d,e){new Uint8Array(a).set(new Uint8Array(c,d,e),b)},b.CreateIterResultObject=function(a,b){f("boolean"==typeof b);var c={};return Object.defineProperty(c,"value",{value:a,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(c,"done",{value:b,enumerable:!0,writable:!0,configurable:!0}),c},b.IsFiniteNonNegativeNumber=function(a){return!Number.isNaN(a)&&a!==1/0&&!(a<0)},b.InvokeOrNoop=function(a,b,c){f(void 0!==a),f(g(b)),f(Array.isArray(c));var d=a[b];if(void 0!==d)return h(d,a,c)},b.PromiseInvokeOrNoop=function(a,c,d){f(void 0!==a),f(g(c)),f(Array.isArray(d));try{return Promise.resolve(b.InvokeOrNoop(a,c,d))}catch(a){return Promise.reject(a)}},b.PromiseInvokeOrPerformFallback=function(a,b,c,d,e){f(void 0!==a),f(g(b)),f(Array.isArray(c)),f(Array.isArray(e));var i=void 0;try{i=a[b]}catch(a){return Promise.reject(a)}if(void 0===i)return d.apply(null,e);try{return Promise.resolve(h(i,a,c))}catch(a){return Promise.reject(a)}},b.TransferArrayBuffer=function(a){return a.slice()},b.ValidateAndNormalizeHighWaterMark=function(a){if(Number.isNaN(a=Number(a))||a<0)throw RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a},b.ValidateAndNormalizeQueuingStrategy=function(a,c){if(void 0!==a&&"function"!=typeof a)throw TypeError("size property of a queuing strategy must be a function");return{size:a,highWaterMark:c=b.ValidateAndNormalizeHighWaterMark(c)}}},function(a,b,c){function d(a){this.name="AssertionError",this.message=a||"",this.stack=Error().stack}d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,a.exports={rethrowAssertionErrorRejection:function(a){a&&a.constructor===d&&setTimeout(function(){throw a},0)},AssertionError:d,assert:function(a,b){if(!a)throw new d(b)}}},function(a,b,c){var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function e(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var f=c(0),g=f.InvokeOrNoop,h=f.PromiseInvokeOrNoop,i=f.ValidateAndNormalizeQueuingStrategy,j=f.typeIsObject,k=c(1),l=k.assert,m=k.rethrowAssertionErrorRejection,n=c(3),o=n.DequeueValue,p=n.EnqueueValueWithSize,q=n.PeekQueueValue,r=n.ResetQueue,s=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.size,f=c.highWaterMark;if(e(this,a),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==b.type)throw RangeError("Invalid type is specified");this._writableStreamController=new K(this,b,d,void 0===f?1:f),this._writableStreamController.__startSteps()}return d(a,[{key:"abort",value:function(a){return!1===u(this)?Promise.reject(P("abort")):!0===v(this)?Promise.reject(TypeError("Cannot abort a stream that already has a writer")):w(this,a)}},{key:"getWriter",value:function(){if(!1===u(this))throw P("getWriter");return t(this)}},{key:"locked",get:function(){if(!1===u(this))throw P("locked");return v(this)}}]),a}();function t(a){return new E(a)}function u(a){return!!j(a)&&!!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")}function v(a){return l(!0===u(a),"IsWritableStreamLocked should only be used on known writable streams"),void 0!==a._writer}function w(a,b){var c=a._state;if("closed"===c)return Promise.resolve(void 0);if("errored"===c)return Promise.reject(a._storedError);var d=TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(d);l("writable"===c||"erroring"===c,"state must be writable or erroring");var e=!1;"erroring"===c&&(e=!0,b=void 0);var f=new Promise(function(c,d){a._pendingAbortRequest={_resolve:c,_reject:d,_reason:b,_wasAlreadyErroring:e}});return!1===e&&y(a,d),f}function x(a,b){var c=a._state;if("writable"===c)return void y(a,b);l("erroring"===c),z(a)}function y(a,b){l(void 0===a._storedError,"stream._storedError === undefined"),l("writable"===a._state,"state must be writable");var c=a._writableStreamController;l(void 0!==c,"controller must not be undefined"),a._state="erroring",a._storedError=b;var d=a._writer;void 0!==d&&H(d,b),!1===B(a)&&!0===c._started&&z(a)}function z(a){l("erroring"===a._state,"stream._state === erroring"),l(!1===B(a),"WritableStreamHasOperationMarkedInFlight(stream) === false"),a._state="errored",a._writableStreamController.__errorSteps();for(var b=a._storedError,c=0;c<a._writeRequests.length;c++)a._writeRequests[c]._reject(b);if(a._writeRequests=[],void 0===a._pendingAbortRequest)return void C(a);var d=a._pendingAbortRequest;if(a._pendingAbortRequest=void 0,!0===d._wasAlreadyErroring){d._reject(b),C(a);return}a._writableStreamController.__abortSteps(d._reason).then(function(){d._resolve(),C(a)},function(b){d._reject(b),C(a)})}function A(a){return void 0!==a._closeRequest||void 0!==a._inFlightCloseRequest}function B(a){return void 0!==a._inFlightWriteRequest||void 0!==a._inFlightCloseRequest}function C(a){l("errored"===a._state,'_stream_.[[state]] is `"errored"`'),void 0!==a._closeRequest&&(l(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=a._writer;void 0!==b&&(T(b,a._storedError),b._closedPromise.catch(function(){}))}function D(a,b){l("writable"===a._state),l(!1===A(a));var c,d=a._writer;void 0!==d&&b!==a._backpressure&&(!0===b?(l(void 0===(c=d)._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),l(void 0===c._readyPromise_reject,"writer._readyPromise_reject === undefined"),c._readyPromise=new Promise(function(a,b){c._readyPromise_resolve=a,c._readyPromise_reject=b}),c._readyPromiseState="pending"):(l(!1===b),W(d))),a._backpressure=b}a.exports={AcquireWritableStreamDefaultWriter:t,IsWritableStream:u,IsWritableStreamLocked:v,WritableStream:s,WritableStreamAbort:w,WritableStreamDefaultControllerError:O,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var b=a._ownerWritableStream;l(void 0!==b);var c=b._state;return!0===A(b)||"closed"===c?Promise.resolve():"errored"===c?Promise.reject(b._storedError):(l("writable"===c||"erroring"===c),G(a))},WritableStreamDefaultWriterRelease:I,WritableStreamDefaultWriterWrite:J,WritableStreamCloseQueuedOrInFlight:A};var E=function(){function a(b){if(e(this,a),!1===u(b))throw TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===v(b))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=b,b._writer=this;var c=b._state;if("writable"===c){!1===A(b)&&!0===b._backpressure?(d=this,d._readyPromise=new Promise(function(a,b){d._readyPromise_resolve=a,d._readyPromise_reject=b}),d._readyPromiseState="pending"):V(this),S(this)}else if("erroring"===c)U(this,b._storedError),this._readyPromise.catch(function(){}),S(this);else if("closed"===c){V(this),f=this,f._closedPromise=Promise.resolve(void 0),f._closedPromise_resolve=void 0,f._closedPromise_reject=void 0,f._closedPromiseState="resolved"}else{l("errored"===c,"state must be errored");var d,f,g,h=b._storedError;U(this,h),this._readyPromise.catch(function(){}),g=this,g._closedPromise=Promise.reject(h),g._closedPromise_resolve=void 0,g._closedPromise_reject=void 0,g._closedPromiseState="rejected",this._closedPromise.catch(function(){})}}return d(a,[{key:"abort",value:function(a){var b,c,d;return!1===F(this)?Promise.reject(Q("abort")):void 0===this._ownerWritableStream?Promise.reject(R("abort")):(b=this,c=a,l(void 0!==(d=b._ownerWritableStream)),w(d,c))}},{key:"close",value:function(){if(!1===F(this))return Promise.reject(Q("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(R("close")):!0===A(a)?Promise.reject(TypeError("cannot close an already-closing stream")):G(this)}},{key:"releaseLock",value:function(){if(!1===F(this))throw Q("releaseLock");var a=this._ownerWritableStream;void 0!==a&&(l(void 0!==a._writer),I(this))}},{key:"write",value:function(a){return!1===F(this)?Promise.reject(Q("write")):void 0===this._ownerWritableStream?Promise.reject(R("write to")):J(this,a)}},{key:"closed",get:function(){return!1===F(this)?Promise.reject(Q("closed")):this._closedPromise}},{key:"desiredSize",get:function(){var a,b,c;if(!1===F(this))throw Q("desiredSize");if(void 0===this._ownerWritableStream)throw R("desiredSize");return a=this,"errored"===(c=(b=a._ownerWritableStream)._state)||"erroring"===c?null:"closed"===c?0:L(b._writableStreamController)}},{key:"ready",get:function(){return!1===F(this)?Promise.reject(Q("ready")):this._readyPromise}}]),a}();function F(a){return!!j(a)&&!!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")}function G(a){var b,c=a._ownerWritableStream;l(void 0!==c);var d=c._state;if("closed"===d||"errored"===d)return Promise.reject(TypeError("The stream (in "+d+" state) is not in the writable state and cannot be closed"));l("writable"===d||"erroring"===d),l(!1===A(c));var e=new Promise(function(a,b){c._closeRequest={_resolve:a,_reject:b}});return!0===c._backpressure&&"writable"===d&&W(a),p(b=c._writableStreamController,"close",0),M(b),e}function H(a,b){var c,d,e,f;"pending"===a._readyPromiseState?(c=a,d=b,l(void 0!==c._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),l(void 0!==c._readyPromise_reject,"writer._readyPromise_reject !== undefined"),c._readyPromise_reject(d),c._readyPromise_resolve=void 0,c._readyPromise_reject=void 0,c._readyPromiseState="rejected"):(e=a,f=b,l(void 0===e._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),l(void 0===e._readyPromise_reject,"writer._readyPromise_reject === undefined"),e._readyPromise=Promise.reject(f),e._readyPromiseState="rejected"),a._readyPromise.catch(function(){})}function I(a){var b,c,d=a._ownerWritableStream;l(void 0!==d),l(d._writer===a);var e=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");H(a,e),"pending"===a._closedPromiseState?T(a,e):(b=a,c=e,l(void 0===b._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),l(void 0===b._closedPromise_reject,"writer._closedPromise_reject === undefined"),l("pending"!==b._closedPromiseState,"writer._closedPromiseState is not pending"),b._closedPromise=Promise.reject(c),b._closedPromiseState="rejected"),a._closedPromise.catch(function(){}),d._writer=void 0,a._ownerWritableStream=void 0}function J(a,b){var c=a._ownerWritableStream;l(void 0!==c);var d=c._writableStreamController,e=function(a,b){var c=a._strategySize;if(void 0===c)return 1;try{return c(b)}catch(b){return N(a,b),1}}(d,b);if(c!==a._ownerWritableStream)return Promise.reject(R("write to"));var f=c._state;if("errored"===f)return Promise.reject(c._storedError);if(!0===A(c)||"closed"===f)return Promise.reject(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===f)return Promise.reject(c._storedError);l("writable"===f);var g=(l(!0===v(c)),l("writable"===c._state),new Promise(function(a,b){c._writeRequests.push({_resolve:a,_reject:b})}));return function(a,b,c){try{p(a,{chunk:b},c)}catch(b){N(a,b);return}var d=a._controlledWritableStream;!1===A(d)&&"writable"===d._state&&D(d,function(a){return 0>=L(a)}(a)),M(a)}(d,b,e),g}var K=function(){function a(b,c,d,f){if(e(this,a),!1===u(b))throw TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==b._writableStreamController)throw TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=b,this._underlyingSink=c,this._queue=void 0,this._queueTotalSize=void 0,r(this),this._started=!1;var g,h=i(d,f);this._strategySize=h.size,this._strategyHWM=h.highWaterMark,D(b,(g=this,0>=L(g)))}return d(a,[{key:"error",value:function(a){var b;if(!1==(b=this,!!j(b)&&!!Object.prototype.hasOwnProperty.call(b,"_underlyingSink")))throw TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&O(this,a)}},{key:"__abortSteps",value:function(a){return h(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){r(this)}},{key:"__startSteps",value:function(){var a=this,b=g(this._underlyingSink,"start",[this]),c=this._controlledWritableStream;Promise.resolve(b).then(function(){l("writable"===c._state||"erroring"===c._state),a._started=!0,M(a)},function(b){l("writable"===c._state||"erroring"===c._state),a._started=!0,x(c,b)}).catch(m)}}]),a}();function L(a){return a._strategyHWM-a._queueTotalSize}function M(a){var b=a._controlledWritableStream;if(!1!==a._started&&void 0===b._inFlightWriteRequest){var c=b._state;if("closed"!==c&&"errored"!==c){if("erroring"===c)return void z(b);if(0!==a._queue.length){var d=q(a);"close"===d?function(a){var b=a._controlledWritableStream;l(void 0===b._inFlightCloseRequest),l(void 0!==b._closeRequest),b._inFlightCloseRequest=b._closeRequest,b._closeRequest=void 0,o(a),l(0===a._queue.length,"queue must be empty once the final write record is dequeued"),h(a._underlyingSink,"close",[]).then(function(){var a,c,d;l(void 0!==b._inFlightCloseRequest),b._inFlightCloseRequest._resolve(void 0),b._inFlightCloseRequest=void 0,l("writable"===(a=b._state)||"erroring"===a),"erroring"===a&&(b._storedError=void 0,void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._resolve(),b._pendingAbortRequest=void 0)),b._state="closed",void 0!==(c=b._writer)&&(l(void 0!==(d=c)._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),l(void 0!==d._closedPromise_reject,"writer._closedPromise_reject !== undefined"),l("pending"===d._closedPromiseState,"writer._closedPromiseState is pending"),d._closedPromise_resolve(void 0),d._closedPromise_resolve=void 0,d._closedPromise_reject=void 0,d._closedPromiseState="resolved"),l(void 0===b._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),l(void 0===b._storedError,"stream._storedError === undefined")},function(a){l(void 0!==b._inFlightCloseRequest),b._inFlightCloseRequest._reject(a),b._inFlightCloseRequest=void 0,l("writable"===b._state||"erroring"===b._state),void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._reject(a),b._pendingAbortRequest=void 0),x(b,a)}).catch(m)}(a):function(a,b){var c=a._controlledWritableStream;l(void 0===c._inFlightWriteRequest,"there must be no pending write request"),l(0!==c._writeRequests.length,"writeRequests must not be empty"),c._inFlightWriteRequest=c._writeRequests.shift(),h(a._underlyingSink,"write",[b,a]).then(function(){l(void 0!==c._inFlightWriteRequest),c._inFlightWriteRequest._resolve(void 0),c._inFlightWriteRequest=void 0;var b=c._state;l("writable"===b||"erroring"===b),o(a),!1===A(c)&&"writable"===b&&D(c,function(a){return 0>=L(a)}(a)),M(a)},function(a){l(void 0!==c._inFlightWriteRequest),c._inFlightWriteRequest._reject(a),c._inFlightWriteRequest=void 0,l("writable"===c._state||"erroring"===c._state),x(c,a)}).catch(m)}(a,d.chunk)}}}}function N(a,b){"writable"===a._controlledWritableStream._state&&O(a,b)}function O(a,b){var c=a._controlledWritableStream;l("writable"===c._state),y(c,b)}function P(a){return TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function Q(a){return TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function R(a){return TypeError("Cannot "+a+" a stream using a released writer")}function S(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c,a._closedPromiseState="pending"})}function T(a,b){l(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),l(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),l("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function U(a,b){a._readyPromise=Promise.reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function V(a){a._readyPromise=Promise.resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}function W(a){l(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),l(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined"),a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}},function(a,b,c){var d=c(0).IsFiniteNonNegativeNumber,e=c(1).assert;b.DequeueValue=function(a){e("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),e(a._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var b=a._queue.shift();return a._queueTotalSize-=b.size,a._queueTotalSize<0&&(a._queueTotalSize=0),b.value},b.EnqueueValueWithSize=function(a,b,c){if(e("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),!d(c=Number(c)))throw RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:c}),a._queueTotalSize+=c},b.PeekQueueValue=function(a){return e("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),e(a._queue.length>0,"Spec-level failure: should never peek at an empty queue."),a._queue[0].value},b.ResetQueue=function(a){e("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),a._queue=[],a._queueTotalSize=0}},function(a,b,c){var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function e(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var f=c(0),g=f.ArrayBufferCopy,h=f.CreateIterResultObject,i=f.IsFiniteNonNegativeNumber,j=f.InvokeOrNoop,k=f.PromiseInvokeOrNoop,l=f.TransferArrayBuffer,m=f.ValidateAndNormalizeQueuingStrategy,n=f.ValidateAndNormalizeHighWaterMark,o=c(0),p=o.createArrayFromList,q=o.createDataProperty,r=o.typeIsObject,s=c(1),t=s.assert,u=s.rethrowAssertionErrorRejection,v=c(3),w=v.DequeueValue,x=v.EnqueueValueWithSize,y=v.ResetQueue,z=c(2),A=z.AcquireWritableStreamDefaultWriter,B=z.IsWritableStream,C=z.IsWritableStreamLocked,D=z.WritableStreamAbort,E=z.WritableStreamDefaultWriterCloseWithErrorPropagation,F=z.WritableStreamDefaultWriterRelease,G=z.WritableStreamDefaultWriterWrite,H=z.WritableStreamCloseQueuedOrInFlight,I=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.size,f=c.highWaterMark;e(this,a),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var g=b.type;if("bytes"===String(g))void 0===f&&(f=0),this._readableStreamController=new ak(this,b,f);else if(void 0===g)void 0===f&&(f=1),this._readableStreamController=new ab(this,b,d,f);else throw RangeError("Invalid type is specified")}return d(a,[{key:"cancel",value:function(a){return!1===J(this)?Promise.reject(aB("cancel")):!0===K(this)?Promise.reject(TypeError("Cannot cancel a stream that already has a reader")):N(this,a)}},{key:"getReader",value:function(){var a,b,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=c.mode;if(!1===J(this))throw aB("getReader");if(void 0===d){return a=this,new V(a)}if("byob"===(d=String(d))){return b=this,new W(b)}throw RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(a,b){var c=a.writable,d=a.readable;return function(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(a){}}(this.pipeTo(c,b)),d}},{key:"pipeTo",value:function(a){var b,c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=d.preventClose,f=d.preventAbort,g=d.preventCancel;if(!1===J(this))return Promise.reject(aB("pipeTo"));if(!1===B(a))return Promise.reject(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(e=!!e,f=!!f,g=!!g,!0===K(this))return Promise.reject(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===C(a))return Promise.reject(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var h=(b=this,new V(b)),i=A(a),j=!1,k=Promise.resolve();return new Promise(function(b,d){var l,m,n;if(q(c,h._closedPromise,function(b){!1===f?r(function(){return D(a,b)},!0,b):s(!0,b)}),q(a,i._closedPromise,function(a){!1===g?r(function(){return N(c,a)},!0,a):s(!0,a)}),l=c,m=h._closedPromise,n=function(){!1===e?r(function(){return E(i)}):s()},"closed"===l._state?n():m.then(n).catch(u),!0===H(a)||"closed"===a._state){var o=TypeError("the destination writable stream closed before all data could be piped to it");!1===g?r(function(){return N(c,o)},!0,o):s(!0,o)}function p(){var a=k;return k.then(function(){return a!==k?p():void 0})}function q(a,b,c){"errored"===a._state?c(a._storedError):b.catch(c).catch(u)}function r(b,c,d){!0!==j&&(j=!0,"writable"===a._state&&!1===H(a)?p().then(e):e());function e(){b().then(function(){return t(c,d)},function(a){return t(!0,a)}).catch(u)}}function s(b,c){!0!==j&&(j=!0,"writable"===a._state&&!1===H(a)?p().then(function(){return t(b,c)}).catch(u):t(b,c))}function t(a,c){F(i),_(h),a?d(c):b(void 0)}(function a(){return(k=Promise.resolve(),!0===j)?Promise.resolve():i._readyPromise.then(function(){return aa(h).then(function(a){var b=a.value;!0!==a.done&&(k=G(i,b).catch(function(){}))})}).then(a)})().catch(function(a){k=Promise.resolve(),u(a)})})}},{key:"tee",value:function(){var a,b,c,d,e,f,g,h,i,j,k;if(!1===J(this))throw aB("tee");return p((a=this,b=!1,t(!0===J(a)),t("boolean"==typeof b),c=new V(a),(d={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0}).promise=new Promise(function(a){d._resolve=a}),(e=function a(){var b=a._reader,c=a._branch1,d=a._branch2,e=a._teeState;return aa(b).then(function(a){t(r(a));var b=a.value,f=a.done;t("boolean"==typeof f),!0===f&&!1===e.closedOrErrored&&(!1===e.canceled1&&ae(c),!1===e.canceled2&&ae(d),e.closedOrErrored=!0),!0!==e.closedOrErrored&&(!1===e.canceled1&&af(c,b),!1===e.canceled2&&af(d,b))})})._reader=c,e._teeState=d,e._cloneForBranch2=b,(f=function a(b){var c=a._stream,d=a._teeState;if(d.canceled1=!0,d.reason1=b,!0===d.canceled2){var e=N(c,p([d.reason1,d.reason2]));d._resolve(e)}return d.promise})._stream=a,f._teeState=d,(g=function a(b){var c=a._stream,d=a._teeState;if(d.canceled2=!0,d.reason2=b,!0===d.canceled1){var e=N(c,p([d.reason1,d.reason2]));d._resolve(e)}return d.promise})._stream=a,g._teeState=d,q(h=Object.create(Object.prototype),"pull",e),q(h,"cancel",f),i=new I(h),q(j=Object.create(Object.prototype),"pull",e),q(j,"cancel",g),k=new I(j),e._branch1=i._readableStreamController,e._branch2=k._readableStreamController,c._closedPromise.catch(function(a){!0!==d.closedOrErrored&&(ag(e._branch1,a),ag(e._branch2,a),d.closedOrErrored=!0)}),[i,k]))}},{key:"locked",get:function(){if(!1===J(this))throw aB("locked");return K(this)}}]),a}();a.exports={ReadableStream:I,IsReadableStreamDisturbed:function(a){return t(!0===J(a),"IsReadableStreamDisturbed should only be used on known readable streams"),a._disturbed},ReadableStreamDefaultControllerClose:ae,ReadableStreamDefaultControllerEnqueue:af,ReadableStreamDefaultControllerError:ag,ReadableStreamDefaultControllerGetDesiredSize:ai};function J(a){return!!r(a)&&!!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")}function K(a){return t(!0===J(a),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==a._reader}function L(a){return t(!0===X(a._reader)),t("readable"===a._state||"closed"===a._state),new Promise(function(b,c){a._reader._readIntoRequests.push({_resolve:b,_reject:c})})}function M(a){return t(!0===Y(a._reader)),t("readable"===a._state),new Promise(function(b,c){a._reader._readRequests.push({_resolve:b,_reject:c})})}function N(a,b){return(a._disturbed=!0,"closed"===a._state)?Promise.resolve(void 0):"errored"===a._state?Promise.reject(a._storedError):(O(a),a._readableStreamController.__cancelSteps(b).then(function(){}))}function O(a){t("readable"===a._state),a._state="closed";var b=a._reader;if(void 0!==b){if(!0===Y(b)){for(var c,d=0;d<b._readRequests.length;d++)(0,b._readRequests[d]._resolve)(h(void 0,!0));b._readRequests=[]}t(void 0!==(c=b)._closedPromise_resolve),t(void 0!==c._closedPromise_reject),c._closedPromise_resolve(void 0),c._closedPromise_resolve=void 0,c._closedPromise_reject=void 0}}function P(a,b){t(!0===J(a),"stream must be ReadableStream"),t("readable"===a._state,"state must be readable"),a._state="errored",a._storedError=b;var c=a._reader;if(void 0!==c){if(!0===Y(c)){for(var d=0;d<c._readRequests.length;d++)c._readRequests[d]._reject(b);c._readRequests=[]}else{t(X(c),"reader must be ReadableStreamBYOBReader");for(var e=0;e<c._readIntoRequests.length;e++)c._readIntoRequests[e]._reject(b);c._readIntoRequests=[]}aE(c,b),c._closedPromise.catch(function(){})}}function Q(a,b,c){var d=a._reader;t(d._readRequests.length>0),d._readRequests.shift()._resolve(h(b,c))}function R(a){return a._reader._readIntoRequests.length}function S(a){return a._reader._readRequests.length}function T(a){var b=a._reader;return void 0!==b&&!1!==X(b)}function U(a){var b=a._reader;return void 0!==b&&!1!==Y(b)}var V=function(){function a(b){if(e(this,a),!1===J(b))throw TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===K(b))throw TypeError("This stream has already been locked for exclusive reading by another reader");Z(this,b),this._readRequests=[]}return d(a,[{key:"cancel",value:function(a){return!1===Y(this)?Promise.reject(aD("cancel")):void 0===this._ownerReadableStream?Promise.reject(aC("cancel")):$(this,a)}},{key:"read",value:function(){return!1===Y(this)?Promise.reject(aD("read")):void 0===this._ownerReadableStream?Promise.reject(aC("read from")):aa(this)}},{key:"releaseLock",value:function(){if(!1===Y(this))throw aD("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");_(this)}}},{key:"closed",get:function(){return!1===Y(this)?Promise.reject(aD("closed")):this._closedPromise}}]),a}(),W=function(){function a(b){if(e(this,a),!J(b))throw TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===al(b._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(K(b))throw TypeError("This stream has already been locked for exclusive reading by another reader");Z(this,b),this._readIntoRequests=[]}return d(a,[{key:"cancel",value:function(a){return X(this)?void 0===this._ownerReadableStream?Promise.reject(aC("cancel")):$(this,a):Promise.reject(aF("cancel"))}},{key:"read",value:function(a){var b,c,d;return X(this)?void 0===this._ownerReadableStream?Promise.reject(aC("read from")):ArrayBuffer.isView(a)?0===a.byteLength?Promise.reject(TypeError("view must have non-zero byteLength")):(b=this,c=a,(t(void 0!==(d=b._ownerReadableStream)),d._disturbed=!0,"errored"===d._state)?Promise.reject(d._storedError):function(a,b){var c=a._controlledReadableStream,d=1;b.constructor!==DataView&&(d=b.constructor.BYTES_PER_ELEMENT);var e=b.constructor,f={buffer:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:d,ctor:e,readerType:"byob"};if(a._pendingPullIntos.length>0)return f.buffer=l(f.buffer),a._pendingPullIntos.push(f),L(c);if("closed"===c._state)return Promise.resolve(h(new b.constructor(f.buffer,f.byteOffset,0),!0));if(a._queueTotalSize>0){if(!0===as(a,f)){var g=aq(f);return au(a),Promise.resolve(h(g,!1))}if(!0===a._closeRequested){var i=TypeError("Insufficient bytes to fill elements in the given buffer");return az(a,i),Promise.reject(i)}}f.buffer=l(f.buffer),a._pendingPullIntos.push(f);var j=L(c);return an(a),j}(d._readableStreamController,c)):Promise.reject(TypeError("view must be an array buffer view")):Promise.reject(aF("read"))}},{key:"releaseLock",value:function(){if(!X(this))throw aF("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");_(this)}}},{key:"closed",get:function(){return X(this)?this._closedPromise:Promise.reject(aF("closed"))}}]),a}();function X(a){return!!r(a)&&!!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")}function Y(a){return!!r(a)&&!!Object.prototype.hasOwnProperty.call(a,"_readRequests")}function Z(a,b){var c,d,e;a._ownerReadableStream=b,b._reader=a,"readable"===b._state?(c=a)._closedPromise=new Promise(function(a,b){c._closedPromise_resolve=a,c._closedPromise_reject=b}):"closed"===b._state?((d=a)._closedPromise=Promise.resolve(void 0),d._closedPromise_resolve=void 0,d._closedPromise_reject=void 0):(t("errored"===b._state,"state must be errored"),(e=a)._closedPromise=Promise.reject(b._storedError),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,a._closedPromise.catch(function(){}))}function $(a,b){var c=a._ownerReadableStream;return t(void 0!==c),N(c,b)}function _(a){var b,c;t(void 0!==a._ownerReadableStream),t(a._ownerReadableStream._reader===a),"readable"===a._ownerReadableStream._state?aE(a,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(b=a,c=TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),t(void 0===b._closedPromise_resolve),t(void 0===b._closedPromise_reject),b._closedPromise=Promise.reject(c)),a._closedPromise.catch(function(){}),a._ownerReadableStream._reader=void 0,a._ownerReadableStream=void 0}function aa(a){var b=a._ownerReadableStream;return(t(void 0!==b),b._disturbed=!0,"closed"===b._state)?Promise.resolve(h(void 0,!0)):"errored"===b._state?Promise.reject(b._storedError):(t("readable"===b._state),b._readableStreamController.__pullSteps())}var ab=function(){function a(b,c,d,f){if(e(this,a),!1===J(b))throw TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==b._readableStreamController)throw TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=b,this._underlyingSource=c,this._queue=void 0,this._queueTotalSize=void 0,y(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var g=m(d,f);this._strategySize=g.size,this._strategyHWM=g.highWaterMark;var h=this;Promise.resolve(j(c,"start",[this])).then(function(){h._started=!0,t(!1===h._pulling),t(!1===h._pullAgain),ad(h)},function(a){ah(h,a)}).catch(u)}return d(a,[{key:"close",value:function(){if(!1===ac(this))throw aG("close");if(!0===this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");ae(this)}},{key:"enqueue",value:function(a){if(!1===ac(this))throw aG("enqueue");if(!0===this._closeRequested)throw TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");return af(this,a)}},{key:"error",value:function(a){if(!1===ac(this))throw aG("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw TypeError("The stream is "+b._state+" and so cannot be errored");ag(this,a)}},{key:"__cancelSteps",value:function(a){return y(this),k(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(this._queue.length>0){var b=w(this);return!0===this._closeRequested&&0===this._queue.length?O(a):ad(this),Promise.resolve(h(b,!1))}var c=M(a);return ad(this),c}},{key:"desiredSize",get:function(){if(!1===ac(this))throw aG("desiredSize");return ai(this)}}]),a}();function ac(a){return!!r(a)&&!!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")}function ad(a){var b,c;if(!1!=("closed"!==(c=(b=a)._controlledReadableStream)._state&&"errored"!==c._state&&!0!==b._closeRequested&&!1!==b._started&&!!(!0===K(c)&&S(c)>0||ai(b)>0))){if(!0===a._pulling){a._pullAgain=!0;return}t(!1===a._pullAgain),a._pulling=!0,k(a._underlyingSource,"pull",[a]).then(function(){if(a._pulling=!1,!0===a._pullAgain)return a._pullAgain=!1,ad(a)},function(b){ah(a,b)}).catch(u)}}function ae(a){var b=a._controlledReadableStream;t(!1===a._closeRequested),t("readable"===b._state),a._closeRequested=!0,0===a._queue.length&&O(b)}function af(a,b){var c=a._controlledReadableStream;if(t(!1===a._closeRequested),t("readable"===c._state),!0===K(c)&&S(c)>0)Q(c,b,!1);else{var d=1;if(void 0!==a._strategySize){var e=a._strategySize;try{d=e(b)}catch(b){throw ah(a,b),b}}try{x(a,b,d)}catch(b){throw ah(a,b),b}}ad(a)}function ag(a,b){var c=a._controlledReadableStream;t("readable"===c._state),y(a),P(c,b)}function ah(a,b){"readable"===a._controlledReadableStream._state&&ag(a,b)}function ai(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}var aj=function(){function a(b,c){e(this,a),this._associatedReadableByteStreamController=b,this._view=c}return d(a,[{key:"respond",value:function(a){if(!1===am(this))throw aH("respond");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");var b=this._associatedReadableByteStreamController,c=a;if(!1===i(c=Number(c)))throw RangeError("bytesWritten must be a finite");t(b._pendingPullIntos.length>0),ax(b,c)}},{key:"respondWithNewView",value:function(a){if(!1===am(this))throw aH("respond");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw TypeError("You can only respond with array buffer views");var b=this._associatedReadableByteStreamController,c=a;t(b._pendingPullIntos.length>0);var d=b._pendingPullIntos[0];if(d.byteOffset+d.bytesFilled!==c.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(d.byteLength!==c.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");d.buffer=c.buffer,ax(b,c.byteLength)}},{key:"view",get:function(){return this._view}}]),a}(),ak=function(){function a(b,c,d){if(e(this,a),!1===J(b))throw TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==b._readableStreamController)throw TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=b,this._underlyingByteSource=c,this._pullAgain=!1,this._pulling=!1,ao(this),this._queue=this._queueTotalSize=void 0,y(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=n(d);var f=c.autoAllocateChunkSize;if(void 0!==f&&(!1===Number.isInteger(f)||f<=0))throw RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=f,this._pendingPullIntos=[];var g=this;Promise.resolve(j(c,"start",[this])).then(function(){g._started=!0,t(!1===g._pulling),t(!1===g._pullAgain),an(g)},function(a){"readable"===b._state&&az(g,a)}).catch(u)}return d(a,[{key:"close",value:function(){if(!1===al(this))throw aI("close");if(!0===this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");!function(a){var b=a._controlledReadableStream;if(t(!1===a._closeRequested),t("readable"===b._state),a._queueTotalSize>0){a._closeRequested=!0;return}if(a._pendingPullIntos.length>0&&a._pendingPullIntos[0].bytesFilled>0){var c=TypeError("Insufficient bytes to fill elements in the given buffer");throw az(a,c),c}O(b)}(this)}},{key:"enqueue",value:function(a){if(!1===al(this))throw aI("enqueue");if(!0===this._closeRequested)throw TypeError("stream is closed or draining");var b,c,d,e,f,g,h,i=this._controlledReadableStream._state;if("readable"!==i)throw TypeError("The stream (in "+i+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");b=this,c=a,d=b._controlledReadableStream,t(!1===b._closeRequested),t("readable"===d._state),e=c.buffer,f=c.byteOffset,g=c.byteLength,h=l(e),!0===U(d)?0===S(d)?ar(b,h,f,g):(t(0===b._queue.length),Q(d,new Uint8Array(h,f,g),!1)):!0===T(d)?(ar(b,h,f,g),aw(b)):(t(!1===K(d),"stream must not be locked"),ar(b,h,f,g))}},{key:"error",value:function(a){if(!1===al(this))throw aI("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw TypeError("The stream is "+b._state+" and so cannot be errored");az(this,a)}},{key:"__cancelSteps",value:function(a){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),y(this),k(this._underlyingByteSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(t(!0===U(a)),this._queueTotalSize>0){t(0===S(a));var b=this._queue.shift();this._queueTotalSize-=b.byteLength,au(this);var c=void 0;try{c=new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}catch(a){return Promise.reject(a)}return Promise.resolve(h(c,!1))}var d=this._autoAllocateChunkSize;if(void 0!==d){var e=void 0;try{e=new ArrayBuffer(d)}catch(a){return Promise.reject(a)}var f={buffer:e,byteOffset:0,byteLength:d,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(f)}var g=M(a);return an(this),g}},{key:"byobRequest",get:function(){if(!1===al(this))throw aI("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var a=this._pendingPullIntos[0],b=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new aj(this,b)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===al(this))throw aI("desiredSize");return aA(this)}}]),a}();function al(a){return!!r(a)&&!!Object.prototype.hasOwnProperty.call(a,"_underlyingByteSource")}function am(a){return!!r(a)&&!!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")}function an(a){var b,c;if(!1!=("readable"===(c=(b=a)._controlledReadableStream)._state&&!0!==b._closeRequested&&!1!==b._started&&!!(!0===U(c)&&S(c)>0||!0===T(c)&&R(c)>0||aA(b)>0))){if(!0===a._pulling){a._pullAgain=!0;return}t(!1===a._pullAgain),a._pulling=!0,k(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1,!0===a._pullAgain&&(a._pullAgain=!1,an(a))},function(b){"readable"===a._controlledReadableStream._state&&az(a,b)}).catch(u)}}function ao(a){av(a),a._pendingPullIntos=[]}function ap(a,b){t("errored"!==a._state,"state must not be errored");var c,d,e=!1;"closed"===a._state&&(t(0===b.bytesFilled),e=!0);var f=aq(b);"default"===b.readerType?Q(a,f,e):(t("byob"===b.readerType),c=e,t((d=a._reader)._readIntoRequests.length>0),d._readIntoRequests.shift()._resolve(h(f,c)))}function aq(a){var b=a.bytesFilled,c=a.elementSize;return t(b<=a.byteLength),t(b%c==0),new a.ctor(a.buffer,a.byteOffset,b/c)}function ar(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d}),a._queueTotalSize+=d}function as(a,b){var c=b.elementSize,d=b.bytesFilled-b.bytesFilled%c,e=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),f=b.bytesFilled+e,h=f-f%c,i=e,j=!1;h>d&&(i=h-b.bytesFilled,j=!0);for(var k=a._queue;i>0;){var l=k[0],m=Math.min(i,l.byteLength),n=b.byteOffset+b.bytesFilled;g(b.buffer,n,l.buffer,l.byteOffset,m),l.byteLength===m?k.shift():(l.byteOffset+=m,l.byteLength-=m),a._queueTotalSize-=m,at(a,m,b),i-=m}return!1===j&&(t(0===a._queueTotalSize,"queue must be empty"),t(b.bytesFilled>0),t(b.bytesFilled<b.elementSize)),j}function at(a,b,c){t(0===a._pendingPullIntos.length||a._pendingPullIntos[0]===c),av(a),c.bytesFilled+=b}function au(a){t("readable"===a._controlledReadableStream._state),0===a._queueTotalSize&&!0===a._closeRequested?O(a._controlledReadableStream):an(a)}function av(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function aw(a){for(t(!1===a._closeRequested);a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;var b=a._pendingPullIntos[0];!0===as(a,b)&&(ay(a),ap(a._controlledReadableStream,b))}}function ax(a,b){var c=a._pendingPullIntos[0],d=a._controlledReadableStream;if("closed"===d._state){if(0!==b)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream");c.buffer=l(c.buffer),t(0===c.bytesFilled,"bytesFilled must be 0");var e=a._controlledReadableStream;if(!0===T(e))for(;R(e)>0;)ap(e,ay(a))}else{t("readable"===d._state);if(c.bytesFilled+b>c.byteLength)throw RangeError("bytesWritten out of range");if(at(a,b,c),!(c.bytesFilled<c.elementSize)){ay(a);var f=c.bytesFilled%c.elementSize;if(f>0){var g=c.byteOffset+c.bytesFilled,h=c.buffer.slice(g-f,g);ar(a,h,0,h.byteLength)}c.buffer=l(c.buffer),c.bytesFilled-=f,ap(a._controlledReadableStream,c),aw(a)}}}function ay(a){var b=a._pendingPullIntos.shift();return av(a),b}function az(a,b){var c=a._controlledReadableStream;t("readable"===c._state),ao(a),y(a),P(c,b)}function aA(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function aB(a){return TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function aC(a){return TypeError("Cannot "+a+" a stream using a released reader")}function aD(a){return TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function aE(a,b){t(void 0!==a._closedPromise_resolve),t(void 0!==a._closedPromise_reject),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function aF(a){return TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function aG(a){return TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function aH(a){return TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function aI(a){return TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}},function(a,b,c){var d=c(6),e=c(4),f=c(2);b.TransformStream=d.TransformStream,b.ReadableStream=e.ReadableStream,b.IsReadableStreamDisturbed=e.IsReadableStreamDisturbed,b.ReadableStreamDefaultControllerClose=e.ReadableStreamDefaultControllerClose,b.ReadableStreamDefaultControllerEnqueue=e.ReadableStreamDefaultControllerEnqueue,b.ReadableStreamDefaultControllerError=e.ReadableStreamDefaultControllerError,b.ReadableStreamDefaultControllerGetDesiredSize=e.ReadableStreamDefaultControllerGetDesiredSize,b.AcquireWritableStreamDefaultWriter=f.AcquireWritableStreamDefaultWriter,b.IsWritableStream=f.IsWritableStream,b.IsWritableStreamLocked=f.IsWritableStreamLocked,b.WritableStream=f.WritableStream,b.WritableStreamAbort=f.WritableStreamAbort,b.WritableStreamDefaultControllerError=f.WritableStreamDefaultControllerError,b.WritableStreamDefaultWriterCloseWithErrorPropagation=f.WritableStreamDefaultWriterCloseWithErrorPropagation,b.WritableStreamDefaultWriterRelease=f.WritableStreamDefaultWriterRelease,b.WritableStreamDefaultWriterWrite=f.WritableStreamDefaultWriterWrite},function(a,b,c){var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function e(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var f=c(1).assert,g=c(0),h=g.InvokeOrNoop,i=g.PromiseInvokeOrPerformFallback,j=g.PromiseInvokeOrNoop,k=g.typeIsObject,l=c(4),m=l.ReadableStream,n=l.ReadableStreamDefaultControllerClose,o=l.ReadableStreamDefaultControllerEnqueue,p=l.ReadableStreamDefaultControllerError,q=l.ReadableStreamDefaultControllerGetDesiredSize,r=c(2),s=r.WritableStream,t=r.WritableStreamDefaultControllerError;function u(a,b){if(!0===a._errored)throw TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw TypeError("Readable side is already closed");var c=a._readableController;try{o(c,b)}catch(b){throw a._readableClosed=!0,w(a,b),a._storedError}!0==0>=q(c)&&!1===a._backpressure&&z(a,!0)}function v(a){f(!1===a._errored),f(!1===a._readableClosed);try{n(a._readableController)}catch(a){f(!1)}a._readableClosed=!0}function w(a,b){!1===a._errored&&x(a,b)}function x(a,b){f(!1===a._errored),a._errored=!0,a._storedError=b,!1===a._writableDone&&t(a._writableController,b),!1===a._readableClosed&&p(a._readableController,b)}function y(a){return(f(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!1===a._backpressure)?Promise.resolve():(f(!0===a._backpressure,"_backpressure should have been initialized"),a._backpressureChangePromise)}function z(a,b){f(a._backpressure!==b,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(b),a._backpressureChangePromise=new Promise(function(b){a._backpressureChangePromise_resolve=b}),a._backpressureChangePromise.then(function(a){f(a!==b,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),a._backpressure=b}function A(a,b){return u(b._controlledTransformStream,a),Promise.resolve()}function B(a){return!!k(a)&&!!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")}function C(a){return!!k(a)&&!!Object.prototype.hasOwnProperty.call(a,"_transformStreamController")}var D=function(){function a(b,c){e(this,a),this._transformStream=b,this._startPromise=c}return d(a,[{key:"start",value:function(a){var b=this._transformStream;return b._writableController=a,this._startPromise.then(function(){return y(b)})}},{key:"write",value:function(a){var b,c;return b=this._transformStream,f(!1===b._errored),f(!1===b._transforming),f(!1===b._backpressure),b._transforming=!0,i(b._transformer,"transform",[a,c=b._transformStreamController],A,[a,c]).then(function(){return b._transforming=!1,y(b)},function(a){return w(b,a),Promise.reject(a)})}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0,x(a,TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;return f(!1===a._transforming),a._writableDone=!0,j(a._transformer,"flush",[a._transformStreamController]).then(function(){return!0===a._errored?Promise.reject(a._storedError):(!1===a._readableClosed&&v(a),Promise.resolve())}).catch(function(b){return w(a,b),Promise.reject(a._storedError)})}}]),a}(),E=function(){function a(b,c){e(this,a),this._transformStream=b,this._startPromise=c}return d(a,[{key:"start",value:function(a){var b=this._transformStream;return b._readableController=a,this._startPromise.then(function(){return(f(void 0!==b._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!0===b._backpressure)?Promise.resolve():(f(!1===b._backpressure,"_backpressure should have been initialized"),b._backpressureChangePromise)})}},{key:"pull",value:function(){var a=this._transformStream;return f(!0===a._backpressure,"pull() should be never called while _backpressure is false"),f(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),z(a,!1),a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=!0,x(a,TypeError("Readable side canceled"))}}]),a}(),F=function(){function a(b){if(e(this,a),!1===C(b))throw TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==b._transformStreamController)throw TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=b}return d(a,[{key:"enqueue",value:function(a){if(!1===B(this))throw G("enqueue");u(this._controlledTransformStream,a)}},{key:"close",value:function(){if(!1===B(this))throw G("close");var a=this._controlledTransformStream;if(!0===a._errored)throw TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw TypeError("Readable side is already closed");v(a)}},{key:"error",value:function(a){if(!1===B(this))throw G("error");var b=this._controlledTransformStream;if(!0===b._errored)throw TypeError("TransformStream is already errored");x(b,a)}},{key:"desiredSize",get:function(){if(!1===B(this))throw G("desiredSize");return q(this._controlledTransformStream._readableController)}}]),a}();function G(a){return TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function H(a){return TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}a.exports={TransformStream:function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,a),this._transformer=b;var c=b.readableStrategy,d=b.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new F(this);var g=void 0,i=new Promise(function(a){g=a}),j=new E(this,i);this._readable=new m(j,c);var k=new D(this,i);this._writable=new s(k,d),f(void 0!==this._writableController),f(void 0!==this._readableController),z(this,0>=q(this._readableController));var l=this,n=h(b,"start",[l._transformStreamController]);g(n),i.catch(function(a){!1===l._errored&&(l._errored=!0,l._storedError=a)})}return d(a,[{key:"readable",get:function(){if(!1===C(this))throw H("readable");return this._readable}},{key:"writable",get:function(){if(!1===C(this))throw H("writable");return this._writable}}]),a}()}},function(a,b,c){a.exports=c(5)}]);for(var f in e)b[f]=e[f]},function(a,b,d){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.build=b.version=b.setPDFNetworkStreamFactory=b.PDFPageProxy=b.PDFDocumentProxy=b.PDFWorker=b.PDFDataRangeTransport=b.LoopbackPort=b.getDocument=void 0;var e,f,g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=d(1),j=d(115),k=d(116),l=d(117),m=d(118),n=(e=d(3))&&e.__esModule?e:{default:e},o=d(120),p=d(121),q=d(122),r=d(124),s=d(125),t=!1,u=void 0,v="undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,w=null,x=!1;"undefined"==typeof window&&(t=!0),x=!0,"undefined"!=typeof requirejs&&requirejs.toUrl&&(u=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var y="undefined"!=typeof requirejs&&requirejs.load;w=x?function(a){c.e(3913).then((function(){a(c(83913).WorkerMessageHandler)}).bind(null,c)).catch(c.oe)}:y?function(a){requirejs(["pdfjs-dist/build/pdf.worker"],function(b){a(b.WorkerMessageHandler)})}:null;var z=function(){var a=0;function b(){this._capability=(0,i.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+a++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return b.prototype={get promise(){return this._capability.promise},destroy:function(){var a=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})},then:function(a,b){return this.promise.then.apply(this.promise,arguments)}},b}(),A=function(){function a(a,b){this.length=a,this.initialData=b,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=(0,i.createPromiseCapability)()}return a.prototype={addRangeListener:function(a){this._rangeListeners.push(a)},addProgressListener:function(a){this._progressListeners.push(a)},addProgressiveReadListener:function(a){this._progressiveReadListeners.push(a)},onDataRange:function(a,b){for(var c=this._rangeListeners,d=0,e=c.length;d<e;++d)c[d](a,b)},onDataProgress:function(a){var b=this;this._readyCapability.promise.then(function(){for(var c=b._progressListeners,d=0,e=c.length;d<e;++d)c[d](a)})},onDataProgressiveRead:function(a){var b=this;this._readyCapability.promise.then(function(){for(var c=b._progressiveReadListeners,d=0,e=c.length;d<e;++d)c[d](a)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(a,b){(0,i.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}},a}(),B=function(){function a(a,b,c){this.pdfInfo=a,this.transport=b,this.loadingTask=c}return a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(a){return this.transport.getDestination(a)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()},get loadingParams(){return this.transport.loadingParams}},a}(),C=function(){function a(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.pageIndex=a,this.pageInfo=b,this.transport=c,this._stats=d?new j.StatTimer:j.DummyStatTimer,this._pdfBug=d,this.commonObjs=c.commonObjs,this.objs=new G,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new j.PageViewport({viewBox:this.view,scale:a,rotation:b,dontFlip:c})},getAnnotations:function(a){var b=a&&a.intent||null;return this.annotationsPromise&&this.annotationsIntent===b||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,b),this.annotationsIntent=b),this.annotationsPromise},render:function(a){var b=this,c=this._stats;c.time("Overall"),this.pendingCleanup=!1;var d="print"===a.intent?"print":"display",e=a.canvasFactory||new j.DOMCanvasFactory,f=new s.WebGLContext({enable:a.enableWebGL});this.intentStates[d]||(this.intentStates[d]=Object.create(null));var g=this.intentStates[d];g.displayReadyCapability||(g.receivingOperatorList=!0,g.displayReadyCapability=(0,i.createPromiseCapability)(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1},c.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d,renderInteractiveForms:!0===a.renderInteractiveForms}));var h=function(a){var d=g.renderTasks.indexOf(k);d>=0&&g.renderTasks.splice(d,1),b.cleanupAfterRender&&(b.pendingCleanup=!0),b._tryCleanup(),a?k.capability.reject(a):k.capability.resolve(),c.timeEnd("Rendering"),c.timeEnd("Overall")},k=new I(h,a,this.objs,this.commonObjs,g.operatorList,this.pageNumber,e,f,this._pdfBug);k.useRequestAnimationFrame="print"!==d,g.renderTasks||(g.renderTasks=[]),g.renderTasks.push(k);var l=k.task;return g.displayReadyCapability.promise.then(function(a){if(b.pendingCleanup)return void h();c.time("Rendering"),k.initializeGraphics(a),k.operatorListChanged()}).catch(h),l},getOperatorList:function(){var a,b="oplist";this.intentStates[b]||(this.intentStates[b]=Object.create(null));var c=this.intentStates[b];return c.opListReadCapability||((a={}).operatorListChanged=function(){if(c.operatorList.lastChunk){c.opListReadCapability.resolve(c.operatorList);var b=c.renderTasks.indexOf(a);b>=0&&c.renderTasks.splice(b,1)}},c.receivingOperatorList=!0,c.opListReadCapability=(0,i.createPromiseCapability)(),c.renderTasks=[],c.renderTasks.push(a),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:b})),c.opListReadCapability.promise},streamTextContent:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===a.normalizeWhitespace,combineTextItems:!0!==a.disableCombineTextItems},{highWaterMark:100,size:function(a){return a.items.length}})},getTextContent:function(a){a=a||{};var b=this.streamTextContent(a);return new Promise(function(a,c){var d=b.getReader(),e={items:[],styles:Object.create(null)};!function b(){d.read().then(function(c){var d=c.value;if(c.done)return void a(e);i.Util.extendObj(e.styles,d.styles),i.Util.appendToArray(e.items,d.items),b()},c)}()})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var a=[];return Object.keys(this.intentStates).forEach(function(b){"oplist"!==b&&this.intentStates[b].renderTasks.forEach(function(b){var c=b.capability.promise.catch(function(){});a.push(c),b.cancel()})},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(a)},cleanup:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup=!0,this._tryCleanup(a)},_tryCleanup:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this.pendingCleanup||Object.keys(this.intentStates).some(function(a){var b=this.intentStates[a];return 0!==b.renderTasks.length||b.receivingOperatorList},this)||(Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this),this.objs.clear(),this.annotationsPromise=null,a&&this._stats instanceof j.StatTimer&&(this._stats=new j.StatTimer),this.pendingCleanup=!1)},_startRenderPage:function(a,b){var c=this.intentStates[b];c.displayReadyCapability&&c.displayReadyCapability.resolve(a)},_renderPageChunk:function(a,b){var c,d,e=this.intentStates[b];for(c=0,d=a.length;c<d;c++)e.operatorList.fnArray.push(a.fnArray[c]),e.operatorList.argsArray.push(a.argsArray[c]);for(c=0,e.operatorList.lastChunk=a.lastChunk;c<e.renderTasks.length;c++)e.renderTasks[c].operatorListChanged();a.lastChunk&&(e.receivingOperatorList=!1,this._tryCleanup())},get stats(){return this._stats instanceof j.StatTimer?this._stats:null}},a}(),D=function(){function a(){var b=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!(this instanceof a))throw TypeError("Cannot call a class as a function");this._listeners=[],this._defer=b,this._deferred=Promise.resolve(void 0)}return g(a,[{key:"postMessage",value:function(a,b){var c=this;if(!this._defer)return void this._listeners.forEach(function(b){b.call(this,{data:a})},this);var d=new WeakMap,e={data:function a(c){if((void 0===c?"undefined":h(c))!=="object"||null===c)return c;if(d.has(c))return d.get(c);if((j=c.buffer)&&(0,i.isArrayBuffer)(j)){var e=b&&b.includes(j);return g=c===j?c:e?new c.constructor(j,c.byteOffset,c.byteLength):new c.constructor(c),d.set(c,g),g}for(var f in g=Array.isArray(c)?[]:{},d.set(c,g),c){for(var g,j,k,l=c;!(k=Object.getOwnPropertyDescriptor(l,f));)l=Object.getPrototypeOf(l);void 0!==k.value&&"function"!=typeof k.value&&(g[f]=a(k.value))}return g}(a)};this._deferred.then(function(){c._listeners.forEach(function(a){a.call(this,e)},c)})}},{key:"addEventListener",value:function(a,b){this._listeners.push(b)}},{key:"removeEventListener",value:function(a,b){var c=this._listeners.indexOf(b);this._listeners.splice(c,1)}},{key:"terminate",value:function(){this._listeners=[]}}]),a}(),E=function(){var a=0;function b(){if(o.GlobalWorkerOptions.workerSrc)return o.GlobalWorkerOptions.workerSrc;if(void 0!==u)return u;if(v)return v.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw Error('No "GlobalWorkerOptions.workerSrc" specified.')}function c(){return"undefined"==typeof window?null:window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}var d=void 0,e=new WeakMap;function f(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.name,c=a.port,d=void 0===c?null:c,f=a.postMessageTransfers,g=a.verbosity,h=void 0===g?null:g;if(d&&e.has(d))throw Error("Cannot use more than one PDFWorker per port");if(this.name=void 0===b?null:b,this.destroyed=!1,this.postMessageTransfers=!1!==(void 0===f||f),this.verbosity=(0,i.isNum)(h)?h:(0,i.getVerbosityLevel)(),this._readyCapability=(0,i.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,d){e.set(d,this),this._initializeFromPort(d);return}this._initialize()}return f.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(a){this._port=a,this._messageHandler=new p.MessageHandler("main","worker",a),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()},_initialize:function(){var a=this;if("undefined"!=typeof Worker&&!t&&!c()){var d=b();try{(0,i.isSameOrigin)(window.location.href,d)||(e=new URL(d,window.location).href,d=URL.createObjectURL(new Blob(["importScripts('"+e+"');"])));var e,f=new Worker(d),g=new p.MessageHandler("main","worker",f),h=function(){f.removeEventListener("error",j),g.destroy(),f.terminate(),a.destroyed?a._readyCapability.reject(Error("Worker was destroyed")):a._setupFakeWorker()},j=function(){a._webWorker||h()};f.addEventListener("error",j),g.on("test",function(b){if(f.removeEventListener("error",j),a.destroyed)return void h();b&&b.supportTypedArray?(a._messageHandler=g,a._port=f,a._webWorker=f,b.supportTransfers||(a.postMessageTransfers=!1),a._readyCapability.resolve(),g.send("configure",{verbosity:a.verbosity})):(a._setupFakeWorker(),g.destroy(),f.terminate())}),g.on("ready",function(b){if(f.removeEventListener("error",j),a.destroyed)return void h();try{k()}catch(b){a._setupFakeWorker()}});var k=function(){var b=new Uint8Array([255*!!a.postMessageTransfers]);try{g.send("test",b,[b.buffer])}catch(a){(0,i.info)("Cannot use postMessage transfers"),b[0]=0,g.send("test",b)}};k();return}catch(a){(0,i.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var e=this;t||((0,i.warn)("Setting up fake worker."),t=!0),(function(){if(d)return d.promise;d=(0,i.createPromiseCapability)();var a=c();return a?d.resolve(a):(w||function(a){i.Util.loadScript(b(),function(){a(window.pdfjsWorker.WorkerMessageHandler)})})(d.resolve),d.promise})().then(function(b){if(e.destroyed)return void e._readyCapability.reject(Error("Worker was destroyed"));var c=new D(Uint8Array!==Float32Array);e._port=c;var d="fake"+a++,f=new p.MessageHandler(d+"_worker",d,c);b.setup(f,c),e._messageHandler=new p.MessageHandler(d,d+"_worker",c),e._readyCapability.resolve()})},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},f.fromPort=function(a){return e.has(a.port)?e.get(a.port):new f(a)},f.getWorkerSrc=function(){return b()},f}(),F=function(){function a(a,b,c,d,e){this.messageHandler=a,this.loadingTask=b,this.commonObjs=new G,this.fontLoader=new k.FontLoader(b.docId),this._params=d,this.CMapReaderFactory=new e({baseUrl:d.cMapUrl,isCompressed:d.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=c,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,i.createPromiseCapability)(),this.setupMessageHandler()}return a.prototype={destroy:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,i.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var b=[];this.pageCache.forEach(function(a){a&&b.push(a._destroy())}),this.pageCache=[],this.pagePromises=[];var c=this.messageHandler.sendWithPromise("Terminate",null);return b.push(c),Promise.all(b).then(function(){a.fontLoader.clear(),a._networkStream&&a._networkStream.cancelAllRequests(),a.messageHandler&&(a.messageHandler.destroy(),a.messageHandler=null),a.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise},setupMessageHandler:function(){var a=this.messageHandler,b=this.loadingTask;a.on("GetReader",function(a,b){var c=this;(0,i.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(a){c._lastProgress={loaded:a.loaded,total:a.total}},b.onPull=function(){c._fullReader.read().then(function(a){var c=a.value;if(a.done)return void b.close();(0,i.assert)((0,i.isArrayBuffer)(c)),b.enqueue(new Uint8Array(c),1,[c])}).catch(function(a){b.error(a)})},b.onCancel=function(a){c._fullReader.cancel(a)}},this),a.on("ReaderHeadersReady",function(a){var b=this,c=(0,i.createPromiseCapability)(),d=this._fullReader;return d.headersReady.then(function(){if(!d.isStreamingSupported||!d.isRangeSupported){if(b._lastProgress){var a=b.loadingTask;a.onProgress&&a.onProgress(b._lastProgress)}d.onProgress=function(a){var c=b.loadingTask;c.onProgress&&c.onProgress({loaded:a.loaded,total:a.total})}}c.resolve({isStreamingSupported:d.isStreamingSupported,isRangeSupported:d.isRangeSupported,contentLength:d.contentLength})},c.reject),c.promise},this),a.on("GetRangeReader",function(a,b){(0,i.assert)(this._networkStream);var c=this._networkStream.getRangeReader(a.begin,a.end);b.onPull=function(){c.read().then(function(a){var c=a.value;if(a.done)return void b.close();(0,i.assert)((0,i.isArrayBuffer)(c)),b.enqueue(new Uint8Array(c),1,[c])}).catch(function(a){b.error(a)})},b.onCancel=function(a){c.cancel(a)}},this),a.on("GetDoc",function(a){var b=a.pdfInfo;this.numPages=b.numPages;var c=this.loadingTask,d=new B(b,this,c);this.pdfDocument=d,c._capability.resolve(d)},this),a.on("PasswordRequest",function(a){var c=this;if(this._passwordCapability=(0,i.createPromiseCapability)(),b.onPassword)try{b.onPassword(function(a){c._passwordCapability.resolve({password:a})},a.code)}catch(a){this._passwordCapability.reject(a)}else this._passwordCapability.reject(new i.PasswordException(a.message,a.code));return this._passwordCapability.promise},this),a.on("PasswordException",function(a){b._capability.reject(new i.PasswordException(a.message,a.code))},this),a.on("InvalidPDF",function(a){this.loadingTask._capability.reject(new i.InvalidPDFException(a.message))},this),a.on("MissingPDF",function(a){this.loadingTask._capability.reject(new i.MissingPDFException(a.message))},this),a.on("UnexpectedResponse",function(a){this.loadingTask._capability.reject(new i.UnexpectedResponseException(a.message,a.status))},this),a.on("UnknownError",function(a){this.loadingTask._capability.reject(new i.UnknownErrorException(a.message,a.details))},this),a.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this),a.on("PDFManagerReady",function(a){},this),a.on("StartRenderPage",function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex];b._stats.timeEnd("Page Request"),b._startRenderPage(a.transparency,a.intent)}},this),a.on("RenderPageChunk",function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this),a.on("commonobj",function(a){var b=this;if(!this.destroyed){var c=a[0],d=a[1];if(!this.commonObjs.hasData(c))switch(d){case"Font":var e=a[2],f=this._params;if("error"in e){var g=e.error;(0,i.warn)("Error during font loading: "+g),this.commonObjs.resolve(c,g);break}var h=null;f.pdfBug&&n.default.FontInspector&&n.default.FontInspector.enabled&&(h={registerFont:function(a,b){n.default.FontInspector.fontAdded(a,b)}});var j=new k.FontFaceObject(e,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,fontRegistry:h});this.fontLoader.bind([j],function(a){b.commonObjs.resolve(c,j)});break;case"FontPath":this.commonObjs.resolve(c,a[2]);break;default:throw Error("Got unknown common object type "+d)}}},this),a.on("obj",function(a){if(!this.destroyed){var b,c=a[0],d=a[1],e=a[2],f=this.pageCache[d];if(!f.objs.hasData(c))switch(e){case"JpegStream":return b=a[3],new Promise(function(a,c){var d=new Image;d.onload=function(){a(d)},d.onerror=function(){c(Error("Error during JPEG image loading"))},d.src=b}).then(function(a){f.objs.resolve(c,a)});case"Image":b=a[3],f.objs.resolve(c,b),b&&"data"in b&&b.data.length>8e6&&(f.cleanupAfterRender=!0);break;default:throw Error("Got unknown object type "+e)}}},this),a.on("DocProgress",function(a){if(!this.destroyed){var b=this.loadingTask;b.onProgress&&b.onProgress({loaded:a.loaded,total:a.total})}},this),a.on("PageError",function(a){if(!this.destroyed){var b=this.pageCache[a.pageNum-1].intentStates[a.intent];if(b.displayReadyCapability)b.displayReadyCapability.reject(a.error);else throw Error(a.error);if(b.operatorList){b.operatorList.lastChunk=!0;for(var c=0;c<b.renderTasks.length;c++)b.renderTasks[c].operatorListChanged()}}},this),a.on("UnsupportedFeature",function(a){if(!this.destroyed){var b=this.loadingTask;b.onUnsupportedFeature&&b.onUnsupportedFeature(a.featureId)}},this),a.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(Error('"document" is not defined.'));var b=a[0],c=a[1];return 3!==c&&1!==c?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,d){var e=new Image;e.onload=function(){var b,d,f=e.width,g=e.height,h=f*g,i=4*h,j=new Uint8Array(h*c),k=document.createElement("canvas");k.width=f,k.height=g;var l=k.getContext("2d");l.drawImage(e,0,0);var m=l.getImageData(0,0,f,g).data;if(3===c)for(b=0,d=0;b<i;b+=4,d+=3)j[d]=m[b],j[d+1]=m[b+1],j[d+2]=m[b+2];else if(1===c)for(b=0,d=0;b<i;b+=4,d++)j[d]=m[b];a({data:j,width:f,height:g})},e.onerror=function(){d(Error("JpegDecode failed to load image"))},e.src=b})},this),a.on("FetchBuiltInCMap",function(a){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(a){var b=this;if(!Number.isInteger(a)||a<=0||a>this.numPages)return Promise.reject(Error("Invalid page request"));var c=a-1;if(c in this.pagePromises)return this.pagePromises[c];var d=this.messageHandler.sendWithPromise("GetPage",{pageIndex:c}).then(function(a){if(b.destroyed)throw Error("Transport destroyed");var d=new C(c,a,b,b._params.pdfBug);return b.pageCache[c]=d,d});return this.pagePromises[c]=d,d},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a}).catch(function(a){return Promise.reject(Error(a))})},getAnnotations:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(a){return this.messageHandler.sendWithPromise("GetDestination",{id:a})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){var a=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(b){return{info:b[0],metadata:b[1]?new q.Metadata(b[1]):null,contentDispositionFilename:a._fullReader?a._fullReader.filename:null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var b=0,c=a.pageCache.length;b<c;b++){var d=a.pageCache[b];d&&d.cleanup()}a.commonObjs.clear(),a.fontLoader.clear()})},get loadingParams(){var b=this._params;return(0,i.shadow)(this,"loadingParams",{disableRange:b.disableRange,disableStream:b.disableStream,disableAutoFetch:b.disableAutoFetch,disableCreateObjectURL:b.disableCreateObjectURL,disableFontFace:b.disableFontFace,nativeImageDecoderSupport:b.nativeImageDecoderSupport})}},a}(),G=function(){function a(){this.objs=Object.create(null)}return a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={capability:(0,i.createPromiseCapability)(),data:null,resolved:!1};return this.objs[a]=b,b},get:function(a,b){if(b)return this.ensureObj(a).capability.promise.then(b),null;var c=this.objs[a];if(!c||!c.resolved)throw Error("Requesting object that isn't resolved yet "+a);return c.data},resolve:function(a,b){var c=this.ensureObj(a);c.resolved=!0,c.data=b,c.capability.resolve(b)},isResolved:function(a){var b=this.objs;return!!b[a]&&b[a].resolved},hasData:function(a){return this.isResolved(a)},getData:function(a){var b=this.objs;return b[a]&&b[a].resolved?b[a].data:null},clear:function(){this.objs=Object.create(null)}},a}(),H=function(){function a(a){this._internalRenderTask=a,this.onContinue=null}return a.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(a,b){return this.promise.then.apply(this.promise,arguments)}},a}(),I=function(){var a=new WeakMap;function b(a,b,c,d,e,f,g,h){var j=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.callback=a,this.params=b,this.objs=c,this.commonObjs=d,this.operatorListIdx=null,this.operatorList=e,this.pageNumber=f,this.canvasFactory=g,this.webGLContext=h,this._pdfBug=j,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=(0,i.createPromiseCapability)(),this.task=new H(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=b.canvasContext.canvas}return b.prototype={initializeGraphics:function(b){if(this._canvas){if(a.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.set(this._canvas,this)}if(!this.cancelled){this._pdfBug&&n.default.StepperManager&&n.default.StepperManager.enabled&&(this.stepper=n.default.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var c=this.params;this.gfx=new m.CanvasGraphics(c.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,c.imageLayer),this.gfx.beginDrawing({transform:c.transform,viewport:c.viewport,transparency:b,background:c.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this._canvas&&a.delete(this._canvas),this.callback(new j.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))},operatorListChanged:function(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){!this.cancelled&&(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&a.delete(this._canvas),this.callback())))}},b}();b.version="2.0.550",b.build="76337fdc",b.getDocument=function(a){var b,c=new z;if("string"==typeof a)b={url:a};else if((0,i.isArrayBuffer)(a))b={data:a};else if(a instanceof A)b={range:a};else{if((void 0===a?"undefined":h(a))!=="object")throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");b=a}var d=Object.create(null),e=null,g=null,k=j.DOMCMapReaderFactory;for(var m in b){if("url"===m&&"undefined"!=typeof window){d[m]=new URL(b[m],window.location).href;continue}if("range"===m){e=b[m];continue}if("worker"===m){g=b[m];continue}else if("data"!==m||b[m]instanceof Uint8Array){if("CMapReaderFactory"===m){k=b[m];continue}}else{var n=b[m];if("string"==typeof n)d[m]=(0,i.stringToBytes)(n);else if((void 0===n?"undefined":h(n))!=="object"||null===n||isNaN(n.length))if((0,i.isArrayBuffer)(n))d[m]=new Uint8Array(n);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");else d[m]=new Uint8Array(n);continue}d[m]=b[m]}d.rangeChunkSize=d.rangeChunkSize||65536,d.ignoreErrors=!0!==d.stopAtErrors,d.pdfBug=!0===d.pdfBug;var q=Object.values(i.NativeImageDecoding);if(void 0!==d.nativeImageDecoderSupport&&q.includes(d.nativeImageDecoderSupport)||(d.nativeImageDecoderSupport=l.apiCompatibilityParams.nativeImageDecoderSupport||i.NativeImageDecoding.DECODE),Number.isInteger(d.maxImageSize)||(d.maxImageSize=-1),"boolean"!=typeof d.isEvalSupported&&(d.isEvalSupported=!0),"boolean"!=typeof d.disableFontFace&&(d.disableFontFace=l.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof d.disableRange&&(d.disableRange=l.apiCompatibilityParams.disableRange||!1),"boolean"!=typeof d.disableStream&&(d.disableStream=l.apiCompatibilityParams.disableStream||!1),"boolean"!=typeof d.disableAutoFetch&&(d.disableAutoFetch=!1),"boolean"!=typeof d.disableCreateObjectURL&&(d.disableCreateObjectURL=l.apiCompatibilityParams.disableCreateObjectURL||!1),(0,i.setVerbosityLevel)(d.verbosity),!g){var s={postMessageTransfers:d.postMessageTransfers,verbosity:d.verbosity},t=o.GlobalWorkerOptions.workerPort;t?(s.port=t,g=E.fromPort(s)):g=new E(s),c._worker=g}var u=c.docId;return g.promise.then(function(){var a,b,h,i;if(c.destroyed)throw Error("Loading aborted");return(a=g,b=d,h=e,i=u,a.destroyed?Promise.reject(Error("Worker was destroyed")):(h&&(b.length=h.length,b.initialData=h.initialData),a.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.0.550",source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:b.maxImageSize,disableFontFace:b.disableFontFace,disableCreateObjectURL:b.disableCreateObjectURL,postMessageTransfers:a.postMessageTransfers,docBaseUrl:b.docBaseUrl,nativeImageDecoderSupport:b.nativeImageDecoderSupport,ignoreErrors:b.ignoreErrors,isEvalSupported:b.isEvalSupported}).then(function(b){if(a.destroyed)throw Error("Worker was destroyed");return b}))).then(function(a){if(c.destroyed)throw Error("Loading aborted");var b=void 0;e?b=new r.PDFDataTransportStream({length:d.length,initialData:d.initialData,disableRange:d.disableRange,disableStream:d.disableStream},e):d.data||(b=f({url:d.url,length:d.length,httpHeaders:d.httpHeaders,withCredentials:d.withCredentials,rangeChunkSize:d.rangeChunkSize,disableRange:d.disableRange,disableStream:d.disableStream}));var h=new p.MessageHandler(u,a,g.port);h.postMessageTransfers=g.postMessageTransfers;var i=new F(h,c,b,d,k);c._transport=i,h.send("Ready",null)})}).catch(c._capability.reject),c},b.LoopbackPort=D,b.PDFDataRangeTransport=A,b.PDFWorker=E,b.PDFDocumentProxy=B,b.PDFPageProxy=C,b.setPDFNetworkStreamFactory=function(a){f=a},b.version="2.0.550",b.build="76337fdc"},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DummyStatTimer=b.StatTimer=b.DOMSVGFactory=b.DOMCMapReaderFactory=b.DOMCanvasFactory=b.DEFAULT_LINK_REL=b.LinkTarget=b.getFilenameFromUrl=b.addLinkAttributes=b.RenderingCancelledException=b.PageViewport=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(1);function f(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var g="noopener noreferrer nofollow",h="http://www.w3.org/2000/svg",i=function(){function a(){f(this,a)}return d(a,[{key:"create",value:function(a,b){if(a<=0||b<=0)throw Error("invalid canvas size");var c=document.createElement("canvas"),d=c.getContext("2d");return c.width=a,c.height=b,{canvas:c,context:d}}},{key:"reset",value:function(a,b,c){if(!a.canvas)throw Error("canvas is not specified");if(b<=0||c<=0)throw Error("invalid canvas size");a.canvas.width=b,a.canvas.height=c}},{key:"destroy",value:function(a){if(!a.canvas)throw Error("canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}}]),a}(),j=function(){function a(b){var c=b.baseUrl,d=b.isCompressed;f(this,a),this.baseUrl=void 0===c?null:c,this.isCompressed=void 0!==d&&d}return d(a,[{key:"fetch",value:function(a){var b=this,c=a.name;return this.baseUrl?c?new Promise(function(a,d){var f=b.baseUrl+c+(b.isCompressed?".bcmap":""),g=new XMLHttpRequest;g.open("GET",f,!0),b.isCompressed&&(g.responseType="arraybuffer"),g.onreadystatechange=function(){if(g.readyState===XMLHttpRequest.DONE){if(200===g.status||0===g.status){var c=void 0;if(b.isCompressed&&g.response?c=new Uint8Array(g.response):!b.isCompressed&&g.responseText&&(c=(0,e.stringToBytes)(g.responseText)),c)return void a({cMapData:c,compressionType:b.isCompressed?e.CMapCompressionType.BINARY:e.CMapCompressionType.NONE})}d(Error("Unable to load "+(b.isCompressed?"binary ":"")+"CMap at: "+f))}},g.send(null)}):Promise.reject(Error("CMap name must be specified.")):Promise.reject(Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.'))}}]),a}(),k=function(){function a(){f(this,a)}return d(a,[{key:"create",value:function(a,b){(0,e.assert)(a>0&&b>0,"Invalid SVG dimensions");var c=document.createElementNS(h,"svg:svg");return c.setAttribute("version","1.1"),c.setAttribute("width",a+"px"),c.setAttribute("height",b+"px"),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox","0 0 "+a+" "+b),c}},{key:"createElement",value:function(a){return(0,e.assert)("string"==typeof a,"Invalid SVG element type"),document.createElementNS(h,a)}}]),a}(),l=function(){function a(b){var c=b.viewBox,d=b.scale,e=b.rotation,g=b.offsetX,h=void 0===g?0:g,i=b.offsetY,j=void 0===i?0:i,k=b.dontFlip;f(this,a),this.viewBox=c,this.scale=d,this.rotation=e,this.offsetX=h,this.offsetY=j;var l=(c[2]+c[0])/2,m=(c[3]+c[1])/2,n=void 0,o=void 0,p=void 0,q=void 0;switch(e%=360,e=e<0?e+360:e){case 180:n=-1,o=0,p=0,q=1;break;case 90:n=0,o=1,p=1,q=0;break;case 270:n=0,o=-1,p=-1,q=0;break;default:n=1,o=0,p=0,q=-1}void 0!==k&&k&&(p=-p,q=-q);var r=void 0,s=void 0,t=void 0,u=void 0;0===n?(r=Math.abs(m-c[1])*d+h,s=Math.abs(l-c[0])*d+j,t=Math.abs(c[3]-c[1])*d,u=Math.abs(c[2]-c[0])*d):(r=Math.abs(l-c[0])*d+h,s=Math.abs(m-c[1])*d+j,t=Math.abs(c[2]-c[0])*d,u=Math.abs(c[3]-c[1])*d),this.transform=[n*d,o*d,p*d,q*d,r-n*d*l-p*d*m,s-o*d*l-q*d*m],this.width=t,this.height=u}return d(a,[{key:"clone",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.scale,d=void 0===c?this.scale:c,e=b.rotation,f=void 0===e?this.rotation:e,g=b.dontFlip;return new a({viewBox:this.viewBox.slice(),scale:d,rotation:f,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:void 0!==g&&g})}},{key:"convertToViewportPoint",value:function(a,b){return e.Util.applyTransform([a,b],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var b=e.Util.applyTransform([a[0],a[1]],this.transform),c=e.Util.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],c[0],c[1]]}},{key:"convertToPdfPoint",value:function(a,b){return e.Util.applyInverseTransform([a,b],this.transform)}}]),a}(),m=function(){function a(a,b){this.message=a,this.type=b}return a.prototype=Error(),a.prototype.name="RenderingCancelledException",a.constructor=a,a}(),n={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},o=["","_self","_blank","_parent","_top"],p=function(){function a(){var b=!(arguments.length>0)||void 0===arguments[0]||arguments[0];f(this,a),this.enabled=!!b,this.started=Object.create(null),this.times=[]}return d(a,[{key:"time",value:function(a){this.enabled&&(a in this.started&&(0,e.warn)("Timer is already running for "+a),this.started[a]=Date.now())}},{key:"timeEnd",value:function(a){this.enabled&&(a in this.started||(0,e.warn)("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])}},{key:"toString",value:function(){for(var a=this.times,b="",c=0,d=0,e=a.length;d<e;++d){var f=a[d].name;f.length>c&&(c=f.length)}for(var g=0,h=a.length;g<h;++g){var i=a[g],j=i.end-i.start;b+=i.name.padEnd(c)+" "+j+"ms\n"}return b}}]),a}(),q=function(){function a(){f(this,a),(0,e.unreachable)("Cannot initialize DummyStatTimer.")}return d(a,null,[{key:"time",value:function(a){}},{key:"timeEnd",value:function(a){}},{key:"toString",value:function(){return""}}]),a}();b.PageViewport=l,b.RenderingCancelledException=m,b.addLinkAttributes=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.url,d=b.target,f=b.rel;a.href=a.title=c?(0,e.removeNullCharacters)(c):"",c&&(a.target=o[Object.values(n).includes(d)?d:n.NONE],a.rel="string"==typeof f?f:g)},b.getFilenameFromUrl=function(a){var b=a.indexOf("#"),c=a.indexOf("?"),d=Math.min(b>0?b:a.length,c>0?c:a.length);return a.substring(a.lastIndexOf("/",d)+1,d)},b.LinkTarget=n,b.DEFAULT_LINK_REL=g,b.DOMCanvasFactory=i,b.DOMCMapReaderFactory=j,b.DOMSVGFactory=k,b.StatTimer=p,b.DummyStatTimer=q},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FontLoader=b.FontFaceObject=void 0;var d=c(1);function e(a){this.docId=a,this.styleElement=null,this.nativeFontFaces=[],this.loadTestFontId=0,this.loadingContext={requests:[],nextRequestId:0}}e.prototype={insertRule:function(a){var b=this.styleElement;b||((b=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(b));var c=b.sheet;c.insertRule(a,c.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null),this.nativeFontFaces.forEach(function(a){document.fonts.delete(a)}),this.nativeFontFaces.length=0}},Object.defineProperty(e.prototype,"loadTestFont",{get:function(){return(0,d.shadow)(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},configurable:!0}),e.prototype.addNativeFontFace=function(a){this.nativeFontFaces.push(a),document.fonts.add(a)},e.prototype.bind=function(a,b){for(var c=[],f=[],g=[],h=function(a){return a.loaded.catch(function(b){(0,d.warn)('Failed to load font "'+a.family+'": '+b)})},i=e.isFontLoadingAPISupported&&!e.isSyncFontLoadingSupported,j=0,k=a.length;j<k;j++){var l=a[j];if(!l.attached&&!1!==l.loading)if(l.attached=!0,i){var m=l.createNativeFontFace();m&&(this.addNativeFontFace(m),g.push(h(m)))}else{var n=l.createFontFaceRule();n&&(this.insertRule(n),c.push(n),f.push(l))}}var o=this.queueLoadingCallback(b);i?Promise.all(g).then(function(){o.complete()}):c.length>0&&!e.isSyncFontLoadingSupported?this.prepareFontLoadEvent(c,f,o):o.complete()},e.prototype.queueLoadingCallback=function(a){var b=this.loadingContext,c={id:"pdfjs-font-loading-"+b.nextRequestId++,complete:function(){for((0,d.assert)(!c.end,"completeRequest() cannot be called twice"),c.end=Date.now();b.requests.length>0&&b.requests[0].end;)setTimeout(b.requests.shift().callback,0)},callback:a,started:Date.now()};return b.requests.push(c),c},e.prototype.prepareFontLoadEvent=function(a,b,c){function e(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|255&a.charCodeAt(b+3)}function f(a,b,c,d){return a.substr(0,b)+d+a.substr(b+c)}var g,h,i=document.createElement("canvas");i.width=1,i.height=1;var j=i.getContext("2d"),k=0,l="lt"+Date.now()+this.loadTestFontId++,m=this.loadTestFont,n=e(m=f(m,976,l.length,l),16);for(g=0,h=l.length-3;g<h;g+=4)n=n-0x58585858+e(l,g)|0;g<l.length&&(n=n-0x58585858+e(l+"XXX",g)|0);var o='@font-face { font-family:"'+l+'";src:'+("url(data:font/opentype;base64,"+btoa(m=f(m,16,4,(0,d.string32)(n))))+");}";this.insertRule(o);var p=[];for(g=0,h=b.length;g<h;g++)p.push(b[g].loadedName);p.push(l);var q=document.createElement("div");for(q.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),g=0,h=p.length;g<h;++g){var r=document.createElement("span");r.textContent="Hi",r.style.fontFamily=p[g],q.appendChild(r)}document.body.appendChild(q),function a(b,c){if(++k>30){(0,d.warn)("Load test font never loaded."),c();return}if(j.font="30px "+b,j.fillText(".",0,20),j.getImageData(0,0,1,1).data[3]>0)return void c();setTimeout(a.bind(null,b,c))}(l,function(){document.body.removeChild(q),c.complete()})},e.isFontLoadingAPISupported="undefined"!=typeof document&&!!document.fonts;var f=function(){if("undefined"==typeof navigator)return!0;var a=!1,b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);return b&&b[1]>=14&&(a=!0),a};Object.defineProperty(e,"isSyncFontLoadingSupported",{get:function(){return(0,d.shadow)(e,"isSyncFontLoadingSupported",f())},enumerable:!0,configurable:!0});var g={get value(){return(0,d.shadow)(this,"value",(0,d.isEvalSupported)())}};b.FontFaceObject=function(){function a(a,b){var c=b.isEvalSupported,d=b.disableFontFace,e=b.fontRegistry;for(var f in this.compiledGlyphs=Object.create(null),a)this[f]=a[f];this.isEvalSupported=!1!==(void 0===c||c),this.disableFontFace=!0===(void 0!==d&&d),this.fontRegistry=void 0===e?null:e}return a.prototype={createNativeFontFace:function(){if(!this.data||this.disableFontFace)return null;var a=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),a},createFontFaceRule:function(){if(!this.data||this.disableFontFace)return null;var a=(0,d.bytesToString)(new Uint8Array(this.data)),b=this.loadedName,c="url(data:"+this.mimetype+";base64,"+btoa(a)+");",e='@font-face { font-family:"'+b+'";src:'+c+"}";return this.fontRegistry&&this.fontRegistry.registerFont(this,c),e},getPathGenerator:function(a,b){if(!(b in this.compiledGlyphs)){var c=a.get(this.loadedName+"_path_"+b);if(this.isEvalSupported&&g.value){var d,e,f,h,i="";for(e=0,f=c.length;e<f;e++)h=void 0!==(d=c[e]).args?d.args.join(","):"",i+="c."+d.cmd+"("+h+");\n";this.compiledGlyphs[b]=Function("c","size",i)}else this.compiledGlyphs[b]=function(a,b){for(e=0,f=c.length;e<f;e++)"scale"===(d=c[e]).cmd&&(d.args=[b,-b]),a[d.cmd].apply(a,d.args)}}return this.compiledGlyphs[b]}},a}(),b.FontLoader=e},function(a,b,c){"use strict";var d=Object.create(null),e=c(4),f="undefined"!=typeof navigator&&navigator.userAgent||"",g=/Trident/.test(f),h=/\b(iPad|iPhone|iPod)(?=;)/.test(f),i=/CriOS/.test(f),j=/Safari\//.test(f)&&!/(Chrome\/|Android\s)/.test(f);(g||i)&&(d.disableCreateObjectURL=!0),(j||h)&&(d.disableRange=!0,d.disableStream=!0),e()&&(d.disableFontFace=!0,d.nativeImageDecoderSupport="none"),b.apiCompatibilityParams=Object.freeze(d)},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CanvasGraphics=void 0;var d=c(1),e=c(119),f={get value(){return(0,d.shadow)(f,"value",(0,d.isLittleEndian)())}};function g(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=b*e-c*d,i=c*d-b*e;return[e/h,c/i,d/i,b/h,(e*f-d*g)/i,(c*f-b*g)/h]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4],c[5]=c[1]*a+c[3]*b+c[5],this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]=c[0]*a,c[1]=c[1]*a,c[2]=c[2]*b,c[3]=c[3]*b,this._originalScale(a,b)},a.transform=function(b,c,d,e,f,g){var h=this._transformMatrix;this._transformMatrix=[h[0]*b+h[2]*c,h[1]*b+h[3]*c,h[0]*d+h[2]*e,h[1]*d+h[3]*e,h[0]*f+h[2]*g+h[4],h[1]*f+h[3]*g+h[5]],a._originalTransform(b,c,d,e,f,g)},a.setTransform=function(b,c,d,e,f,g){this._transformMatrix=[b,c,d,e,f,g],a._originalSetTransform(b,c,d,e,f,g)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,-(d[0]*c)+d[2]*b,-(d[1]*c)+d[3]*b,d[4],d[5]],this._originalRotate(a)})}var h=function(){function a(a){this.canvasFactory=a,this.cache=Object.create(null)}return a.prototype={getCanvas:function(a,b,c,d){var e;return void 0!==this.cache[a]?(e=this.cache[a],this.canvasFactory.reset(e,b,c),e.context.setTransform(1,0,0,1,0,0)):(e=this.canvasFactory.create(b,c),this.cache[a]=e),d&&g(e.context),e},clear:function(){for(var a in this.cache){var b=this.cache[a];this.canvasFactory.destroy(b),delete this.cache[a]}}},a}(),i=function(){function a(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=d.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a,this.y=b}},a}();b.CanvasGraphics=function(){function a(a,b,c,d,e,f){this.ctx=a,this.current=new i,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=c,this.canvasFactory=d,this.webGLContext=e,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new h(this.canvasFactory),a&&g(a),this.cachedGetSinglePixelWidth=null}function b(a,b){if("undefined"!=typeof ImageData&&b instanceof ImageData)return void a.putImageData(b,0,0);var c,e,g,h,i,j=b.height,k=b.width,l=j%16,m=(j-l)/16,n=0===l?m:m+1,o=a.createImageData(k,16),p=0,q=b.data,r=o.data;if(b.kind===d.ImageKind.GRAYSCALE_1BPP){var s=q.byteLength,t=new Uint32Array(r.buffer,0,r.byteLength>>2),u=t.length,v=k+7>>3,w=f.value?0xff000000:255;for(c=0;c<n;c++){for(e=0,g=c<m?16:l,i=0;e<g;e++){for(var x=s-p,y=0,z=x>v?k:8*x-7,A=-8&z,B=0,C=0;y<A;y+=8)C=q[p++],t[i++]=128&C?0xffffffff:w,t[i++]=64&C?0xffffffff:w,t[i++]=32&C?0xffffffff:w,t[i++]=16&C?0xffffffff:w,t[i++]=8&C?0xffffffff:w,t[i++]=4&C?0xffffffff:w,t[i++]=2&C?0xffffffff:w,t[i++]=1&C?0xffffffff:w;for(;y<z;y++)0===B&&(C=q[p++],B=128),t[i++]=C&B?0xffffffff:w,B>>=1}for(;i<u;)t[i++]=0;a.putImageData(o,0,16*c)}}else if(b.kind===d.ImageKind.RGBA_32BPP){for(c=0,e=0,h=16*k*4;c<m;c++)r.set(q.subarray(p,p+h)),p+=h,a.putImageData(o,0,e),e+=16;c<n&&(h=k*l*4,r.set(q.subarray(p,p+h)),a.putImageData(o,0,e))}else if(b.kind===d.ImageKind.RGB_24BPP)for(c=0,h=k*(g=16);c<n;c++){for(c>=m&&(h=k*(g=l)),i=0,e=h;e--;)r[i++]=q[p++],r[i++]=q[p++],r[i++]=q[p++],r[i++]=255;a.putImageData(o,0,16*c)}else throw Error("bad image kind: "+b.kind)}function c(a,b){for(var c=b.height,d=b.width,e=c%16,f=(c-e)/16,g=0===e?f:f+1,h=a.createImageData(d,16),i=0,j=b.data,k=h.data,l=0;l<g;l++){for(var m=l<f?16:e,n=3,o=0;o<m;o++)for(var p=0,q=0;q<d;q++){if(!p){var r=j[i++];p=128}k[n]=r&p?0:255,n+=4,p>>=1}a.putImageData(h,0,16*l)}}function j(a,b){for(var c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],d=0,e=c.length;d<e;d++){var f=c[d];void 0!==a[f]&&(b[f]=a[f])}void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function k(a){a.strokeStyle="#000000",a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function l(a,b,c){for(var d=a.length,e=1/255,f=3;f<d;f+=4){var g=c?c[a[f]]:a[f];b[f]=b[f]*g*e|0}}function m(a,b,c){for(var d=a.length,e=3;e<d;e+=4){var f=77*a[e-3]+152*a[e-2]+28*a[e-1];b[e]=c?b[e]*c[f>>8]>>8:b[e]*f>>16}}function n(a,b,c,d){var e=b.canvas,f=b.context;a.setTransform(b.scaleX,0,0,b.scaleY,b.offsetX,b.offsetY);var g=b.backdrop||null;if(!b.transferMap&&d.isEnabled){var h=d.composeSMask({layer:c.canvas,mask:e,properties:{subtype:b.subtype,backdrop:g}});a.setTransform(1,0,0,1,0,0),a.drawImage(h,b.offsetX,b.offsetY);return}!function(a,b,c,d,e,f,g){var h,i=!!f,j=i?f[0]:0,k=i?f[1]:0,n=i?f[2]:0;h="Luminosity"===e?m:l;for(var o=Math.min(d,Math.ceil(1048576/c)),p=0;p<d;p+=o){var q=Math.min(o,d-p),r=a.getImageData(0,p,c,q),s=b.getImageData(0,p,c,q);i&&function(a,b,c,d){for(var e=a.length,f=3;f<e;f+=4){var g=a[f];if(0===g)a[f-3]=b,a[f-2]=c,a[f-1]=d;else if(g<255){var h=255-g;a[f-3]=a[f-3]*g+b*h>>8,a[f-2]=a[f-2]*g+c*h>>8,a[f-1]=a[f-1]*g+d*h>>8}}}(r.data,j,k,n),h(r.data,s.data,g),a.putImageData(s,0,p)}}(f,c,e.width,e.height,b.subtype,g,b.transferMap),a.drawImage(e,0,0)}var o=["butt","round","square"],p=["miter","round","bevel"],q={},r={};for(var s in a.prototype={beginDrawing:function(a){var b=a.transform,c=a.viewport,d=a.transparency,e=a.background,f=this.ctx.canvas.width,g=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=(void 0===e?null:e)||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,f,g),this.ctx.restore(),d){var h=this.cachedCanvases.getCanvas("transparent",f,g,!0);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),k(this.ctx),b&&this.ctx.transform.apply(this.ctx,b),this.ctx.transform.apply(this.ctx,c.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,b,c,e){var f,g=a.argsArray,h=a.fnArray,i=b||0,j=g.length;if(j===i)return i;for(var k=j-i>10&&"function"==typeof c,l=k?Date.now()+15:0,m=0,n=this.commonObjs,o=this.objs;;){if(void 0!==e&&i===e.nextBreakPoint)return e.breakIt(i,c),i;if((f=h[i])!==d.OPS.dependency)this[f].apply(this,g[i]);else for(var p=g[i],q=0,r=p.length;q<r;q++){var s=p[q],t="g"===s[0]&&"_"===s[1]?n:o;if(!t.isResolved(s))return t.get(s,c),i}if(++i===j)return i;if(k&&++m>10){if(Date.now()>l)return c(),i;m=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a,this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=o[a]},setLineJoin:function(a){this.ctx.lineJoin=p[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=this.ctx;void 0!==c.setLineDash&&(c.setLineDash(a),c.lineDashOffset=b)},setRenderingIntent:function(a){},setFlatness:function(a){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[0],f=d[1];switch(e){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=d[1];break;case"ca":this.current.fillAlpha=d[1],this.ctx.globalAlpha=d[1];break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=f?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=a.canvas.width,c=a.canvas.height,d="smaskGroupAt"+this.groupLevel,e=this.cachedCanvases.getCanvas(d,b,c,!0),f=this.ctx,g=f.mozCurrentTransform;this.ctx.save();var h=e.context;h.scale(1/a.scaleX,1/a.scaleY),h.translate(-a.offsetX,-a.offsetY),h.transform.apply(h,g),a.startTransformInverse=h.mozCurrentTransformInverse,j(f,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(f),this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),n(this.ctx,this.current.activeSMask,a,this.webGLContext),this.ctx.restore(),this.ctx.save(),j(a,this.ctx),this.current.resumeSMaskCtx=a;var b=d.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,b),a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.restore()},resumeSMaskGroup:function(){var a=this.current.resumeSMaskCtx,b=this.ctx;this.ctx=a,this.groupStack.push(b),this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),n(this.ctx,this.current.activeSMask,a,this.webGLContext),this.ctx.restore(),j(a,this.ctx);var b=d.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,b)},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a),this.current=a.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this.cachedGetSinglePixelWidth=null)},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this.cachedGetSinglePixelWidth=null},constructPath:function(a,b){for(var c=this.ctx,e=this.current,f=e.x,g=e.y,h=0,i=0,j=a.length;h<j;h++)switch(0|a[h]){case d.OPS.rectangle:f=b[i++],g=b[i++];var k=b[i++],l=b[i++];0===k&&(k=this.getSinglePixelWidth()),0===l&&(l=this.getSinglePixelWidth());var m=f+k,n=g+l;this.ctx.moveTo(f,g),this.ctx.lineTo(m,g),this.ctx.lineTo(m,n),this.ctx.lineTo(f,n),this.ctx.lineTo(f,g),this.ctx.closePath();break;case d.OPS.moveTo:f=b[i++],g=b[i++],c.moveTo(f,g);break;case d.OPS.lineTo:f=b[i++],g=b[i++],c.lineTo(f,g);break;case d.OPS.curveTo:f=b[i+4],g=b[i+5],c.bezierCurveTo(b[i],b[i+1],b[i+2],b[i+3],f,g),i+=6;break;case d.OPS.curveTo2:c.bezierCurveTo(f,g,b[i],b[i+1],b[i+2],b[i+3]),f=b[i+2],g=b[i+3],i+=4;break;case d.OPS.curveTo3:f=b[i+2],g=b[i+3],c.bezierCurveTo(b[i],b[i+1],f,g,f,g),i+=4;break;case d.OPS.closePath:c.closePath()}e.setCurrentPoint(f,g)},closePath:function(){this.ctx.closePath()},stroke:function(a){a=void 0===a||a;var b=this.ctx,c=this.current.strokeColor;b.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),b.globalAlpha=this.current.strokeAlpha,c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke(),a&&this.consumePath(),b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(a){a=void 0===a||a;var b=this.ctx,c=this.current.fillColor,d=this.current.patternFill,e=!1;d&&(b.save(),this.baseTransform&&b.setTransform.apply(b,this.baseTransform),b.fillStyle=c.getPattern(b,this),e=!0),this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill(),e&&b.restore(),a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=q},eoClip:function(){this.pendingClip=r},beginText:function(){this.current.textMatrix=d.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a)return void b.beginPath();b.save(),b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform),b.translate(d.x,d.y),d.addToPath(b,d.fontSize)}b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),e=this.current;if(!c)throw Error("Can't find font for "+a);if(e.fontMatrix=c.fontMatrix?c.fontMatrix:d.FONT_IDENTITY_MATRIX,(0===e.fontMatrix[0]||0===e.fontMatrix[3])&&(0,d.warn)("Invalid font matrix for font "+a),b<0?(b=-b,e.fontDirection=-1):e.fontDirection=1,this.current.font=c,this.current.fontSize=b,!c.isType3Font){var f=c.loadedName||"sans-serif",g=c.black?"900":c.bold?"bold":"normal",h=c.italic?"italic":"normal",i='"'+f+'", '+c.fallbackName,j=b<16?16:b>100?100:b;this.current.fontSizeScale=b/j;var k=h+" "+g+" "+j+"px "+i;this.ctx.font=k}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b),this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.sqrt(a*a+b*b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,c,e){var f,g=this.ctx,h=this.current,i=h.font,j=h.textRenderingMode,k=h.fontSize/h.fontSizeScale,l=j&d.TextRenderingMode.FILL_STROKE_MASK,m=!!(j&d.TextRenderingMode.ADD_TO_PATH_FLAG),n=h.patternFill&&i.data;(i.disableFontFace||m||n)&&(f=i.getPathGenerator(this.commonObjs,a)),i.disableFontFace||n?(g.save(),g.translate(b,c),g.beginPath(),f(g,k),e&&g.setTransform.apply(g,e),(l===d.TextRenderingMode.FILL||l===d.TextRenderingMode.FILL_STROKE)&&g.fill(),(l===d.TextRenderingMode.STROKE||l===d.TextRenderingMode.FILL_STROKE)&&g.stroke(),g.restore()):((l===d.TextRenderingMode.FILL||l===d.TextRenderingMode.FILL_STROKE)&&g.fillText(a,b,c),(l===d.TextRenderingMode.STROKE||l===d.TextRenderingMode.FILL_STROKE)&&g.strokeText(a,b,c)),m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:g.mozCurrentTransform,x:b,y:c,fontSize:k,addToPath:f})},get isFontSubpixelAAEnabled(){var t=this.canvasFactory.create(10,10).context;t.scale(1.5,1),t.fillText("I",0,10);for(var u=t.getImageData(0,0,10,10).data,v=!1,w=3;w<u.length;w+=4)if(u[w]>0&&u[w]<255){v=!0;break}return(0,d.shadow)(this,"isFontSubpixelAAEnabled",v)},showText:function(a){var b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);var e=b.fontSize;if(0!==e){var f=this.ctx,g=b.fontSizeScale,h=b.charSpacing,i=b.wordSpacing,j=b.fontDirection,k=b.textHScale*j,l=a.length,m=c.vertical,n=m?1:-1,o=c.defaultVMetrics,p=e*b.fontMatrix[0],q=b.textRenderingMode===d.TextRenderingMode.FILL&&!c.disableFontFace&&!b.patternFill;f.save();var r=void 0;if(b.patternFill){f.save();var s=b.fillColor.getPattern(f,this);r=f.mozCurrentTransform,f.restore(),f.fillStyle=s}f.transform.apply(f,b.textMatrix),f.translate(b.x,b.y+b.textRise),j>0?f.scale(k,-1):f.scale(k,1);var t=b.lineWidth,u=b.textMatrixScale;if(0===u||0===t){var v=b.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;(v===d.TextRenderingMode.STROKE||v===d.TextRenderingMode.FILL_STROKE)&&(this.cachedGetSinglePixelWidth=null,t=.65*this.getSinglePixelWidth())}else t/=u;1!==g&&(f.scale(g,g),t/=g),f.lineWidth=t;var w,x=0;for(w=0;w<l;++w){var y,z,A,B,C,D,E,F=a[w];if((0,d.isNum)(F)){x+=n*F*e/1e3;continue}var G=!1,H=(F.isSpace?i:0)+h,I=F.fontChar,J=F.accent,K=F.width;if(m?(C=F.vmetric||o,D=-(D=F.vmetric?C[1]:.5*K)*p,E=C[2]*p,K=C?-C[0]:K,y=D/g,z=(x+E)/g):(y=x/g,z=0),c.remeasure&&K>0){var L=1e3*f.measureText(I).width/e*g;if(K<L&&this.isFontSubpixelAAEnabled){var M=K/L;G=!0,f.save(),f.scale(M,1),y/=M}else K!==L&&(y+=(K-L)/2e3*e/g)}(F.isInFont||c.missingFile)&&(q&&!J?f.fillText(I,y,z):(this.paintChar(I,y,z,r),J&&(A=y+J.offset.x/g,B=z-J.offset.y/g,this.paintChar(J.fontChar,A,B,r)))),x+=K*p+H*j,G&&f.restore()}m?b.y-=x*k:b.x+=x*k,f.restore()}},showType3Text:function(a){var b,c,e,f,g=this.ctx,h=this.current,i=h.font,j=h.fontSize,k=h.fontDirection,l=i.vertical?1:-1,m=h.charSpacing,n=h.wordSpacing,o=h.textHScale*k,p=h.fontMatrix||d.FONT_IDENTITY_MATRIX,q=a.length;if(h.textRenderingMode!==d.TextRenderingMode.INVISIBLE&&0!==j){for(this.cachedGetSinglePixelWidth=null,g.save(),g.transform.apply(g,h.textMatrix),g.translate(h.x,h.y),g.scale(o,k),b=0;b<q;++b){if(c=a[b],(0,d.isNum)(c)){f=l*c*j/1e3,this.ctx.translate(f,0),h.x+=f*o;continue}var r=(c.isSpace?n:0)+m,s=i.charProcOperatorList[c.operatorListId];if(!s){(0,d.warn)('Type3 character "'+c.operatorListId+'" is not available.');continue}this.processingType3=c,this.save(),g.scale(j,j),g.transform.apply(g,p),this.executeOperatorList(s),this.restore(),e=d.Util.applyTransform([c.width,0],p)[0]*j+r,g.translate(e,0),h.x+=e*o}g.restore(),this.processingType3=null}},setCharWidth:function(a,b){},setCharWidthAndBounds:function(a,b,c,d,e,f){this.ctx.rect(c,d,e-c,f-d),this.clip(),this.endPath()},getColorN_Pattern:function(b){var c,d=this;if("TilingPattern"===b[0]){var f=b[1],g=this.baseTransform||this.ctx.mozCurrentTransform.slice();c=new e.TilingPattern(b,f,this.ctx,{createCanvasGraphics:function(b){return new a(b,d.commonObjs,d.objs,d.canvasFactory,d.webGLContext)}},g)}else c=(0,e.getShadingPatternFromIR)(b);return c},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.ctx.strokeStyle=e,this.current.strokeColor=e},setFillRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.ctx.fillStyle=e,this.current.fillColor=e,this.current.patternFill=!1},shadingFill:function(a){var b=this.ctx;this.save(),b.fillStyle=(0,e.getShadingPatternFromIR)(a).getPattern(b,this,!0);var c=b.mozCurrentTransformInverse;if(c){var f=b.canvas,g=f.width,h=f.height,i=d.Util.applyTransform([0,0],c),j=d.Util.applyTransform([0,h],c),k=d.Util.applyTransform([g,0],c),l=d.Util.applyTransform([g,h],c),m=Math.min(i[0],j[0],k[0],l[0]),n=Math.min(i[1],j[1],k[1],l[1]),o=Math.max(i[0],j[0],k[0],l[0]),p=Math.max(i[1],j[1],k[1],l[1]);this.ctx.fillRect(m,n,o-m,p-n)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,d.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,d.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,Array.isArray(b)&&4===b.length){var c=b[2]-b[0],d=b[3]-b[1];this.ctx.rect(b[0],b[1],c,d),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||(0,d.info)("TODO: Support non-isolated groups."),a.knockout&&(0,d.warn)("Knockout groups not supported.");var c=b.mozCurrentTransform;if(a.matrix&&b.transform.apply(b,a.matrix),!a.bbox)throw Error("Bounding box is required.");var e=d.Util.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),f=[0,0,b.canvas.width,b.canvas.height],g=Math.floor((e=d.Util.intersect(e,f)||[0,0,0,0])[0]),h=Math.floor(e[1]),i=Math.max(Math.ceil(e[2])-g,1),k=Math.max(Math.ceil(e[3])-h,1),l=1,m=1;i>4096&&(l=i/4096,i=4096),k>4096&&(m=k/4096,k=4096);var n="groupAt"+this.groupLevel;a.smask&&(n+="_smask_"+this.smaskCounter++%2);var o=this.cachedCanvases.getCanvas(n,i,k,!0),p=o.context;p.scale(1/l,1/m),p.translate(-g,-h),p.transform.apply(p,c),a.smask?this.smaskStack.push({canvas:o.canvas,context:p,offsetX:g,offsetY:h,scaleX:l,scaleY:m,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(g,h),b.scale(l,m)),j(b,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++,this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){if(this.save(),k(this.ctx),this.current=new i,Array.isArray(a)&&4===a.length){var d=a[2]-a[0],e=a[3]-a[1];this.ctx.rect(a[0],a[1],d,e),this.clip(),this.endPath()}this.transform.apply(this,b),this.transform.apply(this,c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var e=this.objs.get(a);if(!e)return void(0,d.warn)("Dependent image isn't ready yet");this.save();var f=this.ctx;if(f.scale(1/b,-1/c),f.drawImage(e,0,0,e.width,e.height,0,-c,b,c),this.imageLayer){var g=f.mozCurrentTransformInverse,h=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:a,left:h[0],top:h[1],width:b/g[0],height:c/g[3]})}this.restore()},paintImageMaskXObject:function(a){var b=this.ctx,d=a.width,e=a.height,f=this.current.fillColor,g=this.current.patternFill,h=this.processingType3;if(h&&void 0===h.compiled&&(d<=1e3&&e<=1e3?h.compiled=function(a){var b,c,d,e,f=a.width,g=a.height,h=f+1,i=new Uint8Array(h*(g+1)),j=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),k=f+7&-8,l=a.data,m=new Uint8Array(k*g),n=0;for(b=0,e=l.length;b<e;b++)for(var o=128,p=l[b];o>0;)m[n++]=p&o?0:255,o>>=1;var q=0;for(0!==m[n=0]&&(i[0]=1,++q),c=1;c<f;c++)m[n]!==m[n+1]&&(i[c]=m[n]?2:1,++q),n++;for(0!==m[n]&&(i[c]=2,++q),b=1;b<g;b++){n=b*k,d=b*h,m[n-k]!==m[n]&&(i[d]=m[n]?1:8,++q);var r=4*!!m[n]+8*!!m[n-k];for(c=1;c<f;c++)j[r=(r>>2)+4*!!m[n+1]+8*!!m[n-k+1]]&&(i[d+c]=j[r],++q),n++;if(m[n-k]!==m[n]&&(i[d+c]=m[n]?2:4,++q),q>1e3)return null}for(n=k*(g-1),d=b*h,0!==m[n]&&(i[d]=8,++q),c=1;c<f;c++)m[n]!==m[n+1]&&(i[d+c]=m[n]?4:8,++q),n++;if(0!==m[n]&&(i[d+c]=4,++q),q>1e3)return null;var s=new Int32Array([0,h,-1,0,-h,0,0,0,1]),t=[];for(b=0;q&&b<=g;b++){for(var u=b*h,v=u+f;u<v&&!i[u];)u++;if(u!==v){var w,x=[u%h,b],y=i[u],z=u;do{var A=s[y];do u+=A;while(!i[u]);5!==(w=i[u])&&10!==w?(y=w,i[u]=0):(y=w&51*y>>4,i[u]&=y>>2|y<<2),x.push(u%h),x.push(u/h|0),--q}while(z!==u);t.push(x),--b}}return function(a){a.save(),a.scale(1/f,-1/g),a.translate(0,-g),a.beginPath();for(var b=0,c=t.length;b<c;b++){var d=t[b];a.moveTo(d[0],d[1]);for(var e=2,h=d.length;e<h;e+=2)a.lineTo(d[e],d[e+1])}a.fill(),a.beginPath(),a.restore()}}({data:a.data,width:d,height:e}):h.compiled=null),h&&h.compiled)return void h.compiled(b);var i=this.cachedCanvases.getCanvas("maskCanvas",d,e),j=i.context;j.save(),c(j,a),j.globalCompositeOperation="source-in",j.fillStyle=g?f.getPattern(j,this):f,j.fillRect(0,0,d,e),j.restore(),this.paintInlineImageXObject(i.canvas)},paintImageMaskXObjectRepeat:function(a,b,d,e){var f=a.width,g=a.height,h=this.current.fillColor,i=this.current.patternFill,j=this.cachedCanvases.getCanvas("maskCanvas",f,g),k=j.context;k.save(),c(k,a),k.globalCompositeOperation="source-in",k.fillStyle=i?h.getPattern(k,this):h,k.fillRect(0,0,f,g),k.restore();for(var l=this.ctx,m=0,n=e.length;m<n;m+=2)l.save(),l.transform(b,0,0,d,e[m],e[m+1]),l.scale(1,-1),l.drawImage(j.canvas,0,0,f,g,0,-1,1,1),l.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,d=this.current.fillColor,e=this.current.patternFill,f=0,g=a.length;f<g;f++){var h=a[f],i=h.width,j=h.height,k=this.cachedCanvases.getCanvas("maskCanvas",i,j),l=k.context;l.save(),c(l,h),l.globalCompositeOperation="source-in",l.fillStyle=e?d.getPattern(l,this):d,l.fillRect(0,0,i,j),l.restore(),b.save(),b.transform.apply(b,h.transform),b.scale(1,-1),b.drawImage(k.canvas,0,0,i,j,0,-1,1,1),b.restore()}},paintImageXObject:function(a){var b=this.objs.get(a);if(!b)return void(0,d.warn)("Dependent image isn't ready yet");this.paintInlineImageXObject(b)},paintImageXObjectRepeat:function(a,b,c,e){var f=this.objs.get(a);if(!f)return void(0,d.warn)("Dependent image isn't ready yet");for(var g=f.width,h=f.height,i=[],j=0,k=e.length;j<k;j+=2)i.push({transform:[b,0,0,c,e[j],e[j+1]],x:0,y:0,w:g,h:h});this.paintInlineImageXObjectGroup(f,i)},paintInlineImageXObject:function(a){var c,d,e=a.width,f=a.height,g=this.ctx;this.save(),g.scale(1/e,-1/f);var h=g.mozCurrentTransformInverse,i=h[0],j=h[1],k=Math.max(Math.sqrt(i*i+j*j),1),l=h[2],m=h[3],n=Math.max(Math.sqrt(l*l+m*m),1);if("function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)c=a;else{var o=(d=this.cachedCanvases.getCanvas("inlineImage",e,f)).context;b(o,a),c=d.canvas}for(var p=e,q=f,r="prescale1";k>2&&p>1||n>2&&q>1;){var s=p,t=q;k>2&&p>1&&(s=Math.ceil(p/2),k/=p/s),n>2&&q>1&&(t=Math.ceil(q/2),n/=q/t),(o=(d=this.cachedCanvases.getCanvas(r,s,t)).context).clearRect(0,0,s,t),o.drawImage(c,0,0,p,q,0,0,s,t),c=d.canvas,p=s,q=t,r="prescale1"===r?"prescale2":"prescale1"}if(g.drawImage(c,0,0,p,q,0,-f,e,f),this.imageLayer){var u=this.getCanvasPosition(0,-f);this.imageLayer.appendImage({imgData:a,left:u[0],top:u[1],width:e/h[0],height:f/h[3]})}this.restore()},paintInlineImageXObjectGroup:function(a,c){var d=this.ctx,e=a.width,f=a.height,g=this.cachedCanvases.getCanvas("inlineImage",e,f);b(g.context,a);for(var h=0,i=c.length;h<i;h++){var j=c[h];if(d.save(),d.transform.apply(d,j.transform),d.scale(1,-1),d.drawImage(g.canvas,j.x,j.y,j.w,j.h,0,-1,1,1),this.imageLayer){var k=this.getCanvasPosition(j.x,j.y);this.imageLayer.appendImage({imgData:a,left:k[0],top:k[1],width:e,height:f})}d.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,d.warn)("Unsupported 'paintXObject' command.")},markPoint:function(a){},markPointProps:function(a,b){},beginMarkedContent:function(a){},beginMarkedContentProps:function(a,b){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===r?a.clip("evenodd"):a.clip(),this.pendingClip=null),a.beginPath()},getSinglePixelWidth:function(a){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var b=this.ctx.mozCurrentTransformInverse;this.ctx.restore(),this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(b[0]*b[0]+b[1]*b[1],b[2]*b[2]+b[3]*b[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}},d.OPS)a.prototype[d.OPS[s]]=a.prototype[s];return a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TilingPattern=b.getShadingPatternFromIR=void 0;var d=c(1),e={};e.RadialAxial={fromIR:function(a){var b=a[1],c=a[2],d=a[3],e=a[4],f=a[5],g=a[6];return{type:"Pattern",getPattern:function(a){var h;"axial"===b?h=a.createLinearGradient(d[0],d[1],e[0],e[1]):"radial"===b&&(h=a.createRadialGradient(d[0],d[1],f,e[0],e[1],g));for(var i=0,j=c.length;i<j;++i){var k=c[i];h.addColorStop(k[0],k[1])}return h}}}};var f=function(){function a(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s=b.coords,t=b.colors,u=a.data,v=4*a.width;s[c+1]>s[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i),s[d+1]>s[e+1]&&(i=d,d=e,e=i,i=g,g=h,h=i),s[c+1]>s[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i);var w=(s[c]+b.offsetX)*b.scaleX,x=(s[c+1]+b.offsetY)*b.scaleY,y=(s[d]+b.offsetX)*b.scaleX,z=(s[d+1]+b.offsetY)*b.scaleY,A=(s[e]+b.offsetX)*b.scaleX,B=(s[e+1]+b.offsetY)*b.scaleY;if(!(x>=B))for(var C=t[f],D=t[f+1],E=t[f+2],F=t[g],G=t[g+1],H=t[g+2],I=t[h],J=t[h+1],K=t[h+2],L=Math.round(x),M=Math.round(B),N=L;N<=M;N++){N<z?(j=w-(w-y)*(r=N<x?0:x===z?1:(x-N)/(x-z)),k=C-(C-F)*r,l=D-(D-G)*r,m=E-(E-H)*r):(j=y-(y-A)*(r=N>B?1:z===B?0:(z-N)/(z-B)),k=F-(F-I)*r,l=G-(G-J)*r,m=H-(H-K)*r),n=w-(w-A)*(r=N<x?0:N>B?1:(x-N)/(x-B)),o=C-(C-I)*r,p=D-(D-J)*r,q=E-(E-K)*r;for(var O=Math.round(Math.min(j,n)),P=Math.round(Math.max(j,n)),Q=v*N+4*O,R=O;R<=P;R++)r=(r=(j-R)/(j-n))<0?0:r>1?1:r,u[Q++]=k-(k-o)*r|0,u[Q++]=l-(l-p)*r|0,u[Q++]=m-(m-q)*r|0,u[Q++]=255}}return function(b,c,d,e,f,g,h,i){var j,k,l,m,n=Math.floor(b[0]),o=Math.floor(b[1]),p=Math.ceil(b[2])-n,q=Math.ceil(b[3])-o,r=Math.min(Math.ceil(Math.abs(p*c[0]*1.1)),3e3),s=Math.min(Math.ceil(Math.abs(q*c[1]*1.1)),3e3),t=p/r,u=q/s,v={coords:d,colors:e,offsetX:-n,offsetY:-o,scaleX:1/t,scaleY:1/u},w=r+4,x=s+4;if(i.isEnabled)j=i.drawFigures({width:r,height:s,backgroundColor:g,figures:f,context:v}),(k=h.getCanvas("mesh",w,x,!1)).context.drawImage(j,2,2),j=k.canvas;else{var y=(k=h.getCanvas("mesh",w,x,!1)).context,z=y.createImageData(r,s);if(g){var A=z.data;for(l=0,m=A.length;l<m;l+=4)A[l]=g[0],A[l+1]=g[1],A[l+2]=g[2],A[l+3]=255}for(l=0;l<f.length;l++)!function(b,c,d){var e,f,g=c.coords,h=c.colors;switch(c.type){case"lattice":var i=c.verticesPerRow,j=Math.floor(g.length/i)-1,k=i-1;for(e=0;e<j;e++)for(var l=e*i,m=0;m<k;m++,l++)a(b,d,g[l],g[l+1],g[l+i],h[l],h[l+1],h[l+i]),a(b,d,g[l+i+1],g[l+1],g[l+i],h[l+i+1],h[l+1],h[l+i]);break;case"triangles":for(e=0,f=g.length;e<f;e+=3)a(b,d,g[e],g[e+1],g[e+2],h[e],h[e+1],h[e+2]);break;default:throw Error("illegal figure")}}(z,f[l],v);y.putImageData(z,2,2),j=k.canvas}return{canvas:j,offsetX:n-2*t,offsetY:o-2*u,scaleX:t,scaleY:u}}}();e.Mesh={fromIR:function(a){var b=a[2],c=a[3],e=a[4],g=a[5],h=a[6],i=a[8];return{type:"Pattern",getPattern:function(a,j,k){if(k)l=d.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(l=d.Util.singularValueDecompose2dScale(j.baseTransform),h){var l,m=d.Util.singularValueDecompose2dScale(h);l=[l[0]*m[0],l[1]*m[1]]}var n=f(g,l,b,c,e,k?null:i,j.cachedCanvases,j.webGLContext);return!k&&(a.setTransform.apply(a,j.baseTransform),h&&a.transform.apply(a,h)),a.translate(n.offsetX,n.offsetY),a.scale(n.scaleX,n.scaleY),a.createPattern(n.canvas,"no-repeat")}}}},e.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var g=function(){function a(a,b,c,d,e){this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=b,this.canvasGraphicsFactory=d,this.baseTransform=e,this.type="Pattern",this.ctx=c}return a.prototype={createPatternCanvas:function(a){var b=this.operatorList,c=this.bbox,e=this.xstep,f=this.ystep,g=this.paintType,h=this.tilingType,i=this.color,j=this.canvasGraphicsFactory;(0,d.info)("TilingType: "+h);var k=c[0],l=c[1],m=c[2],n=c[3],o=[k,l],p=[k+e,l+f],q=p[0]-o[0],r=p[1]-o[1],s=d.Util.singularValueDecompose2dScale(this.matrix),t=d.Util.singularValueDecompose2dScale(this.baseTransform),u=[s[0]*t[0],s[1]*t[1]];q=Math.min(Math.ceil(Math.abs(q*u[0])),3e3),r=Math.min(Math.ceil(Math.abs(r*u[1])),3e3);var v=a.cachedCanvases.getCanvas("pattern",q,r,!0),w=v.context,x=j.createCanvasGraphics(w);x.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(x,g,i),this.setScale(q,r,e,f),this.transformToScale(x);var y=[1,0,0,1,-o[0],-o[1]];return x.transform.apply(x,y),this.clipBbox(x,c,k,l,m,n),x.executeOperatorList(b),v.canvas},setScale:function(a,b,c,d){this.scale=[a/c,b/d]},transformToScale:function(a){var b=this.scale,c=[b[0],0,0,b[1],0,0];a.transform.apply(a,c)},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,c,d,e,f){Array.isArray(b)&&4===b.length&&(a.ctx.rect(c,d,e-c,f-d),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,b,c){var e=a.ctx,f=a.current;switch(b){case 1:var g=this.ctx;e.fillStyle=g.fillStyle,e.strokeStyle=g.strokeStyle,f.fillColor=g.fillStyle,f.strokeColor=g.strokeStyle;break;case 2:var h=d.Util.makeCssRgb(c[0],c[1],c[2]);e.fillStyle=h,e.strokeStyle=h,f.fillColor=h,f.strokeColor=h;break;default:throw new d.FormatError("Unsupported paint type: "+b)}},getPattern:function(a,b){var c=this.createPatternCanvas(b);return(a=this.ctx).setTransform.apply(a,this.baseTransform),a.transform.apply(a,this.matrix),this.scaleToContext(),a.createPattern(c,"repeat")}},a}();b.getShadingPatternFromIR=function(a){var b=e[a[0]];if(!b)throw Error("Unknown IR type: "+a[0]);return b.fromIR(a)},b.TilingPattern=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=Object.create(null);d.workerPort=void 0===d.workerPort?null:d.workerPort,d.workerSrc=void 0===d.workerSrc?"":d.workerSrc,b.GlobalWorkerOptions=d},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MessageHandler=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(1);function f(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a?new Promise(function(d,e){d(a.apply(c,b))}):Promise.resolve(void 0)}function g(a){if((void 0===a?"undefined":d(a))!=="object")return a;switch(a.name){case"AbortException":return new e.AbortException(a.message);case"MissingPDFException":return new e.MissingPDFException(a.message);case"UnexpectedResponseException":return new e.UnexpectedResponseException(a.message,a.status);default:return new e.UnknownErrorException(a.message,a.details)}}function h(a,b,c){b?a.resolve():a.reject(c)}function i(a,b,c){var d=this;this.sourceName=a,this.targetName=b,this.comObj=c,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var f=this.callbacksCapabilities=Object.create(null),h=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var b=a.data;if(b.targetName===d.sourceName)if(b.stream)d._processStreamMessage(b);else if(b.isReply){var i=b.callbackId;if(b.callbackId in f){var j=f[i];delete f[i],"error"in b?j.reject(g(b.error)):j.resolve(b.data)}else throw Error("Cannot resolve callback "+i)}else if(b.action in h){var k=h[b.action];if(b.callbackId){var l=d.sourceName,m=b.sourceName;Promise.resolve().then(function(){return k[0].call(k[1],b.data)}).then(function(a){c.postMessage({sourceName:l,targetName:m,isReply:!0,callbackId:b.callbackId,data:a})},function(a){c.postMessage({sourceName:l,targetName:m,isReply:!0,callbackId:b.callbackId,error:!(a instanceof Error)||a instanceof e.AbortException||a instanceof e.MissingPDFException||a instanceof e.UnexpectedResponseException||a instanceof e.UnknownErrorException?a:new e.UnknownErrorException(a.message,a.toString())})})}else b.streamId?d._createStreamSink(b):k[0].call(k[1],b.data)}else throw Error("Unknown action from worker: "+b.action)},c.addEventListener("message",this._onComObjOnMessage)}i.prototype={on:function(a,b,c){var d=this.actionHandler;if(d[a])throw Error('There is already an actionName called "'+a+'"');d[a]=[b,c]},send:function(a,b,c){var d={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b};this.postMessage(d,c)},sendWithPromise:function(a,b,c){var d=this.callbackId++,f={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:d},g=(0,e.createPromiseCapability)();this.callbacksCapabilities[d]=g;try{this.postMessage(f,c)}catch(a){g.reject(a)}return g.promise},sendWithStream:function(a,b,c,d){var f=this,g=this.streamId++,h=this.sourceName,i=this.targetName;return new e.ReadableStream({start:function(c){var d=(0,e.createPromiseCapability)();return f.streamControllers[g]={controller:c,startCall:d,isClosed:!1},f.postMessage({sourceName:h,targetName:i,action:a,streamId:g,data:b,desiredSize:c.desiredSize}),d.promise},pull:function(a){var b=(0,e.createPromiseCapability)();return f.streamControllers[g].pullCall=b,f.postMessage({sourceName:h,targetName:i,stream:"pull",streamId:g,desiredSize:a.desiredSize}),b.promise},cancel:function(a){var b=(0,e.createPromiseCapability)();return f.streamControllers[g].cancelCall=b,f.streamControllers[g].isClosed=!0,f.postMessage({sourceName:h,targetName:i,stream:"cancel",reason:a,streamId:g}),b.promise}},c)},_createStreamSink:function(a){var b=this,c=this,d=this.actionHandler[a.action],g=a.streamId,h=a.desiredSize,i=this.sourceName,j=a.sourceName,k=(0,e.createPromiseCapability)(),l=function(a){var c=a.stream,d=a.chunk,e=a.transfers,f=a.success,h=a.reason;b.postMessage({sourceName:i,targetName:j,stream:c,streamId:g,chunk:d,success:f,reason:h},e)},m={enqueue:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments[2];if(!this.isCancelled){var d=this.desiredSize;this.desiredSize-=b,d>0&&this.desiredSize<=0&&(this.sinkCapability=(0,e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),l({stream:"enqueue",chunk:a,transfers:c})}},close:function(){this.isCancelled||(this.isCancelled=!0,l({stream:"close"}),delete c.streamSinks[g])},error:function(a){this.isCancelled||(this.isCancelled=!0,l({stream:"error",reason:a}))},sinkCapability:k,onPull:null,onCancel:null,isCancelled:!1,desiredSize:h,ready:null};m.sinkCapability.resolve(),m.ready=m.sinkCapability.promise,this.streamSinks[g]=m,f(d[0],[a.data,m],d[1]).then(function(){l({stream:"start_complete",success:!0})},function(a){l({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var b=this,c=this.sourceName,d=a.sourceName,i=a.streamId,j=function(a){var e=a.stream,f=a.success,g=a.reason;b.comObj.postMessage({sourceName:c,targetName:d,stream:e,success:f,streamId:i,reason:g})},k=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&Promise.resolve(a.promise).catch(function(){})})).then(function(){delete b.streamControllers[a.streamId]})};switch(a.stream){case"start_complete":h(this.streamControllers[a.streamId].startCall,a.success,g(a.reason));break;case"pull_complete":h(this.streamControllers[a.streamId].pullCall,a.success,g(a.reason));break;case"pull":if(!this.streamSinks[a.streamId]){j({stream:"pull_complete",success:!0});break}this.streamSinks[a.streamId].desiredSize<=0&&a.desiredSize>0&&this.streamSinks[a.streamId].sinkCapability.resolve(),this.streamSinks[a.streamId].desiredSize=a.desiredSize,f(this.streamSinks[a.streamId].onPull).then(function(){j({stream:"pull_complete",success:!0})},function(a){j({stream:"pull_complete",success:!1,reason:a})});break;case"enqueue":(0,e.assert)(this.streamControllers[a.streamId],"enqueue should have stream controller"),this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case"close":if((0,e.assert)(this.streamControllers[a.streamId],"close should have stream controller"),this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0,this.streamControllers[a.streamId].controller.close(),k();break;case"error":(0,e.assert)(this.streamControllers[a.streamId],"error should have stream controller"),this.streamControllers[a.streamId].controller.error(g(a.reason)),k();break;case"cancel_complete":h(this.streamControllers[a.streamId].cancelCall,a.success,g(a.reason)),k();break;case"cancel":if(!this.streamSinks[a.streamId])break;f(this.streamSinks[a.streamId].onCancel,[g(a.reason)]).then(function(){j({stream:"cancel_complete",success:!0})},function(a){j({stream:"cancel_complete",success:!1,reason:a})}),this.streamSinks[a.streamId].sinkCapability.reject(g(a.reason)),this.streamSinks[a.streamId].isCancelled=!0,delete this.streamSinks[a.streamId];break;default:throw Error("Unexpected stream case")}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},b.MessageHandler=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Metadata=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(1),f=c(123);b.Metadata=function(){function a(b){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");(0,e.assert)("string"==typeof b,"Metadata: input is not a string"),b=this._repair(b);var c=new f.SimpleXMLParser().parseFromString(b);this._metadata=Object.create(null),c&&this._parse(c)}return d(a,[{key:"_repair",value:function(a){return a.replace(/>\\376\\377([^<]+)/g,function(a,b){for(var c=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(64*b+8*c+ +d)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,b){switch(b){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw Error("_repair: "+b+" isn't defined.")}),d="",e=0,f=c.length;e<f;e+=2){var g=256*c.charCodeAt(e)+c.charCodeAt(e+1);g>=32&&g<127&&60!==g&&62!==g&&38!==g?d+=String.fromCharCode(g):d+="&#x"+(65536+g).toString(16).substring(1)+";"}return">"+d})}},{key:"_parse",value:function(a){var b=a.documentElement;if("rdf:rdf"!==b.nodeName.toLowerCase())for(b=b.firstChild;b&&"rdf:rdf"!==b.nodeName.toLowerCase();)b=b.nextSibling;var c=b?b.nodeName.toLowerCase():null;if(b&&"rdf:rdf"===c&&b.hasChildNodes())for(var d=b.childNodes,e=0,f=d.length;e<f;e++){var g=d[e];if("rdf:description"===g.nodeName.toLowerCase()){for(var h=0,i=g.childNodes.length;h<i;h++)if("#text"!==g.childNodes[h].nodeName.toLowerCase()){var j=g.childNodes[h],k=j.nodeName.toLowerCase();this._metadata[k]=j.textContent.trim()}}}}},{key:"get",value:function(a){return this._metadata[a]||null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return void 0!==this._metadata[a]}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}(a,b);throw TypeError("Invalid attempt to destructure non-iterable instance")},e=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);if(null===f)return;return a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function g(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function h(a,b){var c=a[b];return" "===c||"\n"===c||"\r"===c||"	"===c}var i=function(){function a(){g(this,a)}return f(a,[{key:"_resolveEntities",value:function(a){return a.replace(/&([^;]+);/g,function(a,b){if("#x"===b.substring(0,2))return String.fromCharCode(parseInt(b.substring(2),16));if("#"===b.substring(0,1))return String.fromCharCode(parseInt(b.substring(1),10));switch(b){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(b)})}},{key:"_parseContent",value:function(a,b){var c=b,d=void 0,e=[];function f(){for(;c<a.length&&h(a,c);)++c}for(;c<a.length&&!h(a,c)&&">"!==a[c]&&"/"!==a[c];)++c;for(d=a.substring(b,c),f();c<a.length&&">"!==a[c]&&"/"!==a[c]&&"?"!==a[c];){f();for(var g="",i="";c<a.length&&!h(a,c)&&"="!==a[c];)g+=a[c],++c;if(f(),"="!==a[c])return null;++c,f();var j=a[c];if('"'!==j&&"'"!==j)return null;var k=a.indexOf(j,++c);if(k<0)return null;i=a.substring(c,k),e.push({name:g,value:this._resolveEntities(i)}),c=k+1,f()}return{name:d,attributes:e,parsed:c-b}}},{key:"_parseProcessingInstruction",value:function(a,b){for(var c=b,d=void 0,e=void 0;c<a.length&&!h(a,c)&&">"!==a[c]&&"/"!==a[c];)++c;for(d=a.substring(b,c);c<a.length&&h(a,c);)++c;for(var f=c;c<a.length&&("?"!==a[c]||">"!==a[c+1]);)++c;return{name:d,value:a.substring(f,c),parsed:c-b}}},{key:"parseXml",value:function(a){for(var b=0;b<a.length;){var c=a[b],d=b;if("<"===c){var e=a[++d],f=void 0;switch(e){case"/":if(++d,(f=a.indexOf(">",d))<0)return void this.onError(-9);this.onEndElement(a.substring(d,f)),d=f+1;break;case"?":++d;var g=this._parseProcessingInstruction(a,d);if("?>"!==a.substring(d+g.parsed,d+g.parsed+2))return void this.onError(-3);this.onPi(g.name,g.value),d+=g.parsed+2;break;case"!":if("--"===a.substring(d+1,d+3)){if((f=a.indexOf("--\x3e",d+3))<0)return void this.onError(-5);this.onComment(a.substring(d+3,f)),d=f+3}else if("[CDATA["===a.substring(d+1,d+8)){if((f=a.indexOf("]]>",d+8))<0)return void this.onError(-2);this.onCdata(a.substring(d+8,f)),d=f+3}else{if("DOCTYPE"!==a.substring(d+1,d+8))return void this.onError(-6);var h=a.indexOf("[",d+8),i=!1;if((f=a.indexOf(">",d+8))<0)return void this.onError(-4);if(h>0&&f>h){if((f=a.indexOf("]>",d+8))<0)return void this.onError(-4);i=!0}var j=a.substring(d+8,f+ +!!i);this.onDoctype(j),d=f+(i?2:1)}break;default:var k=this._parseContent(a,d);if(null===k)return void this.onError(-6);var l=!1;if("/>"===a.substring(d+k.parsed,d+k.parsed+2))l=!0;else if(">"!==a.substring(d+k.parsed,d+k.parsed+1))return void this.onError(-9);this.onBeginElement(k.name,k.attributes,l),d+=k.parsed+(l?2:1)}}else{for(;d<a.length&&"<"!==a[d];)d++;var m=a.substring(b,d);this.onText(this._resolveEntities(m))}b=d}}},{key:"onResolveEntity",value:function(a){return"&"+a+";"}},{key:"onPi",value:function(a,b){}},{key:"onComment",value:function(a){}},{key:"onCdata",value:function(a){}},{key:"onDoctype",value:function(a){}},{key:"onText",value:function(a){}},{key:"onBeginElement",value:function(a,b,c){}},{key:"onEndElement",value:function(a){}},{key:"onError",value:function(a){}}]),a}(),j=function(){function a(b,c){g(this,a),this.nodeName=b,this.nodeValue=c,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return f(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){var a=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[a+1]}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(a){return a.textContent}).join(""):this.nodeValue||""}}]),a}();b.SimpleXMLParser=function(a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function, not "+typeof a);function b(){g(this,b);var a=function(a,b){if(!a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._currentFragment=null,a._stack=null,a._errorCode=0,a}return b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a),f(b,[{key:"parseFromString",value:function(a){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(a),0===this._errorCode)return{documentElement:d(this._currentFragment,1)[0]}}},{key:"onResolveEntity",value:function(a){return"apos"===a?"'":e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResolveEntity",this).call(this,a)}},{key:"onText",value:function(a){if(!function(a){for(var b=0,c=a.length;b<c;b++)if(!h(a,b))return!1;return!0}(a)){var b=new j("#text",a);this._currentFragment.push(b)}}},{key:"onCdata",value:function(a){var b=new j("#text",a);this._currentFragment.push(b)}},{key:"onBeginElement",value:function(a,b,c){var d=new j(a);d.childNodes=[],this._currentFragment.push(d),c||(this._stack.push(this._currentFragment),this._currentFragment=d.childNodes)}},{key:"onEndElement",value:function(a){this._currentFragment=this._stack.pop();for(var b=this._currentFragment[this._currentFragment.length-1],c=0,d=b.childNodes.length;c<d;c++)b.childNodes[c].parentNode=b}},{key:"onError",value:function(a){this._errorCode=a}}]),b}(i)},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFDataTransportStream=void 0;var d=c(1);b.PDFDataTransportStream=function(){function a(a,b){var c=this;(0,d.assert)(b),this._queuedChunks=[];var e=a.initialData;if(e&&e.length>0){var f=new Uint8Array(e).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=b,this._isStreamingSupported=!a.disableStream,this._isRangeSupported=!a.disableRange,this._contentLength=a.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(a,b){c._onReceiveData({begin:a,chunk:b})}),this._pdfDataRangeTransport.addProgressListener(function(a){c._onProgress({loaded:a})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(a){c._onReceiveData({chunk:a})}),this._pdfDataRangeTransport.transportReady()}function b(a,b){this._stream=a,this._done=!1,this._filename=null,this._queuedChunks=b||[],this._requests=[],this._headersReady=Promise.resolve(),a._fullRequestReader=this,this.onProgress=null}function c(a,b,c){this._stream=a,this._begin=b,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return a.prototype={_onReceiveData:function(a){var b=new Uint8Array(a.chunk).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{var c=this._rangeReaders.some(function(c){return c._begin===a.begin&&(c._enqueue(b),!0)});(0,d.assert)(c)}},_onProgress:function(a){if(this._rangeReaders.length>0){var b=this._rangeReaders[0];b.onProgress&&b.onProgress({loaded:a.loaded})}},_removeRangeReader:function(a){var b=this._rangeReaders.indexOf(a);b>=0&&this._rangeReaders.splice(b,1)},getFullReader:function(){(0,d.assert)(!this._fullRequestReader);var a=this._queuedChunks;return this._queuedChunks=null,new b(this,a)},getRangeReader:function(a,b){var d=new c(this,a,b);return this._pdfDataRangeTransport.requestDataRange(a,b),this._rangeReaders.push(d),d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a),this._rangeReaders.slice(0).forEach(function(b){b.cancel(a)}),this._pdfDataRangeTransport.abort()}},b.prototype={_enqueue:function(a){if(!this._done){if(this._requests.length>0)return void this._requests.shift().resolve({value:a,done:!1});this._queuedChunks.push(a)}},get headersReady(){return this._headersReady},get filename(){return this._filename},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){if(this._queuedChunks.length>0)return Promise.resolve({value:this._queuedChunks.shift(),done:!1});if(this._done)return Promise.resolve({value:void 0,done:!0});var a=(0,d.createPromiseCapability)();return this._requests.push(a),a.promise},cancel:function(a){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]}},c.prototype={_enqueue:function(a){this._done||(0===this._requests.length?this._queuedChunk=a:(this._requests.shift().resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var a=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var b=(0,d.createPromiseCapability)();return this._requests.push(b),b.promise},cancel:function(a){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebGLContext=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(1),f=function(){function a(b){var c=b.enable;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");this._enabled=!0===(void 0!==c&&c)}return d(a,[{key:"composeSMask",value:function(a){var b=a.layer,c=a.mask,d=a.properties;return g.composeSMask(b,c,d)}},{key:"drawFigures",value:function(a){var b=a.width,c=a.height,d=a.backgroundColor,e=a.figures,f=a.context;return g.drawFigures(b,c,d,e,f)}},{key:"clear",value:function(){g.cleanup()}},{key:"isEnabled",get:function(){var a=this._enabled;return a&&(a=g.tryInitGL()),(0,e.shadow)(this,"isEnabled",a)}}]),a}(),g=function(){function a(a,b,c){var d=a.createShader(c);if(a.shaderSource(d,b),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS))throw Error("Error during shader compilation: "+a.getShaderInfoLog(d));return d}function b(b,c){return a(b,c,b.VERTEX_SHADER)}function c(b,c){return a(b,c,b.FRAGMENT_SHADER)}function d(a,b){for(var c=a.createProgram(),d=0,e=b.length;d<e;++d)a.attachShader(c,b[d]);if(a.linkProgram(c),!a.getProgramParameter(c,a.LINK_STATUS))throw Error("Error during program linking: "+a.getProgramInfoLog(c));return c}function e(a,b,c){a.activeTexture(c);var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),d}function f(){g||(g=(h=document.createElement("canvas")).getContext("webgl",{premultipliedalpha:!1}))}var g,h,i=null,j=null;return{tryInitGL:function(){try{return f(),!!g}catch(a){}return!1},composeSMask:function(a,j,k){var l,m,n,o,p,q,r,s,t,u,v=a.width,w=a.height;i||(f(),l=h,h=null,m=g,g=null,n=b(m,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),o=c(m,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             "),p=d(m,[n,o]),m.useProgram(p),(q={}).gl=m,q.canvas=l,q.resolutionLocation=m.getUniformLocation(p,"u_resolution"),q.positionLocation=m.getAttribLocation(p,"a_position"),q.backdropLocation=m.getUniformLocation(p,"u_backdrop"),q.subtypeLocation=m.getUniformLocation(p,"u_subtype"),r=m.getAttribLocation(p,"a_texCoord"),s=m.getUniformLocation(p,"u_image"),t=m.getUniformLocation(p,"u_mask"),u=m.createBuffer(),m.bindBuffer(m.ARRAY_BUFFER,u),m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),m.STATIC_DRAW),m.enableVertexAttribArray(r),m.vertexAttribPointer(r,2,m.FLOAT,!1,0,0),m.uniform1i(s,0),m.uniform1i(t,1),i=q);var x=i,y=x.canvas,z=x.gl;y.width=v,y.height=w,z.viewport(0,0,z.drawingBufferWidth,z.drawingBufferHeight),z.uniform2f(x.resolutionLocation,v,w),k.backdrop?z.uniform4f(x.resolutionLocation,k.backdrop[0],k.backdrop[1],k.backdrop[2],1):z.uniform4f(x.resolutionLocation,0,0,0,0),z.uniform1i(x.subtypeLocation,+("Luminosity"===k.subtype));var A=e(z,a,z.TEXTURE0),B=e(z,j,z.TEXTURE1),C=z.createBuffer();return z.bindBuffer(z.ARRAY_BUFFER,C),z.bufferData(z.ARRAY_BUFFER,new Float32Array([0,0,v,0,0,w,0,w,v,0,v,w]),z.STATIC_DRAW),z.enableVertexAttribArray(x.positionLocation),z.vertexAttribPointer(x.positionLocation,2,z.FLOAT,!1,0,0),z.clearColor(0,0,0,0),z.enable(z.BLEND),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.clear(z.COLOR_BUFFER_BIT),z.drawArrays(z.TRIANGLES,0,6),z.flush(),z.deleteTexture(A),z.deleteTexture(B),z.deleteBuffer(C),y},drawFigures:function(a,e,i,k,l){j||(f(),m=h,h=null,n=g,g=null,o=b(n,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),p=c(n,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             "),q=d(n,[o,p]),n.useProgram(q),(r={}).gl=n,r.canvas=m,r.resolutionLocation=n.getUniformLocation(q,"u_resolution"),r.scaleLocation=n.getUniformLocation(q,"u_scale"),r.offsetLocation=n.getUniformLocation(q,"u_offset"),r.positionLocation=n.getAttribLocation(q,"a_position"),r.colorLocation=n.getAttribLocation(q,"a_color"),j=r);var m,n,o,p,q,r,s,t,u,v=j,w=v.canvas,x=v.gl;w.width=a,w.height=e,x.viewport(0,0,x.drawingBufferWidth,x.drawingBufferHeight),x.uniform2f(v.resolutionLocation,a,e);var y=0;for(s=0,t=k.length;s<t;s++)switch(k[s].type){case"lattice":y+=((u=k[s].coords.length/k[s].verticesPerRow|0)-1)*(k[s].verticesPerRow-1)*6;break;case"triangles":y+=k[s].coords.length}var z=new Float32Array(2*y),A=new Uint8Array(3*y),B=l.coords,C=l.colors,D=0,E=0;for(s=0,t=k.length;s<t;s++){var F=k[s],G=F.coords,H=F.colors;switch(F.type){case"lattice":var I=F.verticesPerRow;u=G.length/I|0;for(var J=1;J<u;J++)for(var K=J*I+1,L=1;L<I;L++,K++)z[D]=B[G[K-I-1]],z[D+1]=B[G[K-I-1]+1],z[D+2]=B[G[K-I]],z[D+3]=B[G[K-I]+1],z[D+4]=B[G[K-1]],z[D+5]=B[G[K-1]+1],A[E]=C[H[K-I-1]],A[E+1]=C[H[K-I-1]+1],A[E+2]=C[H[K-I-1]+2],A[E+3]=C[H[K-I]],A[E+4]=C[H[K-I]+1],A[E+5]=C[H[K-I]+2],A[E+6]=C[H[K-1]],A[E+7]=C[H[K-1]+1],A[E+8]=C[H[K-1]+2],z[D+6]=z[D+2],z[D+7]=z[D+3],z[D+8]=z[D+4],z[D+9]=z[D+5],z[D+10]=B[G[K]],z[D+11]=B[G[K]+1],A[E+9]=A[E+3],A[E+10]=A[E+4],A[E+11]=A[E+5],A[E+12]=A[E+6],A[E+13]=A[E+7],A[E+14]=A[E+8],A[E+15]=C[H[K]],A[E+16]=C[H[K]+1],A[E+17]=C[H[K]+2],D+=12,E+=18;break;case"triangles":for(var M=0,N=G.length;M<N;M++)z[D]=B[G[M]],z[D+1]=B[G[M]+1],A[E]=C[H[M]],A[E+1]=C[H[M]+1],A[E+2]=C[H[M]+2],D+=2,E+=3}}i?x.clearColor(i[0]/255,i[1]/255,i[2]/255,1):x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT);var O=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,O),x.bufferData(x.ARRAY_BUFFER,z,x.STATIC_DRAW),x.enableVertexAttribArray(v.positionLocation),x.vertexAttribPointer(v.positionLocation,2,x.FLOAT,!1,0,0);var P=x.createBuffer();return x.bindBuffer(x.ARRAY_BUFFER,P),x.bufferData(x.ARRAY_BUFFER,A,x.STATIC_DRAW),x.enableVertexAttribArray(v.colorLocation),x.vertexAttribPointer(v.colorLocation,3,x.UNSIGNED_BYTE,!1,0,0),x.uniform2f(v.scaleLocation,l.scaleX,l.scaleY),x.uniform2f(v.offsetLocation,l.offsetX,l.offsetY),x.drawArrays(x.TRIANGLES,0,y),x.flush(),x.deleteBuffer(O),x.deleteBuffer(P),w},cleanup:function(){i&&i.canvas&&(i.canvas.width=0,i.canvas.height=0),j&&j.canvas&&(j.canvas.width=0,j.canvas.height=0),i=null,j=null}}}();b.WebGLContext=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.renderTextLayer=void 0;var d,e=c(1),f=(d=c(3))&&d.__esModule?d:{default:d};b.renderTextLayer=function(){var a=/\S/,b=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];function c(a){if(!a._canceled){var b=a._textDivs,c=a._capability,d=b.length;if(d>1e5){a._renderingDone=!0,c.resolve();return}if(!a._textContentStream)for(var e=0;e<d;e++)a._layoutText(b[e]);a._renderingDone=!0,c.resolve()}}function d(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var c=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];b.forEach(function(a){for(var b,d=0;d<c.length&&c[d].end<=a.y1;)d++;for(var e=c.length-1;e>=0&&c[e].start>=a.y2;)e--;var f,g,h,i,j=-1/0;for(h=d;h<=e;h++)(b=(g=(f=c[h]).boundary).x2>a.x1?g.index>a.index?g.x1New:a.x1:void 0===g.x2New?(g.x2+a.x1)/2:g.x2New)>j&&(j=b);for(a.x1New=j,h=d;h<=e;h++)void 0===(g=(f=c[h]).boundary).x2New?g.x2>a.x1?g.index>a.index&&(g.x2New=g.x2):g.x2New=j:g.x2New>j&&(g.x2New=Math.max(j,g.x2));var k=[],l=null;for(h=d;h<=e;h++){var m=(g=(f=c[h]).boundary).x2>a.x2?g:a;l===m?k[k.length-1].end=f.end:(k.push({start:f.start,end:f.end,boundary:m}),l=m)}for(c[d].start<a.y1&&(k[0].start=a.y1,k.unshift({start:c[d].start,end:a.y1,boundary:c[d].boundary})),a.y2<c[e].end&&(k[k.length-1].end=a.y2,k.push({start:a.y2,end:c[e].end,boundary:c[e].boundary})),h=d;h<=e;h++)if(void 0===(g=(f=c[h]).boundary).x2New){var n=!1;for(i=d-1;!n&&i>=0&&c[i].start>=g.y1;i--)n=c[i].boundary===g;for(i=e+1;!n&&i<c.length&&c[i].end<=g.y2;i++)n=c[i].boundary===g;for(i=0;!n&&i<k.length;i++)n=k[i].boundary===g;n||(g.x2New=j)}Array.prototype.splice.apply(c,[d,e-d+1].concat(k))}),c.forEach(function(b){var c=b.boundary;void 0===c.x2New&&(c.x2New=Math.max(a,c.x2))})}function g(a){var b=a.textContent,c=a.textContentStream,d=a.container,g=a.viewport,h=a.textDivs,i=a.textContentItemsStr,j=a.enhanceTextSelection;this._textContent=b,this._textContentStream=c,this._container=d,this._viewport=g,this._textDivs=h||[],this._textContentItemsStr=i||[],this._enhanceTextSelection=!!j,this._fontInspectorEnabled=!!(f.default.FontInspector&&f.default.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,e.createPromiseCapability)(),this._renderTimer=null,this._bounds=[]}return g.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new e.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(c,d){for(var f=0,g=c.length;f<g;f++)this._textContentItemsStr.push(c[f].str),function(c,d,f){var g=document.createElement("div"),h={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(c._textDivs.push(g),n=d.str,!a.test(n)){h.isWhitespace=!0,c._textDivProperties.set(g,h);return}var i=e.Util.transform(c._viewport.transform,d.transform),j=Math.atan2(i[1],i[0]),k=f[d.fontName];k.vertical&&(j+=Math.PI/2);var l=Math.sqrt(i[2]*i[2]+i[3]*i[3]),m=l;if(k.ascent?m=k.ascent*m:k.descent&&(m=(1+k.descent)*m),0===j?(o=i[4],p=i[5]-m):(o=i[4]+m*Math.sin(j),p=i[5]-m*Math.cos(j)),b[1]=o,b[3]=p,b[5]=l,b[7]=k.fontFamily,h.style=b.join(""),g.setAttribute("style",h.style),g.textContent=d.str,c._fontInspectorEnabled&&(g.dataset.fontName=d.fontName),0!==j&&(h.angle=180/Math.PI*j),d.str.length>1&&(k.vertical?h.canvasWidth=d.height*c._viewport.scale:h.canvasWidth=d.width*c._viewport.scale),c._textDivProperties.set(g,h),c._textContentStream&&c._layoutText(g),c._enhanceTextSelection){var n,o,p,q,r,s=1,t=0;0!==j&&(s=Math.cos(j),t=Math.sin(j));var u=(k.vertical?d.height:d.width)*c._viewport.scale;0!==j?(q=[s,t,-t,s,o,p],r=e.Util.getAxialAlignedBoundingBox([0,0,u,l],q)):r=[o,p,o+u,p+l],c._bounds.push({left:r[0],top:r[1],right:r[2],bottom:r[3],div:g,size:[u,l],m:q})}}(this,c[f],d)},_layoutText:function(a){var b=this._container,c=this._textDivProperties.get(a);if(!c.isWhitespace){var d=a.style.fontSize,e=a.style.fontFamily;(d!==this._layoutTextLastFontSize||e!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=d+" "+e,this._lastFontSize=d,this._lastFontFamily=e);var f=this._layoutTextCtx.measureText(a.textContent).width,g="";0!==c.canvasWidth&&f>0&&(c.scale=c.canvasWidth/f,g="scaleX("+c.scale+")"),0!==c.angle&&(g="rotate("+c.angle+"deg) "+g),""!==g&&(c.originalTransform=g,a.style.transform=g),this._textDivProperties.set(a,c),b.appendChild(a)}},_render:function(a){var b=this,d=(0,e.createPromiseCapability)(),f=Object.create(null),g=document.createElement("canvas");if(g.mozOpaque=!0,this._layoutTextCtx=g.getContext("2d",{alpha:!1}),this._textContent){var h=this._textContent.items,i=this._textContent.styles;this._processItems(h,i),d.resolve()}else if(this._textContentStream)this._reader=this._textContentStream.getReader(),function a(){b._reader.read().then(function(c){var g=c.value;if(c.done)return void d.resolve();e.Util.extendObj(f,g.styles),b._processItems(g.items,f),a()},d.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');d.promise.then(function(){f=null,a?b._renderTimer=setTimeout(function(){c(b),b._renderTimer=null},a):c(b)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(!function(a){for(var b,c,f,g,h,i=a._bounds,j=a._viewport,k=(b=j.width,c=j.height,d(b,g=(f=i).map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}})),h=Array(f.length),g.forEach(function(a){h[a.index]={left:a.x1New,top:0,right:a.x2New,bottom:0}}),f.map(function(a,c){var d=h[c],e=g[c];e.x1=a.top,e.y1=b-d.right,e.x2=a.bottom,e.y2=b-d.left,e.index=c,e.x1New=void 0,e.x2New=void 0}),d(c,g),g.forEach(function(a){var b=a.index;h[b].top=a.x1New,h[b].bottom=a.x2New}),h),l=0;l<k.length;l++){var m=i[l].div,n=a._textDivProperties.get(m);if(0===n.angle){n.paddingLeft=i[l].left-k[l].left,n.paddingTop=i[l].top-k[l].top,n.paddingRight=k[l].right-i[l].right,n.paddingBottom=k[l].bottom-i[l].bottom,a._textDivProperties.set(m,n);continue}var o=k[l],p=i[l],q=p.m,r=q[0],s=q[1],t=[[0,0],[0,p.size[1]],[p.size[0],0],p.size],u=new Float64Array(64);t.forEach(function(a,b){var c=e.Util.applyTransform(a,q);u[b+0]=r&&(o.left-c[0])/r,u[b+4]=s&&(o.top-c[1])/s,u[b+8]=r&&(o.right-c[0])/r,u[b+12]=s&&(o.bottom-c[1])/s,u[b+16]=s&&-((o.left-c[0])/s),u[b+20]=r&&(o.top-c[1])/r,u[b+24]=s&&-((o.right-c[0])/s),u[b+28]=r&&(o.bottom-c[1])/r,u[b+32]=r&&-((o.left-c[0])/r),u[b+36]=s&&-((o.top-c[1])/s),u[b+40]=r&&-((o.right-c[0])/r),u[b+44]=s&&-((o.bottom-c[1])/s),u[b+48]=s&&(o.left-c[0])/s,u[b+52]=r&&-((o.top-c[1])/r),u[b+56]=s&&(o.right-c[0])/s,u[b+60]=r&&-((o.bottom-c[1])/r)});var v=function(a,b,c){for(var d=0,e=0;e<c;e++){var f=a[b++];f>0&&(d=d?Math.min(f,d):f)}return d},w=1+Math.min(Math.abs(r),Math.abs(s));n.paddingLeft=v(u,32,16)/w,n.paddingTop=v(u,48,16)/w,n.paddingRight=v(u,0,16)/w,n.paddingBottom=v(u,16,16)/w,a._textDivProperties.set(m,n)}}(this),this._bounds=null);for(var b=0,c=this._textDivs.length;b<c;b++){var f=this._textDivs[b],g=this._textDivProperties.get(f);if(!g.isWhitespace)if(a){var h="",i="";1!==g.scale&&(h="scaleX("+g.scale+")"),0!==g.angle&&(h="rotate("+g.angle+"deg) "+h),0!==g.paddingLeft&&(i+=" padding-left: "+g.paddingLeft/g.scale+"px;",h+=" translateX("+-g.paddingLeft/g.scale+"px)"),0!==g.paddingTop&&(i+=" padding-top: "+g.paddingTop+"px;",h+=" translateY("+-g.paddingTop+"px)"),0!==g.paddingRight&&(i+=" padding-right: "+g.paddingRight/g.scale+"px;"),0!==g.paddingBottom&&(i+=" padding-bottom: "+g.paddingBottom+"px;"),""!==i&&f.setAttribute("style",g.style+i),""!==h&&(f.style.transform=h)}else f.style.padding=0,f.style.transform=g.originalTransform||""}}}},function(a){var b=new g({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});return b._render(a.timeout),b}}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationLayer=void 0;var d=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);if(null===f)return;return a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(115),g=c(1);function h(a,b){if(!a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function i(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function j(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var k=function(){function a(){j(this,a)}return e(a,null,[{key:"create",value:function(a){switch(a.data.annotationType){case g.AnnotationType.LINK:return new m(a);case g.AnnotationType.TEXT:return new n(a);case g.AnnotationType.WIDGET:switch(a.data.fieldType){case"Tx":return new p(a);case"Btn":if(a.data.radioButton)return new r(a);if(a.data.checkBox)return new q(a);return new s(a);case"Ch":return new t(a)}return new o(a);case g.AnnotationType.POPUP:return new u(a);case g.AnnotationType.LINE:return new w(a);case g.AnnotationType.SQUARE:return new x(a);case g.AnnotationType.CIRCLE:return new y(a);case g.AnnotationType.POLYLINE:return new z(a);case g.AnnotationType.POLYGON:return new A(a);case g.AnnotationType.HIGHLIGHT:return new B(a);case g.AnnotationType.UNDERLINE:return new C(a);case g.AnnotationType.SQUIGGLY:return new D(a);case g.AnnotationType.STRIKEOUT:return new E(a);case g.AnnotationType.STAMP:return new F(a);case g.AnnotationType.FILEATTACHMENT:return new G(a);default:return new l(a)}}}]),a}(),l=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];j(this,a),this.isRenderable=c,this.data=b.data,this.layer=b.layer,this.page=b.page,this.viewport=b.viewport,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderInteractiveForms=b.renderInteractiveForms,this.svgFactory=b.svgFactory,c&&(this.container=this._createContainer(d))}return e(a,[{key:"_createContainer",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=this.data,c=this.page,d=this.viewport,e=document.createElement("section"),f=b.rect[2]-b.rect[0],h=b.rect[3]-b.rect[1];e.setAttribute("data-annotation-id",b.id);var i=g.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);if(e.style.transform="matrix("+d.transform.join(",")+")",e.style.transformOrigin=-i[0]+"px "+-i[1]+"px",!a&&b.borderStyle.width>0){e.style.borderWidth=b.borderStyle.width+"px",b.borderStyle.style!==g.AnnotationBorderStyleType.UNDERLINE&&(f-=2*b.borderStyle.width,h-=2*b.borderStyle.width);var j=b.borderStyle.horizontalCornerRadius,k=b.borderStyle.verticalCornerRadius;switch((j>0||k>0)&&(e.style.borderRadius=j+"px / "+k+"px"),b.borderStyle.style){case g.AnnotationBorderStyleType.SOLID:e.style.borderStyle="solid";break;case g.AnnotationBorderStyleType.DASHED:e.style.borderStyle="dashed";break;case g.AnnotationBorderStyleType.BEVELED:(0,g.warn)("Unimplemented border style: beveled");break;case g.AnnotationBorderStyleType.INSET:(0,g.warn)("Unimplemented border style: inset");break;case g.AnnotationBorderStyleType.UNDERLINE:e.style.borderBottomStyle="solid"}b.color?e.style.borderColor=g.Util.makeCssRgb(0|b.color[0],0|b.color[1],0|b.color[2]):e.style.borderWidth=0}return e.style.left=i[0]+"px",e.style.top=i[1]+"px",e.style.width=f+"px",e.style.height=h+"px",e}},{key:"_createPopup",value:function(a,b,c){b||((b=document.createElement("div")).style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b));var d=new v({container:a,trigger:b,color:c.color,title:c.title,contents:c.contents,hideWrapper:!0}).render();d.style.left=a.style.width,a.appendChild(d)}},{key:"render",value:function(){(0,g.unreachable)("Abstract method `AnnotationElement.render` called")}}]),a}(),m=function(a){function b(a){j(this,b);var c=!!(a.data.url||a.data.dest||a.data.action);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=this.data,b=this.linkService,c=document.createElement("a");return(0,f.addLinkAttributes)(c,{url:a.url,target:a.newWindow?f.LinkTarget.BLANK:b.externalLinkTarget,rel:b.externalLinkRel}),a.url||(a.action?this._bindNamedAction(c,a.action):this._bindLink(c,a.dest)),this.container.appendChild(c),this.container}},{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b),a.onclick=function(){return b&&c.linkService.navigateTo(b),!1},b&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl(""),a.onclick=function(){return c.linkService.executeNamedAction(b),!1},a.className="internalLink"}}]),b}(l),n=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",a.alt="[{{type}} Annotation]",a.dataset.l10nId="text_annotation_type",a.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}}]),b}(l),o=function(a){function b(){return j(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,a),e(b,[{key:"render",value:function(){return this.container}}]),b}(l),p=function(a){function b(a){j(this,b);var c=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var a=null;if(this.renderInteractiveForms){if(this.data.multiLine?(a=document.createElement("textarea")).textContent=this.data.fieldValue:((a=document.createElement("input")).type="text",a.setAttribute("value",this.data.fieldValue)),a.disabled=this.data.readOnly,null!==this.data.maxLen&&(a.maxLength=this.data.maxLen),this.data.comb){var b=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;a.classList.add("comb"),a.style.letterSpacing="calc("+b+"px - 1ch)"}}else{(a=document.createElement("div")).textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell";var c=null;this.data.fontRefName&&(c=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(a,c)}return null!==this.data.textAlignment&&(a.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(a),this.container}},{key:"_setTextStyle",value:function(a,b){var c=a.style;c.fontSize=this.data.fontSize+"px",c.direction=this.data.fontDirection<0?"rtl":"ltr",b&&(c.fontWeight=b.black?b.bold?"900":"bold":b.bold?"bold":"normal",c.fontStyle=b.italic?"italic":"normal",c.fontFamily=(b.loadedName?'"'+b.loadedName+'", ':"")+(b.fallbackName||"Helvetica, sans-serif"))}}]),b}(o),q=function(a){function b(a){return j(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}]),b}(o),r=function(a){function b(a){return j(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="radio",a.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}]),b}(o),s=function(a){function b(){return j(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,a),e(b,[{key:"render",value:function(){var a=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);return a.className="buttonWidgetAnnotation pushButton",a}}]),b}(m),t=function(a){function b(a){return j(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly,!this.data.combo&&(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));for(var b=0,c=this.data.options.length;b<c;b++){var d=this.data.options[b],e=document.createElement("option");e.textContent=d.displayValue,e.value=d.exportValue,this.data.fieldValue.includes(d.displayValue)&&e.setAttribute("selected",!0),a.appendChild(e)}return this.container.appendChild(a),this.container}}]),b}(o),u=function(a){function b(a){j(this,b);var c=!!(a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return i(b,a),e(b,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon"].includes(this.data.parentType))return this.container;var a='[data-annotation-id="'+this.data.parentId+'"]',b=this.layer.querySelector(a);if(!b)return this.container;var c=new v({container:this.container,trigger:b,color:this.data.color,title:this.data.title,contents:this.data.contents}),d=parseFloat(b.style.left),e=parseFloat(b.style.width);return this.container.style.transformOrigin=-(d+e)+"px -"+b.style.top,this.container.style.left=d+e+"px",this.container.appendChild(c.render()),this.container}}]),b}(l),v=function(){function a(b){j(this,a),this.container=b.container,this.trigger=b.trigger,this.color=b.color,this.title=b.title,this.contents=b.contents,this.hideWrapper=b.hideWrapper||!1,this.pinned=!1}return e(a,[{key:"render",value:function(){var a=document.createElement("div");a.className="popupWrapper",this.hideElement=this.hideWrapper?a:this.container,this.hideElement.setAttribute("hidden",!0);var b=document.createElement("div");b.className="popup";var c=this.color;if(c){var d=.7*(255-c[0])+c[0],e=.7*(255-c[1])+c[1],f=.7*(255-c[2])+c[2];b.style.backgroundColor=g.Util.makeCssRgb(0|d,0|e,0|f)}var h=this._formatContents(this.contents),i=document.createElement("h1");return i.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),b.addEventListener("click",this._hide.bind(this,!0)),b.appendChild(i),b.appendChild(h),a.appendChild(b),a}},{key:"_formatContents",value:function(a){for(var b=document.createElement("p"),c=a.split(/(?:\r\n?|\n)/),d=0,e=c.length;d<e;++d){var f=c[d];b.appendChild(document.createTextNode(f)),d<e-1&&b.appendChild(document.createElement("br"))}return b}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var a=!(arguments.length>0)||void 0===arguments[0]||arguments[0];a&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),a}(),w=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=this.svgFactory.createElement("svg:line");return e.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]),e.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]),e.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]),e.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]),e.setAttribute("stroke-width",a.borderStyle.width),e.setAttribute("stroke","transparent"),d.appendChild(e),this.container.append(d),this._createPopup(this.container,e,a),this.container}}]),b}(l),x=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:rect");return f.setAttribute("x",e/2),f.setAttribute("y",e/2),f.setAttribute("width",b-e),f.setAttribute("height",c-e),f.setAttribute("stroke-width",e),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),d.appendChild(f),this.container.append(d),this._createPopup(this.container,f,a),this.container}}]),b}(l),y=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");return f.setAttribute("cx",b/2),f.setAttribute("cy",c/2),f.setAttribute("rx",b/2-e/2),f.setAttribute("ry",c/2-e/2),f.setAttribute("stroke-width",e),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),d.appendChild(f),this.container.append(d),this._createPopup(this.container,f,a),this.container}}]),b}(l),z=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents),d=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0));return d.containerClassName="polylineAnnotation",d.svgElementName="svg:polyline",d}return i(b,a),e(b,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.vertices,f=[],g=0,h=e.length;g<h;g++){var i=e[g].x-a.rect[0],j=a.rect[3]-e[g].y;f.push(i+","+j)}f=f.join(" ");var k=a.borderStyle.width,l=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",f),l.setAttribute("stroke-width",k),l.setAttribute("stroke","transparent"),l.setAttribute("fill","none"),d.appendChild(l),this.container.append(d),this._createPopup(this.container,l,a),this.container}}]),b}(l),A=function(a){function b(a){j(this,b);var c=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.containerClassName="polygonAnnotation",c.svgElementName="svg:polygon",c}return i(b,a),b}(z),B=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return i(b,a),e(b,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(l),C=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return i(b,a),e(b,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(l),D=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return i(b,a),e(b,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(l),E=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return i(b,a),e(b,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(l),F=function(a){function b(a){j(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return i(b,a),e(b,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(l),G=function(a){function b(a){j(this,b);var c=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,!0)),d=c.data.file;return c.filename=(0,f.getFilenameFromUrl)(d.filename),c.content=d.content,c.linkService.onFileAttachmentAnnotation({id:(0,g.stringToPDFString)(d.filename),filename:d.filename,content:d.content}),c}return i(b,a),e(b,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}},{key:"_download",value:function(){if(!this.downloadManager)return void(0,g.warn)("Download cannot be started due to unavailable download manager");this.downloadManager.downloadData(this.content,this.filename,"")}}]),b}(l);b.AnnotationLayer=function(){function a(){j(this,a)}return e(a,null,[{key:"render",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var d=a.annotations[b];if(d){var e=k.create({data:d,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new f.DOMSVGFactory});e.isRenderable&&a.div.appendChild(e.render())}}}},{key:"update",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var d=a.annotations[b],e=a.div.querySelector('[data-annotation-id="'+d.id+'"]');e&&(e.style.transform="matrix("+a.viewport.transform.join(",")+")")}a.div.removeAttribute("hidden")}}]),a}()},function(a,b,d){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SVGGraphics=void 0;var e,f=d(1),g=d(115),h=(e=d(4))&&e.__esModule?e:{default:e},i=function(){throw Error("Not implemented: SVGGraphics")},j="normal",k="#000000",l=function(){for(var a=new Uint8Array([137,80,78,71,13,10,26,10]),b=new Int32Array(256),d=0;d<256;d++){for(var e=d,g=0;g<8;g++)e=1&e?0xedb88320^e>>1&0x7fffffff:e>>1&0x7fffffff;b[d]=e}function i(a,c,d,e){var f=e,g=c.length;d[f]=g>>24&255,d[f+1]=g>>16&255,d[f+2]=g>>8&255,d[f+3]=255&g,d[f+=4]=255&a.charCodeAt(0),d[f+1]=255&a.charCodeAt(1),d[f+2]=255&a.charCodeAt(2),d[f+3]=255&a.charCodeAt(3),f+=4,d.set(c,f);var h=function(a,c,d){for(var e=-1,f=c;f<d;f++){var g=b[(e^a[f])&255];e=e>>>8^g}return -1^e}(d,e+4,f+=c.length);d[f]=h>>24&255,d[f+1]=h>>16&255,d[f+2]=h>>8&255,d[f+3]=255&h}function j(a){var b=a.length,c=Math.ceil(b/65535),d=new Uint8Array(2+b+5*c+4),e=0;d[e++]=120,d[e++]=156;for(var f=0;b>65535;)d[e++]=0,d[e++]=255,d[e++]=255,d[e++]=0,d[e++]=0,d.set(a.subarray(f,f+65535),e),e+=65535,f+=65535,b-=65535;d[e++]=1,d[e++]=255&b,d[e++]=b>>8&255,d[e++]=65535&~b&255,d[e++]=(65535&~b)>>8&255,d.set(a.subarray(f),e),e+=a.length-f;var g=function(a,b,c){for(var d=1,e=0,f=0;f<c;++f)e=(e+(d=(d+(255&a[f]))%65521))%65521;return e<<16|d}(a,0,a.length);return d[e++]=g>>24&255,d[e++]=g>>16&255,d[e++]=g>>8&255,d[e++]=255&g,d}return function(b,d,e){var g=void 0===b.kind?f.ImageKind.GRAYSCALE_1BPP:b.kind;return function(b,d,e,g){var k,l,m,n,o,p=b.width,q=b.height,r=b.data;switch(d){case f.ImageKind.GRAYSCALE_1BPP:l=0,k=1,m=p+7>>3;break;case f.ImageKind.RGB_24BPP:l=2,k=8,m=3*p;break;case f.ImageKind.RGBA_32BPP:l=6,k=8,m=4*p;break;default:throw Error("invalid format")}var s=new Uint8Array((1+m)*q),t=0,u=0;for(n=0;n<q;++n)s[t++]=0,s.set(r.subarray(u,u+m),t),u+=m,t+=m;if(d===f.ImageKind.GRAYSCALE_1BPP&&g)for(n=0,t=0;n<q;n++)for(t++,o=0;o<m;o++)s[t++]^=255;var v=new Uint8Array([p>>24&255,p>>16&255,p>>8&255,255&p,q>>24&255,q>>16&255,q>>8&255,255&q,k,l,0,0,0]),w=function(a){if(!(0,h.default)())return j(a);try{var b=parseInt(process.versions.node)>=8?a:new Buffer(a),d=c(74075).deflateSync(b,{level:9});return d instanceof Uint8Array?d:new Uint8Array(d)}catch(a){(0,f.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+a)}return j(a)}(s),x=new Uint8Array(a.length+36+v.length+w.length),y=0;return x.set(a,y),i("IHDR",v,x,y+=a.length),i("IDATA",w,x,y+=12+v.length),y+=12+w.length,i("IEND",new Uint8Array(0),x,y),(0,f.createObjectURL)(x,"image/png",e)}(b,g,d,e)}}(),m=function(){function a(){this.fontSizeScale=1,this.fontWeight=j,this.fontSize=0,this.textMatrix=f.IDENTITY_MATRIX,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=k,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a,this.y=b}},a}();b.SVGGraphics=i=function(){function a(a){if(Number.isInteger(a))return a.toString();var b=a.toFixed(10),c=b.length-1;if("0"!==b[c])return b;do c--;while("0"===b[c]);return b.substr(0,"."===b[c]?c:c+1)}function b(b){if(0===b[4]&&0===b[5]){if(0===b[1]&&0===b[2])return 1===b[0]&&1===b[3]?"":"scale("+a(b[0])+" "+a(b[3])+")";if(b[0]===b[3]&&b[1]===-b[2])return"rotate("+a(180*Math.acos(b[0])/Math.PI)+")"}else if(1===b[0]&&0===b[1]&&0===b[2]&&1===b[3])return"translate("+a(b[4])+" "+a(b[5])+")";return"matrix("+a(b[0])+" "+a(b[1])+" "+a(b[2])+" "+a(b[3])+" "+a(b[4])+" "+a(b[5])+")"}function c(a,b,c){this.svgFactory=new g.DOMSVGFactory,this.current=new m,this.transformMatrix=f.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=a,this.objs=b,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!c}var d="http://www.w3.org/1999/xlink",e=["butt","round","square"],h=["miter","round","bevel"],i=0,n=0;return c.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a),this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(a){this.save(),this.executeOpTree(a),this.restore()},loadDependencies:function(a){for(var b=this,c=a.fnArray,d=c.length,e=a.argsArray,g=0;g<d;g++)if(f.OPS.dependency===c[g])for(var h=e[g],i=0,j=h.length;i<j;i++){var k,l=h[i];k=new Promise("g_"===l.substring(0,2)?function(a){b.commonObjs.get(l,a)}:function(a){b.objs.get(l,a)}),this.current.dependencies.push(k)}return Promise.all(this.current.dependencies)},transform:function(a,b,c,d,e,g){this.transformMatrix=f.Util.transform(this.transformMatrix,[a,b,c,d,e,g]),this.tgrp=null},getSVG:function(a,b){var c=this;this.viewport=b;var d=this._initialize(b);return this.loadDependencies(a).then(function(){c.transformMatrix=f.IDENTITY_MATRIX;var b=c.convertOpList(a);return c.executeOpTree(b),d})},convertOpList:function(a){var b=a.argsArray,c=a.fnArray,d=c.length,e=[],g=[];for(var h in f.OPS)e[f.OPS[h]]=h;for(var i=0;i<d;i++){var j=c[i];g.push({fnId:j,fn:e[j],args:b[i]})}for(var k=[],l=[],m=g.length,n=0;n<m;n++){if("save"===g[n].fn){k.push({fnId:92,fn:"group",items:[]}),l.push(k),k=k[k.length-1].items;continue}"restore"===g[n].fn?k=l.pop():k.push(g[n])}return k},executeOpTree:function(a){for(var b=a.length,c=0;c<b;c++){var d=a[c].fn,e=a[c].fnId,g=a[c].args;switch(0|e){case f.OPS.beginText:this.beginText();break;case f.OPS.dependency:break;case f.OPS.setLeading:this.setLeading(g);break;case f.OPS.setLeadingMoveText:this.setLeadingMoveText(g[0],g[1]);break;case f.OPS.setFont:this.setFont(g);break;case f.OPS.showText:case f.OPS.showSpacedText:this.showText(g[0]);break;case f.OPS.endText:this.endText();break;case f.OPS.moveText:this.moveText(g[0],g[1]);break;case f.OPS.setCharSpacing:this.setCharSpacing(g[0]);break;case f.OPS.setWordSpacing:this.setWordSpacing(g[0]);break;case f.OPS.setHScale:this.setHScale(g[0]);break;case f.OPS.setTextMatrix:this.setTextMatrix(g[0],g[1],g[2],g[3],g[4],g[5]);break;case f.OPS.setTextRise:this.setTextRise(g[0]);break;case f.OPS.setLineWidth:this.setLineWidth(g[0]);break;case f.OPS.setLineJoin:this.setLineJoin(g[0]);break;case f.OPS.setLineCap:this.setLineCap(g[0]);break;case f.OPS.setMiterLimit:this.setMiterLimit(g[0]);break;case f.OPS.setFillRGBColor:this.setFillRGBColor(g[0],g[1],g[2]);break;case f.OPS.setStrokeRGBColor:this.setStrokeRGBColor(g[0],g[1],g[2]);break;case f.OPS.setDash:this.setDash(g[0],g[1]);break;case f.OPS.setGState:this.setGState(g[0]);break;case f.OPS.fill:this.fill();break;case f.OPS.eoFill:this.eoFill();break;case f.OPS.stroke:this.stroke();break;case f.OPS.fillStroke:this.fillStroke();break;case f.OPS.eoFillStroke:this.eoFillStroke();break;case f.OPS.clip:this.clip("nonzero");break;case f.OPS.eoClip:this.clip("evenodd");break;case f.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case f.OPS.paintJpegXObject:this.paintJpegXObject(g[0],g[1],g[2]);break;case f.OPS.paintImageXObject:this.paintImageXObject(g[0]);break;case f.OPS.paintInlineImageXObject:this.paintInlineImageXObject(g[0]);break;case f.OPS.paintImageMaskXObject:this.paintImageMaskXObject(g[0]);break;case f.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(g[0],g[1]);break;case f.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case f.OPS.closePath:this.closePath();break;case f.OPS.closeStroke:this.closeStroke();break;case f.OPS.closeFillStroke:this.closeFillStroke();break;case f.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case f.OPS.nextLine:this.nextLine();break;case f.OPS.transform:this.transform(g[0],g[1],g[2],g[3],g[4],g[5]);break;case f.OPS.constructPath:this.constructPath(g[0],g[1]);break;case f.OPS.endPath:this.endPath();break;case 92:this.group(a[c].items);break;default:(0,f.warn)("Unimplemented operator "+d)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(b,c,d,e,f,g){var h=this.current;this.current.textMatrix=this.current.lineMatrix=[b,c,d,e,f,g],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,h.xcoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",a(h.fontSize)+"px"),h.tspan.setAttributeNS(null,"y",a(-h.y)),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtElement.appendChild(h.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=f.IDENTITY_MATRIX,this.current.lineMatrix=f.IDENTITY_MATRIX,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.txtElement=this.svgFactory.createElement("svg:text"),this.current.txtgrp=this.svgFactory.createElement("svg:g"),this.current.xcoords=[]},moveText:function(b,c){var d=this.current;this.current.x=this.current.lineX+=b,this.current.y=this.current.lineY+=c,d.xcoords=[],d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px"),d.tspan.setAttributeNS(null,"y",a(-d.y))},showText:function(c){var d=this.current,e=d.font,g=d.fontSize;if(0!==g){var h,i=d.charSpacing,l=d.wordSpacing,m=d.fontDirection,n=d.textHScale*m,o=c.length,p=e.vertical,q=g*d.fontMatrix[0],r=0;for(h=0;h<o;++h){var s=c[h];if(null===s){r+=m*l;continue}if((0,f.isNum)(s)){r+=-s*g*.001;continue}var t=s.width,u=s.fontChar,v=t*q+((s.isSpace?l:0)+i)*m;if(!s.isInFont&&!e.missingFile){r+=v;continue}d.xcoords.push(d.x+r*n),d.tspan.textContent+=u,r+=v}p?d.y-=r*n:d.x+=r*n,d.tspan.setAttributeNS(null,"x",d.xcoords.map(a).join(" ")),d.tspan.setAttributeNS(null,"y",a(-d.y)),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px"),"normal"!==d.fontStyle&&d.tspan.setAttributeNS(null,"font-style",d.fontStyle),d.fontWeight!==j&&d.tspan.setAttributeNS(null,"font-weight",d.fontWeight),d.fillColor!==k&&d.tspan.setAttributeNS(null,"fill",d.fillColor);var w=d.textMatrix;0!==d.textRise&&(w=w.slice(),w[5]+=d.textRise),d.txtElement.setAttributeNS(null,"transform",b(w)+" scale(1, -1)"),d.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),d.txtElement.appendChild(d.tspan),d.txtgrp.appendChild(d.txtElement),this._ensureTransformGroup().appendChild(d.txtElement)}},setLeadingMoveText:function(a,b){this.setLeading(-b),this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=(0,f.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+a.loadedName+'"; src: url('+b+"); }\n"},setFont:function(b){var c=this.current,d=this.commonObjs.get(b[0]),e=b[1];this.current.font=d,this.embedFonts&&d.data&&!this.embeddedFonts[d.loadedName]&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d),c.fontMatrix=d.fontMatrix?d.fontMatrix:f.FONT_IDENTITY_MATRIX;var g=d.black?d.bold?"bolder":"bold":d.bold?"bold":"normal",h=d.italic?"italic":"normal";e<0?(e=-e,c.fontDirection=-1):c.fontDirection=1,c.fontSize=e,c.fontFamily=d.loadedName,c.fontWeight=g,c.fontStyle=h,c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"y",a(-c.y)),c.xcoords=[]},endText:function(){},setLineWidth:function(a){this.current.lineWidth=a},setLineCap:function(a){this.current.lineCap=e[a]},setLineJoin:function(a){this.current.lineJoin=h[a]},setMiterLimit:function(a){this.current.miterLimit=a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,b,c){var d=f.Util.makeCssRgb(a,b,c);this.current.strokeColor=d},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,b,c){var d=f.Util.makeCssRgb(a,b,c);this.current.fillColor=d,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]},setDash:function(a,b){this.current.dashArray=a,this.current.dashPhase=b},constructPath:function(b,c){var d=this.current,e=d.x,g=d.y;d.path=this.svgFactory.createElement("svg:path");for(var h=[],i=b.length,j=0,k=0;j<i;j++)switch(0|b[j]){case f.OPS.rectangle:e=c[k++],g=c[k++];var l=c[k++],m=c[k++],n=e+l,o=g+m;h.push("M",a(e),a(g),"L",a(n),a(g),"L",a(n),a(o),"L",a(e),a(o),"Z");break;case f.OPS.moveTo:e=c[k++],g=c[k++],h.push("M",a(e),a(g));break;case f.OPS.lineTo:e=c[k++],g=c[k++],h.push("L",a(e),a(g));break;case f.OPS.curveTo:e=c[k+4],g=c[k+5],h.push("C",a(c[k]),a(c[k+1]),a(c[k+2]),a(c[k+3]),a(e),a(g)),k+=6;break;case f.OPS.curveTo2:e=c[k+2],g=c[k+3],h.push("C",a(e),a(g),a(c[k]),a(c[k+1]),a(c[k+2]),a(c[k+3])),k+=4;break;case f.OPS.curveTo3:e=c[k+2],g=c[k+3],h.push("C",a(c[k]),a(c[k+1]),a(e),a(g),a(e),a(g)),k+=4;break;case f.OPS.closePath:h.push("Z")}d.path.setAttributeNS(null,"d",h.join(" ")),d.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(d.path),d.element=d.path,d.setCurrentPoint(e,g)},endPath:function(){if(this.pendingClip){var a=this.current,c="clippath"+i;i++;var d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,"id",c),d.setAttributeNS(null,"transform",b(this.transformMatrix));var e=a.element.cloneNode();"evenodd"===this.pendingClip?e.setAttributeNS(null,"clip-rule","evenodd"):e.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,d.appendChild(e),this.defs.appendChild(d),a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}),d.setAttributeNS(null,"clip-path",a.activeClipUrl)),a.activeClipUrl="url(#"+c+")",this.tgrp=null}},clip:function(a){this.pendingClip=a},closePath:function(){var a=this.current;if(a.path){var b=a.path.getAttributeNS(null,"d");b+="Z",a.path.setAttributeNS(null,"d",b)}},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[0],g=d[1];switch(e){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"Font":this.setFont(g);break;case"CA":this.setStrokeAlpha(g);break;case"ca":this.setFillAlpha(g);break;default:(0,f.warn)("Unimplemented graphic state "+e)}}},fill:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())},stroke:function(){var b=this.current;b.element&&(b.element.setAttributeNS(null,"stroke",b.strokeColor),b.element.setAttributeNS(null,"stroke-opacity",b.strokeAlpha),b.element.setAttributeNS(null,"stroke-miterlimit",a(b.miterLimit)),b.element.setAttributeNS(null,"stroke-linecap",b.lineCap),b.element.setAttributeNS(null,"stroke-linejoin",b.lineJoin),b.element.setAttributeNS(null,"stroke-width",a(b.lineWidth)+"px"),b.element.setAttributeNS(null,"stroke-dasharray",b.dashArray.map(a).join(" ")),b.element.setAttributeNS(null,"stroke-dashoffset",a(b.dashPhase)+"px"),b.element.setAttributeNS(null,"fill","none"),this.endPath())},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.closePath(),this.eoFillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width","1px"),b.setAttributeNS(null,"height","1px"),b.setAttributeNS(null,"fill",a.fillColor),this._ensureTransformGroup().appendChild(b)},paintJpegXObject:function(b,c,e){var f=this.objs.get(b),g=this.svgFactory.createElement("svg:image");g.setAttributeNS(d,"xlink:href",f.src),g.setAttributeNS(null,"width",a(c)),g.setAttributeNS(null,"height",a(e)),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",a(-e)),g.setAttributeNS(null,"transform","scale("+a(1/c)+" "+a(-1/e)+")"),this._ensureTransformGroup().appendChild(g)},paintImageXObject:function(a){var b=this.objs.get(a);if(!b)return void(0,f.warn)("Dependent image isn't ready yet");this.paintInlineImageXObject(b)},paintInlineImageXObject:function(b,c){var e=b.width,f=b.height,g=l(b,this.forceDataSchema,!!c),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",a(e)),h.setAttributeNS(null,"height",a(f)),this.current.element=h,this.clip("nonzero");var i=this.svgFactory.createElement("svg:image");i.setAttributeNS(d,"xlink:href",g),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",a(-f)),i.setAttributeNS(null,"width",a(e)+"px"),i.setAttributeNS(null,"height",a(f)+"px"),i.setAttributeNS(null,"transform","scale("+a(1/e)+" "+a(-1/f)+")"),c?c.appendChild(i):this._ensureTransformGroup().appendChild(i)},paintImageMaskXObject:function(b){var c=this.current,d=b.width,e=b.height,f=c.fillColor;c.maskId="mask"+n++;var g=this.svgFactory.createElement("svg:mask");g.setAttributeNS(null,"id",c.maskId);var h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",a(d)),h.setAttributeNS(null,"height",a(e)),h.setAttributeNS(null,"fill",f),h.setAttributeNS(null,"mask","url(#"+c.maskId+")"),this.defs.appendChild(g),this._ensureTransformGroup().appendChild(h),this.paintInlineImageXObject(b,g)},paintFormXObjectBegin:function(b,c){if(Array.isArray(b)&&6===b.length&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]),Array.isArray(c)&&4===c.length){var d=c[2]-c[0],e=c[3]-c[1],f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",c[0]),f.setAttributeNS(null,"y",c[1]),f.setAttributeNS(null,"width",a(d)),f.setAttributeNS(null,"height",a(e)),this.current.element=f,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(a){var c=this.svgFactory.create(a.width,a.height),d=this.svgFactory.createElement("svg:defs");c.appendChild(d),this.defs=d;var e=this.svgFactory.createElement("svg:g");return e.setAttributeNS(null,"transform",b(a.transform)),c.appendChild(e),this.svg=e,c},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(a),this.current.clipGroup=a}return this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",b(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},c}(),b.SVGGraphics=i},function(a,b,d){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFNodeStream=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=d(1),g=d(130);function h(a,b){if(!a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function i(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function j(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var k=c(29021),l=c(81630),m=c(55591),n=c(79551),o=/^file:\/\/\/[a-zA-Z]:\//,p=function(){function a(b){var c,d;j(this,a),this.source=b,this.url=(c=b.url,"file:"===(d=n.parse(c)).protocol||d.host?d:/^[a-z]:[/\\]/i.test(c)?n.parse("file:///"+c):(d.host||(d.protocol="file:"),d)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequest=null,this._rangeRequestReaders=[]}return e(a,[{key:"getFullReader",value:function(){return(0,f.assert)(!this._fullRequest),this._fullRequest=this.isFsUrl?new v(this):new t(this),this._fullRequest}},{key:"getRangeReader",value:function(a,b){var c=this.isFsUrl?new w(this,a,b):new u(this,a,b);return this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a),this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]),a}(),q=function(){function a(b){j(this,a),this._url=b.url,this._done=!1,this._errored=!1,this._reason=null,this.onProgress=null;var c=b.source;this._contentLength=c.length,this._loaded=0,this._filename=null,this._disableRange=c.disableRange||!1,this._rangeChunkSize=c.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._headersCapability=(0,f.createPromiseCapability)()}return e(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();return null===b?(a._readCapability=(0,f.createPromiseCapability)(),a.read()):(a._loaded+=b.length,a.onProgress&&a.onProgress({loaded:a._loaded,total:a._contentLength}),Promise.resolve({value:new Uint8Array(b).buffer,done:!1}))})}},{key:"cancel",value:function(a){if(!this._readableStream)return void this._error(a);this._readableStream.destroy(a)}},{key:"_error",value:function(a){this._errored=!0,this._reason=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled")),this._errored&&this._readableStream.destroy(this._reason)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),r=function(){function a(b){j(this,a),this._url=b.url,this._done=!1,this._errored=!1,this._reason=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)();var c=b.source;this._isStreamingSupported=!c.disableStream}return e(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();return null===b?(a._readCapability=(0,f.createPromiseCapability)(),a.read()):(a._loaded+=b.length,a.onProgress&&a.onProgress({loaded:a._loaded}),Promise.resolve({value:new Uint8Array(b).buffer,done:!1}))})}},{key:"cancel",value:function(a){if(!this._readableStream)return void this._error(a);this._readableStream.destroy(a)}},{key:"_error",value:function(a){this._errored=!0,this._reason=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),this._errored&&this._readableStream.destroy(this._reason)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}();function s(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}var t=function(a){function b(a){j(this,b);var c=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=function(b){c._headersCapability.resolve(),c._setReadableStream(b);var d=function(a){return c._readableStream.headers[a.toLowerCase()]},e=(0,g.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:a.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),f=e.allowRangeRequests,h=e.suggestedLength;c._isRangeSupported=f,c._contentLength=h||c._contentLength,c._filename=(0,g.extractFilenameFromHeader)(d)};return c._request=null,"http:"===c._url.protocol?c._request=l.request(s(c._url,a.httpHeaders),d):c._request=m.request(s(c._url,a.httpHeaders),d),c._request.on("error",function(a){c._errored=!0,c._reason=a,c._headersCapability.reject(a)}),c._request.end(),c}return i(b,a),b}(q),u=function(a){function b(a,c,d){j(this,b);var e=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));for(var f in e._httpHeaders={},a.httpHeaders){var g=a.httpHeaders[f];void 0!==g&&(e._httpHeaders[f]=g)}return e._httpHeaders.Range="bytes="+c+"-"+(d-1),e._request=null,"http:"===e._url.protocol?e._request=l.request(s(e._url,e._httpHeaders),function(a){e._setReadableStream(a)}):e._request=m.request(s(e._url,e._httpHeaders),function(a){e._setReadableStream(a)}),e._request.on("error",function(a){e._errored=!0,e._reason=a}),e._request.end(),e}return i(b,a),b}(r),v=function(a){function b(a){j(this,b);var c=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=decodeURIComponent(c._url.path);return o.test(c._url.href)&&(d=d.replace(/^\//,"")),k.lstat(d,function(a,b){if(a){c._errored=!0,c._reason=a,c._headersCapability.reject(a);return}c._contentLength=b.size,c._setReadableStream(k.createReadStream(d)),c._headersCapability.resolve()}),c}return i(b,a),b}(q),w=function(a){function b(a,c,d){j(this,b);var e=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),f=decodeURIComponent(e._url.path);return o.test(e._url.href)&&(f=f.replace(/^\//,"")),e._setReadableStream(k.createReadStream(f,{start:c,end:d-1})),e}return i(b,a),b}(r);b.PDFNodeStream=p},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateResponseStatus=b.validateRangeRequestCapabilities=b.extractFilenameFromHeader=b.createResponseStatusError=void 0;var d=c(1),e=c(131);b.createResponseStatusError=function(a,b){return 404===a||0===a&&/^file:/.test(b)?new d.MissingPDFException('Missing PDF "'+b+'".'):new d.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+b+'".',a)},b.extractFilenameFromHeader=function(a){var b=a("Content-Disposition");if(b){var c=(0,e.getFilenameFromContentDispositionHeader)(b);if(/\.pdf$/i.test(c))return c}return null},b.validateRangeRequestCapabilities=function(a){var b=a.getResponseHeader,c=a.isHttp,e=a.rangeChunkSize,f=a.disableRange;(0,d.assert)(e>0,"Range chunk size must be larger than zero");var g={allowRangeRequests:!1,suggestedLength:void 0};if(f||!c||"bytes"!==b("Accept-Ranges")||"identity"!==(b("Content-Encoding")||"identity"))return g;var h=parseInt(b("Content-Length"),10);return Number.isInteger(h)&&(g.suggestedLength=h,h<=2*e||(g.allowRangeRequests=!0)),g},b.validateResponseStatus=function(a){return 200===a||206===a}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}(a,b);throw TypeError("Invalid attempt to destructure non-iterable instance")};b.getFilenameFromContentDispositionHeader=function(a){var b=!0,c=g("filename\\*","i").exec(a);if(c){var e=j(c=c[1]);return i(e=l(e=k(e=unescape(e))))}if(c=function(a){for(var b=[],c=void 0,e=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(c=e.exec(a));){var f=d(c,4),h=f[1],i=f[2],l=f[3];if((h=parseInt(h,10))in b){if(0===h)break;continue}b[h]=[i,l]}for(var m=[],n=0;n<b.length&&n in b;++n){var o=d(b[n],2),p=o[0],q=o[1];q=j(q),p&&(q=unescape(q),0===n&&(q=k(q))),m.push(q)}return m.join("")}(a))return i(l(c));if(c=g("filename","i").exec(a)){var f=j(c=c[1]);return i(f=l(f))}function g(a,b){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function h(a,c){if(a){if(!/^[\x00-\xFF]+$/.test(c))return c;try{for(var d=new TextDecoder(a,{fatal:!0}),e=Array(c.length),f=0;f<c.length;++f)e[f]=c.charCodeAt(f);c=d.decode(new Uint8Array(e)),b=!1}catch(d){if(/^utf-?8$/i.test(a))try{c=decodeURIComponent(escape(c)),b=!1}catch(a){}}}return c}function i(a){return b&&/[\x80-\xff]/.test(a)&&(a=h("utf-8",a),b&&(a=h("iso-8859-1",a))),a}function j(a){if('"'===a.charAt(0)){for(var b=a.slice(1).split('\\"'),c=0;c<b.length;++c){var d=b[c].indexOf('"');-1!==d&&(b[c]=b[c].slice(0,d),b.length=c+1),b[c]=b[c].replace(/\\(.)/g,"$1")}a=b.join('"')}return a}function k(a){var b=a.indexOf("'");return -1===b?a:h(a.slice(0,b),a.slice(b+1).replace(/^[^']*'/,""))}function l(a){return"=?"!==a.slice(0,2)||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,b,c,d){if("q"===c||"Q"===c)return h(b,d=(d=d.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(a,b){return String.fromCharCode(parseInt(b,16))}));try{d=atob(d)}catch(a){}return h(b,d)})}return""}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFFetchStream=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(1),f=c(130);function g(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function h(a,b,c){return{method:"GET",headers:a,signal:c&&c.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}var i=function(){function a(b){g(this,a),this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return d(a,[{key:"getFullReader",value:function(){return(0,e.assert)(!this._fullRequestReader),this._fullRequestReader=new j(this),this._fullRequestReader}},{key:"getRangeReader",value:function(a,b){var c=new k(this,a,b);return this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a),this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]),a}(),j=function(){function a(b){var c=this;g(this,a),this._stream=b,this._reader=null,this._loaded=0,this._filename=null;var d=b.source;for(var i in this._withCredentials=d.withCredentials,this._contentLength=d.length,this._headersCapability=(0,e.createPromiseCapability)(),this._disableRange=d.disableRange||!1,this._rangeChunkSize=d.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._headers=new Headers,this._stream.httpHeaders){var j=this._stream.httpHeaders[i];void 0!==j&&this._headers.append(i,j)}var k=d.url;fetch(k,h(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,f.validateResponseStatus)(a.status))throw(0,f.createResponseStatusError)(a.status,k);c._reader=a.body.getReader(),c._headersCapability.resolve();var b=function(b){return a.headers.get(b)},d=(0,f.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:c._stream.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),g=d.allowRangeRequests,h=d.suggestedLength;c._isRangeSupported=g,c._contentLength=h||c._contentLength,c._filename=(0,f.extractFilenameFromHeader)(b),!c._isStreamingSupported&&c._isRangeSupported&&c.cancel(new e.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject),this.onProgress=null}return d(a,[{key:"read",value:function(){var a=this;return this._headersCapability.promise.then(function(){return a._reader.read().then(function(b){var c=b.value,d=b.done;return d?Promise.resolve({value:c,done:d}):(a._loaded+=c.byteLength,a.onProgress&&a.onProgress({loaded:a._loaded,total:a._contentLength}),Promise.resolve({value:new Uint8Array(c).buffer,done:!1}))})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),k=function(){function a(b,c,d){var i=this;g(this,a),this._stream=b,this._reader=null,this._loaded=0;var j=b.source;for(var k in this._withCredentials=j.withCredentials,this._readCapability=(0,e.createPromiseCapability)(),this._isStreamingSupported=!j.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=new Headers,this._stream.httpHeaders){var l=this._stream.httpHeaders[k];void 0!==l&&this._headers.append(k,l)}this._headers.append("Range","bytes="+c+"-"+(d-1));var m=j.url;fetch(m,h(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,f.validateResponseStatus)(a.status))throw(0,f.createResponseStatusError)(a.status,m);i._readCapability.resolve(),i._reader=a.body.getReader()}),this.onProgress=null}return d(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){return a._reader.read().then(function(b){var c=b.value,d=b.done;return d?Promise.resolve({value:c,done:d}):(a._loaded+=c.byteLength,a.onProgress&&a.onProgress({loaded:a._loaded}),Promise.resolve({value:new Uint8Array(c).buffer,done:!1}))})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}();b.PDFFetchStream=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NetworkManager=b.PDFNetworkStream=void 0;var d,e=c(1),f=c(130),g=(d=c(3))&&d.__esModule?d:{default:d};function h(a,b){this.url=a,b=b||{},this.isHttp=/^https?:/i.test(a),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function i(a){var b=a.response;return"string"!=typeof b?b:(0,e.stringToBytes)(b).buffer}var j=function(){try{var a=new XMLHttpRequest;return a.open("GET",g.default.location.href),a.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===a.responseType}catch(a){return!1}}();function k(a){this._source=a,this._manager=new h(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials}),this._rangeChunkSize=a.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function l(a,b){this._manager=a;var c={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:b.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._fullRequestId=a.requestFull(c),this._headersReceivedCapability=(0,e.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}function m(a,b,c){this._manager=a;var d={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=a.requestRange(b,c,d),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}h.prototype={requestRange:function(a,b,c){var d={begin:a,end:b};for(var e in c)d[e]=c[e];return this.request(d)},requestFull:function(a){return this.request(a)},request:function(a){var b=this.getXhr(),c=this.currXhrId++,d=this.pendingRequests[c]={xhr:b};for(var e in b.open("GET",this.url),b.withCredentials=this.withCredentials,this.httpHeaders){var f=this.httpHeaders[e];void 0!==f&&b.setRequestHeader(e,f)}if(this.isHttp&&"begin"in a&&"end"in a){var g=a.begin+"-"+(a.end-1);b.setRequestHeader("Range","bytes="+g),d.expectedStatus=206}else d.expectedStatus=200;return j&&a.onProgressiveData?(b.responseType="moz-chunked-arraybuffer",d.onProgressiveData=a.onProgressiveData,d.mozChunked=!0):b.responseType="arraybuffer",a.onError&&(b.onerror=function(c){a.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,c),b.onprogress=this.onProgress.bind(this,c),d.onHeadersReceived=a.onHeadersReceived,d.onDone=a.onDone,d.onError=a.onError,d.onProgress=a.onProgress,b.send(null),c},onProgress:function(a,b){var c=this.pendingRequests[a];if(c){if(c.mozChunked){var d=i(c.xhr);c.onProgressiveData(d)}var e=c.onProgress;e&&e(b)}},onStateChange:function(a,b){var c=this.pendingRequests[a];if(c){var d=c.xhr;if((d.readyState>=2&&c.onHeadersReceived&&(c.onHeadersReceived(),delete c.onHeadersReceived),4===d.readyState)&&a in this.pendingRequests){if(delete this.pendingRequests[a],0===d.status&&this.isHttp){c.onError&&c.onError(d.status);return}var e=d.status||200;if((200!==e||206!==c.expectedStatus)&&e!==c.expectedStatus){c.onError&&c.onError(d.status);return}this.loadedRequests[a]=!0;var f=i(d);if(206===e){var g=d.getResponseHeader("Content-Range"),h=parseInt(/bytes (\d+)-(\d+)\/(\d+)/.exec(g)[1],10);c.onDone({begin:h,chunk:f})}else c.onProgressiveData?c.onDone(null):f?c.onDone({begin:0,chunk:f}):c.onError&&c.onError(d.status)}}},hasPendingRequests:function(){for(var a in this.pendingRequests)return!0;return!1},getRequestXhr:function(a){return this.pendingRequests[a].xhr},isStreamingRequest:function(a){return!!this.pendingRequests[a].onProgressiveData},isPendingRequest:function(a){return a in this.pendingRequests},isLoadedRequest:function(a){return a in this.loadedRequests},abortAllRequests:function(){for(var a in this.pendingRequests)this.abortRequest(0|a)},abortRequest:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a],b.abort()}},k.prototype={_onRangeRequestReaderClosed:function(a){var b=this._rangeRequestReaders.indexOf(a);b>=0&&this._rangeRequestReaders.splice(b,1)},getFullReader:function(){return(0,e.assert)(!this._fullRequestReader),this._fullRequestReader=new l(this._manager,this._source),this._fullRequestReader},getRangeReader:function(a,b){var c=new m(this._manager,a,b);return c.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(c),c},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a),this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}},l.prototype={_onHeadersReceived:function(){var a=this._fullRequestId,b=this._manager.getRequestXhr(a),c=function(a){return b.getResponseHeader(a)},d=(0,f.validateRangeRequestCapabilities)({getResponseHeader:c,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),e=d.allowRangeRequests,g=d.suggestedLength;e&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(c);var h=this._manager;h.isStreamingRequest(a)?this._isStreamingSupported=!0:this._isRangeSupported&&h.abortRequest(a),this._headersReceivedCapability.resolve()},_onProgressiveData:function(a){this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._cachedChunks.push(a)},_onDone:function(a){a&&this._onProgressiveData(a.chunk),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(a){var b=this._url,c=(0,f.createResponseStatusError)(a,b);this._storedError=c,this._headersReceivedCapability.reject(c),this._requests.forEach(function(a){a.reject(c)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(a){this.onProgress&&this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){if(this._storedError)return Promise.reject(this._storedError);if(this._cachedChunks.length>0)return Promise.resolve({value:this._cachedChunks.shift(),done:!1});if(this._done)return Promise.resolve({value:void 0,done:!0});var a=(0,e.createPromiseCapability)();return this._requests.push(a),a.promise},cancel:function(a){this._done=!0,this._headersReceivedCapability.reject(a),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},m.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(a){var b=a.chunk;this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b,this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(a){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:a.loaded})},get isStreamingSupported(){return!1},read:function(){if(null!==this._queuedChunk){var a=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var b=(0,e.createPromiseCapability)();return this._requests.push(b),b.promise},cancel:function(a){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},b.PDFNetworkStream=k,b.NetworkManager=h}],b={};function d(c){if(b[c])return b[c].exports;var e=b[c]={i:c,l:!1,exports:{}};return a[c].call(e.exports,e,e.exports,d),e.l=!0,e.exports}return d.m=a,d.c=b,d.d=function(a,b,c){d.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,get:c})},d.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},d.t=function(a,b){if(1&b&&(a=d(a)),8&b||4&b&&"object"==typeof a&&a&&a.__esModule)return a;var c=Object.create(null);if(d.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&b&&"string"!=typeof a)for(var e in a)d.d(c,e,(function(b){return a[b]}).bind(null,e));return c},d.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return d.d(b,"a",b),b},d.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},d.p="",d(d.s=0)}()}};