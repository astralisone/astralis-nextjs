(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4944],{11647:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(95155),l=a(64269);let r={default:"bg-slate-100 text-slate-700",primary:"bg-astralis-blue/10 text-astralis-blue",secondary:"bg-slate-200 text-slate-800",success:"bg-green-100 text-green-700",warning:"bg-orange-100 text-orange-700",error:"bg-red-100 text-red-700"};function i(e){let{children:s,className:a,variant:i="default",title:n}=e;return(0,t.jsx)("span",{className:(0,l.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r[i],a),title:n,children:s})}},21978:(e,s,a)=>{"use strict";a.d(s,{DashboardSidebar:()=>L});var t=a(95155),l=a(52619),r=a.n(l),i=a(20063),n=a(36489),d=a(25959),c=a(89863);let o=(0,d.v)()((0,c.Zr)(e=>({sidebarCollapsed:!1,toggleSidebar:()=>e(e=>({sidebarCollapsed:!e.sidebarCollapsed})),setSidebarCollapsed:s=>e({sidebarCollapsed:s}),activeOrgId:null,setActiveOrgId:s=>e({activeOrgId:s}),activeFilters:{},updateFilters:s=>e(e=>({activeFilters:{...e.activeFilters,...s}})),clearFilters:()=>e({activeFilters:{}})}),{name:"dashboard-storage",partialize:e=>({sidebarCollapsed:e.sidebarCollapsed,activeOrgId:e.activeOrgId})}));var m=a(59384),x=a(39332),h=a(43465),f=a(89715),u=a(16485),p=a(56154),b=a(15870),j=a(27937),g=a(90368),N=a(85998),w=a(20508),v=a(84926),y=a(64269),A=a(12115),C=a(71871),k=a(74054),O=a(5917);function z(e){var s;let{currentOrgId:a,variant:l="header"}=e,{data:r}=(0,n.useSession)(),d=(0,i.useRouter)(),[c,o]=(0,A.useState)(!1),m=[{id:a,name:(null==r||null==(s=r.user)?void 0:s.name)||"My Organization"}],x=m.find(e=>e.id===a),h=async e=>{if(e===a)return void o(!1);try{if(!(await fetch("/api/auth/org/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:e})})).ok)throw Error("Failed to switch organization");d.refresh(),d.push("/dashboard"),o(!1)}catch(e){console.error("Error switching organization:",e)}};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>o(!c),className:(0,y.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors w-full","header"===l?"hover:bg-slate-100":"hover:bg-white/10 border border-white/20"),"aria-label":"Organization switcher",children:[(0,t.jsx)(C.A,{className:(0,y.cn)("h-5 w-5","header"===l?"text-slate-600":"text-white")}),(0,t.jsx)("span",{className:(0,y.cn)("text-sm font-medium flex-1 text-left truncate","header"===l?"text-slate-700":"text-white"),children:(null==x?void 0:x.name)||"Organization"}),(0,t.jsx)(k.A,{className:(0,y.cn)("h-5 w-5","header"===l?"text-slate-400":"text-slate-300")})]}),c&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1),"aria-hidden":"true"}),(0,t.jsxs)("div",{className:"absolute left-0 mt-2 w-full min-w-[200px] bg-white rounded-lg shadow-lg border border-slate-200 z-50 py-2",children:[(0,t.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-slate-500 uppercase",children:"Organizations"}),m.map(e=>(0,t.jsxs)("button",{onClick:()=>h(e.id),className:(0,y.cn)("w-full flex items-center justify-between px-3 py-2 hover:bg-slate-50 transition-colors",e.id===a&&"bg-slate-50"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-sm",children:e.name})]}),e.id===a&&(0,t.jsx)(O.A,{className:"h-5 w-5 text-astralis-blue"})]},e.id))]})]})]})}var R=a(11647),S=a(37738),P=a(99051);let U=S.bL,F=S.l9;S.YJ,S.ZL,S.Pb,S.z6,A.forwardRef((e,s)=>{let{className:a,inset:l,children:r,...i}=e;return(0,t.jsxs)(S.ZP,{ref:s,className:(0,y.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 data-[state=open]:bg-slate-100",l&&"pl-8",a),...i,children:[r,(0,t.jsx)(j.A,{className:"ml-auto h-4 w-4"})]})}).displayName=S.ZP.displayName,A.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(S.G5,{ref:s,className:(0,y.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-900 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=S.G5.displayName;let I=A.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,t.jsx)(S.ZL,{children:(0,t.jsx)(S.UC,{ref:s,sideOffset:l,className:(0,y.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-900 shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});I.displayName=S.UC.displayName;let E=A.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(S.q7,{ref:s,className:(0,y.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",a),...r})});E.displayName=S.q7.displayName,A.forwardRef((e,s)=>{let{className:a,children:l,checked:r,...i}=e;return(0,t.jsxs)(S.H_,{ref:s,className:(0,y.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(S.VF,{children:(0,t.jsx)(O.A,{className:"h-4 w-4"})})}),l]})}).displayName=S.H_.displayName,A.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(S.hN,{ref:s,className:(0,y.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(S.VF,{children:(0,t.jsx)(P.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=S.hN.displayName;let _=A.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(S.JU,{ref:s,className:(0,y.cn)("px-2 py-1.5 text-sm font-semibold text-slate-900",l&&"pl-8",a),...r})});_.displayName=S.JU.displayName;let B=A.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(S.wv,{ref:s,className:(0,y.cn)("-mx-1 my-1 h-px bg-slate-200",a),...l})});B.displayName=S.wv.displayName;let D=[{name:"Dashboard",href:"/dashboard",icon:m.A},{name:"Pipelines",href:"/pipelines",icon:x.A},{name:"Intake",href:"/intake",icon:h.A},{name:"Documents",href:"/documents",icon:f.A},{name:"Scheduling",href:"/scheduling",icon:u.A},{name:"Automations",href:"/automations",icon:p.A},{name:"Settings",href:"/settings",icon:b.A}];function L(e){var s,a;let{user:l,isMobile:d=!1,onClose:c}=e,m=(0,i.usePathname)(),{sidebarCollapsed:x,toggleSidebar:h}=o(),f=()=>{d&&c&&c()},u=async()=>{await (0,n.signOut)({callbackUrl:"/auth/signin"})};return(0,t.jsxs)("div",{className:(0,y.cn)("bg-gradient-to-b from-astralis-navy via-astralis-navy to-slate-900 text-white flex flex-col h-full border-r border-cyan-400/10",!d&&"transition-all duration-300",!d&&(x?"w-20":"w-60")),children:[(0,t.jsxs)("div",{className:(0,y.cn)("flex items-center py-3 border-b border-white/10",x&&!d?"justify-center px-2":"justify-between pl-6 pr-4"),children:[(!x||d)&&(0,t.jsx)(r(),{href:"/dashboard",className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"text-xl font-bold",children:"AstralisOps"})}),!d&&(0,t.jsx)("button",{onClick:h,className:"p-2 hover:bg-white/10 rounded-lg transition-colors","aria-label":x?"Expand sidebar":"Collapse sidebar",children:x?(0,t.jsx)(j.A,{className:"w-5 h-5"}):(0,t.jsx)(g.A,{className:"w-5 h-5"})})]}),(!x||d)&&(0,t.jsx)("div",{className:"px-3 py-3 border-b border-white/10",children:(0,t.jsx)(z,{currentOrgId:l.orgId,variant:"sidebar"})}),(0,t.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:D.map(e=>{let s=m===e.href||m.startsWith(e.href+"/"),a=e.icon;return(0,t.jsxs)(r(),{href:e.href,onClick:f,className:(0,y.cn)("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors",s?"bg-astralis-blue text-white":"text-slate-300 hover:bg-white/10 hover:text-white"),children:[(0,t.jsx)(a,{className:"w-5 h-5 flex-shrink-0"}),(!x||d)&&(0,t.jsx)("span",{className:"font-medium",children:e.name})]},e.name)})}),(0,t.jsxs)("div",{className:"border-t border-white/10",children:[(0,t.jsx)("div",{className:(0,y.cn)("px-3 py-3 border-b border-white/10",x&&!d&&"flex justify-center"),children:(0,t.jsxs)(U,{children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsxs)("button",{className:(0,y.cn)("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-slate-300 hover:bg-white/10 hover:text-white relative",x&&!d?"justify-center":"w-full"),"aria-label":"Notifications",children:[(0,t.jsx)(N.A,{className:"w-5 h-5 flex-shrink-0"}),(!x||d)&&(0,t.jsx)("span",{className:"font-medium",children:"Notifications"}),(0,t.jsx)(R.E,{variant:"error",className:"absolute top-1 left-7 h-4 w-4 flex items-center justify-center p-0 text-[10px]",children:"3"})]})}),(0,t.jsxs)(I,{align:"end",side:"right",className:"w-80",children:[(0,t.jsx)(_,{children:"Notifications"}),(0,t.jsx)(B,{}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"New pipeline created"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"2 minutes ago"})]})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Document processed"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"1 hour ago"})]})}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Meeting scheduled"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"3 hours ago"})]})})]})]})}),(0,t.jsx)("div",{className:(0,y.cn)("p-4",x&&!d&&"flex justify-center"),children:(0,t.jsxs)(U,{children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsxs)("button",{className:(0,y.cn)("flex items-center gap-3 rounded-lg transition-colors hover:bg-white/10 p-2 -m-2",x&&!d?"justify-center":"w-full"),"aria-label":"User menu",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-astralis-blue flex items-center justify-center flex-shrink-0",children:l.image?(0,t.jsx)("img",{src:l.image,alt:l.name||"",className:"w-full h-full rounded-full object-cover"}):(0,t.jsx)("span",{className:"text-lg font-semibold",children:(null==(s=l.name)?void 0:s.charAt(0).toUpperCase())||(null==(a=l.email)?void 0:a.charAt(0).toUpperCase())||"U"})}),(!x||d)&&(0,t.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:l.name||"User"}),(0,t.jsx)("p",{className:"text-xs text-slate-400 truncate",children:l.email})]})]})}),(0,t.jsxs)(I,{align:"end",side:"right",className:"w-56",children:[(0,t.jsx)(_,{children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:l.name||"User"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:l.email})]})}),(0,t.jsx)(B,{}),(0,t.jsx)(E,{asChild:!0,children:(0,t.jsxs)(r(),{href:"/settings/profile",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 mr-2"}),"Profile"]})}),(0,t.jsx)(E,{asChild:!0,children:(0,t.jsxs)(r(),{href:"/settings",children:[(0,t.jsx)(b.A,{className:"w-5 h-5 mr-2"}),"Settings"]})}),(0,t.jsx)(B,{}),(0,t.jsxs)(E,{onClick:u,children:[(0,t.jsx)(v.A,{className:"w-5 h-5 mr-2"}),"Sign Out"]})]})]})})]})]})}},62218:(e,s,a)=>{"use strict";a.d(s,{DashboardHeader:()=>p});var t=a(95155),l=a(9540),r=a(12115),i=a(27937),n=a(52619),d=a.n(n),c=a(64269);let o=r.forwardRef((e,s)=>{let{...a}=e;return(0,t.jsx)("nav",{ref:s,"aria-label":"breadcrumb",...a})});o.displayName="Breadcrumb";let m=r.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("ol",{ref:s,className:(0,c.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-slate-600 sm:gap-2.5",a),...l})});m.displayName="BreadcrumbList";let x=r.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("li",{ref:s,className:(0,c.cn)("inline-flex items-center gap-1.5",a),...l})});x.displayName="BreadcrumbItem";let h=r.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(d(),{ref:s,className:(0,c.cn)("transition-colors hover:text-astralis-blue focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-astralis-blue focus-visible:ring-offset-2 rounded-sm",a),...l})});h.displayName="BreadcrumbLink";let f=r.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:(0,c.cn)("font-medium text-slate-900",a),...l})});f.displayName="BreadcrumbPage";let u=e=>{let{children:s,className:a,...l}=e;return(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,c.cn)("[&>svg]:size-3.5",a),...l,children:null!=s?s:(0,t.jsx)(i.A,{className:"text-slate-400"})})};function p(e){let{breadcrumbs:s,onMobileMenuOpen:a}=e;return(0,t.jsxs)("header",{className:"bg-gradient-to-r from-white via-cyan-50/20 to-slate-50 border-b border-cyan-100/50 flex items-center gap-4 px-4 lg:px-6 py-3",children:[(0,t.jsx)("button",{onClick:a,className:"lg:hidden p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Open menu",children:(0,t.jsx)(l.A,{className:"w-6 h-6 text-slate-600"})}),s&&s.length>0&&(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(o,{children:(0,t.jsx)(m,{children:s.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(x,{children:e.href?(0,t.jsx)(h,{href:e.href,children:e.label}):(0,t.jsx)(f,{children:e.label})}),a<s.length-1&&(0,t.jsx)(u,{})]},a))})})})]})}u.displayName="BreadcrumbSeparator"},64269:(e,s,a)=>{"use strict";a.d(s,{cn:()=>r});var t=a(2821),l=a(75889);function r(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,l.QP)((0,t.$)(s))}},75811:(e,s,a)=>{Promise.resolve().then(a.bind(a,62218)),Promise.resolve().then(a.bind(a,21978))}},e=>{e.O(0,[4909,2619,756,9566,6489,4657,1107,4628,8296,3432,207,1101,9336,4007,6011,9248,9084,7358],()=>e(e.s=75811)),_N_E=e.O()}]);