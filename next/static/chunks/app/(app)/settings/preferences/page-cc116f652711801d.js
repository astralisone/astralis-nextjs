(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1504],{3451:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var l=r(89407),a=r(73335),s=r(36700),i=r(9924),n=r(60412),o=r(40415),d=r(82868),c=r(52407);function u(){var e;let{data:t}=(0,s.useSession)(),[r,u]=(0,a.useState)(!0),[f,m]=(0,a.useState)(null),[p,h]=(0,a.useState)("UTC");return((0,a.useEffect)(()=>{(async()=>{var e;if(null==t||null==(e=t.user)?void 0:e.id)try{u(!0),m(null);let e=await fetch("/api/user/preferences");if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to fetch preferences")}let t=await e.json();h(t.timezone||"UTC")}catch(e){console.error("Error fetching preferences:",e),m(e instanceof Error?e.message:"Failed to load preferences")}finally{u(!1)}})()},[null==t||null==(e=t.user)?void 0:e.id]),r)?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,l.jsx)(d.A,{className:"h-8 w-8 animate-spin text-astralis-blue"})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-astralis-navy",children:"Preferences"}),(0,l.jsx)("p",{className:"text-slate-600 mt-1",children:"Manage your application preferences"})]}),f&&(0,l.jsxs)(n.Fc,{variant:"error",showIcon:!0,children:[(0,l.jsx)(n.XL,{children:"Error"}),(0,l.jsx)(n.TN,{children:f})]}),(0,l.jsxs)(i.Zp,{children:[(0,l.jsx)(i.aR,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-astralis-blue/10 text-astralis-blue",children:(0,l.jsx)(c.A,{className:"h-6 w-6"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i.ZB,{children:"Timezone Settings"}),(0,l.jsx)(i.BT,{children:"Configure your timezone to view times in your local time zone"})]})]})}),(0,l.jsx)(i.Wu,{children:(0,l.jsx)(o.N,{currentTimezone:p,onSuccess:e=>{h(e),m(null)},onError:e=>{m(e)}})})]}),(0,l.jsx)(i.Zp,{children:(0,l.jsx)(i.Wu,{className:"pt-6",children:(0,l.jsxs)(n.Fc,{variant:"info",showIcon:!0,children:[(0,l.jsx)(n.XL,{children:"How Timezone Settings Work"}),(0,l.jsx)(n.TN,{children:(0,l.jsxs)("ul",{className:"mt-2 space-y-1 list-disc list-inside text-sm",children:[(0,l.jsx)("li",{children:"All times in the application will be displayed in your selected timezone"}),(0,l.jsx)("li",{children:"Scheduling and calendar events will respect your timezone preference"}),(0,l.jsx)("li",{children:'Use the "Detect" button to automatically set your timezone based on your browser'}),(0,l.jsx)("li",{children:"Changes take effect immediately after saving"})]})})]})})})]})}},7756:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var l=r(73335);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,l.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...f}=e;return(0,l.createElement)("svg",{ref:t,...s,width:i,height:i,stroke:r,strokeWidth:o?24*Number(n)/Number(i):n,className:a("lucide",d),...f},[...u.map(e=>{let[t,r]=e;return(0,l.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),n=(e,t)=>{let r=(0,l.forwardRef)((r,s)=>{let{className:n,...o}=r;return(0,l.createElement)(i,{ref:s,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),n),...o})});return r.displayName="".concat(e),r}},9924:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>n,wL:()=>u});var l=r(89407),a=r(73335),s=r(45741);let i=a.forwardRef((e,t)=>{let{className:r,variant:a="default",hover:i=!1,...n}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg bg-white transition-all duration-200 dark:bg-slate-800 dark:border-slate-700",{default:"border border-slate-200 shadow-[0_2px_8px_rgba(0,0,0,0.06)]",bordered:"border-2 border-slate-300",elevated:"shadow-[0_8px_24px_rgba(0,0,0,0.12)]"}[a],i&&"hover:shadow-[0_8px_24px_rgba(0,0,0,0.12)] hover:border-slate-300",r),...n})});i.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight text-slate-900 dark:text-white",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-slate-500 dark:text-slate-400",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},21086:(e,t,r)=>{Promise.resolve().then(r.bind(r,3451))},21150:(e,t,r)=>{"use strict";r.d(t,{DX:()=>u,TL:()=>c});var l,a=r(73335),s=r(40765),i=r(89407),n=Symbol.for("react.lazy"),o=(l||(l=r.t(a,2)))[" use ".trim().toString()];function d(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===n&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function c(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...l}=e;if(d(r)&&"function"==typeof o&&(r=o(r._payload)),a.isValidElement(r)){var i;let e,n,o=(i=r,(n=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(n=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let r={...t};for(let l in t){let a=e[l],s=t[l];/^on[A-Z]/.test(l)?a&&s?r[l]=(...e)=>{let t=s(...e);return a(...e),t}:a&&(r[l]=a):"style"===l?r[l]={...a,...s}:"className"===l&&(r[l]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}(l,r.props);return r.type!==a.Fragment&&(d.ref=t?(0,s.t)(t,o):o),a.cloneElement(r,d)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:l,...s}=e;d(l)&&"function"==typeof o&&(l=o(l._payload));let n=a.Children.toArray(l),c=n.find(m);if(c){let e=c.props.children,l=n.map(t=>t!==c?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...s,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,l):null})}return(0,i.jsx)(t,{...s,ref:r,children:l})});return r.displayName=`${e}.Slot`,r}var u=c("Slot"),f=Symbol("radix.slottable");function m(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}},22635:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(7756).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},34876:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var l=r(89407),a=r(73335),s=r(36187),i=r(45741);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(s.b,{ref:t,className:(0,i.cn)("text-sm font-medium leading-none text-slate-700","peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...a})});n.displayName=s.b.displayName},36187:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var l=r(73335);r(48182);var a=r(21150),s=r(89407),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.TL)(`Primitive.${t}`),i=l.forwardRef((e,l)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a?r:t,{...i,ref:l})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),n=l.forwardRef((e,t)=>(0,s.jsx)(i.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var o=n},40415:(e,t,r)=>{"use strict";r.d(t,{N:()=>u});var l=r(89407),a=r(73335),s=r(70558),i=r(34876),n=r(60412),o=r(46870),d=r(82868);let c=[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"America/Anchorage",label:"Alaska Time (AKT)"},{value:"Pacific/Honolulu",label:"Hawaii Time (HT)"},{value:"Europe/London",label:"London (GMT/BST)"},{value:"Europe/Paris",label:"Central European (CET)"},{value:"Europe/Berlin",label:"Berlin (CET)"},{value:"Asia/Tokyo",label:"Japan (JST)"},{value:"Asia/Shanghai",label:"China (CST)"},{value:"Asia/Dubai",label:"Dubai (GST)"},{value:"Australia/Sydney",label:"Sydney (AEST)"},{value:"UTC",label:"UTC"}];function u(e){let{currentTimezone:t,onSuccess:r,onError:u}=e,[f,m]=(0,a.useState)(t),[p,h]=(0,a.useState)(!1),[x,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),g=async()=>{h(!0),y(null),v(!1);try{let e=await fetch("/api/user/preferences",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({timezone:f})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to save timezone")}v(!0),null==r||r(f),setTimeout(()=>v(!1),3e3)}catch(t){let e=t instanceof Error?t.message:"Failed to save timezone";y(e),null==u||u(e)}finally{h(!1)}};return(0,l.jsxs)("div",{className:"space-y-4",children:[x&&(0,l.jsx)(n.Fc,{variant:"success",showIcon:!0,children:(0,l.jsx)(n.TN,{children:"Timezone preference saved successfully"})}),b&&(0,l.jsx)(n.Fc,{variant:"error",showIcon:!0,children:(0,l.jsx)(n.TN,{children:b})}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(i.J,{htmlFor:"timezone",className:"text-sm font-medium",children:"Timezone"}),(0,l.jsx)("p",{className:"text-xs text-slate-500",children:"Choose your timezone to view times in your local time"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("select",{id:"timezone",value:f,onChange:e=>m(e.target.value),className:"flex-1 flex h-10 w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-astralis-blue focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",disabled:p,children:c.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,l.jsxs)(s.$,{type:"button",variant:"outline",onClick:()=>{try{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;m(e),y(null)}catch(t){let e="Failed to detect timezone";y(e),null==u||u(e)}},disabled:p,className:"gap-1.5",children:[(0,l.jsx)(o.A,{className:"h-4 w-4"}),"Detect"]})]})]}),(0,l.jsxs)("div",{className:"p-3 bg-slate-50 rounded-md border border-slate-200",children:[(0,l.jsx)("p",{className:"text-xs text-slate-600 mb-1",children:"Current time in selected timezone:"}),(0,l.jsx)("p",{className:"text-sm font-medium text-astralis-navy",children:new Date().toLocaleString("en-US",{timeZone:f,dateStyle:"medium",timeStyle:"long"})})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsxs)(s.$,{onClick:g,disabled:p||f===t,className:"gap-1.5",variant:"primary",children:[p&&(0,l.jsx)(d.A,{className:"h-4 w-4 animate-spin"}),p?"Saving...":x?"Saved!":"Save Preferences"]})})]})}},40765:(e,t,r)=>{"use strict";r.d(t,{s:()=>i,t:()=>s});var l=r(73335);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,l=e.map(e=>{let l=a(e,t);return r||"function"!=typeof l||(r=!0),l});if(r)return()=>{for(let t=0;t<l.length;t++){let r=l[t];"function"==typeof r?r():a(e[t],null)}}}}function i(...e){return l.useCallback(s(...e),e)}},45741:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var l=r(16071),a=r(71302);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,l.$)(t))}},46870:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(7756).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},52407:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(7756).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},60412:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>m,TN:()=>h,XL:()=>p});var l=r(89407),a=r(73335),s=r(83183),i=r(98570),n=r(71287),o=r(22635),d=r(92405),c=r(45741);let u=(0,s.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-white border-slate-300 text-slate-900",success:"border-green-500/50 bg-green-50 text-green-900 [&>svg]:text-green-600",error:"border-red-500/50 bg-red-50 text-red-900 [&>svg]:text-red-600",warning:"border-yellow-500/50 bg-yellow-50 text-yellow-900 [&>svg]:text-yellow-600",info:"border-blue-500/50 bg-blue-50 text-blue-900 [&>svg]:text-astralis-blue"}},defaultVariants:{variant:"default"}}),f={default:i.A,success:n.A,error:o.A,warning:d.A,info:i.A},m=a.forwardRef((e,t)=>{let{className:r,variant:a="default",showIcon:s=!1,children:i,...n}=e,o=f[a||"default"];return(0,l.jsxs)("div",{ref:t,role:"alert",className:(0,c.cn)(u({variant:a}),r),...n,children:[s&&(0,l.jsx)(o,{className:"h-4 w-4"}),i]})});m.displayName="Alert";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("h5",{ref:t,className:(0,c.cn)("mb-1 font-semibold leading-none tracking-tight",r),...a})});p.displayName="AlertTitle";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",r),...a})});h.displayName="AlertDescription"},70558:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var l=r(89407),a=r(73335),s=r(21150),i=r(83183),n=r(45741);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold transition-all duration-150 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-astralis-blue focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-astralis-blue text-white shadow-md hover:bg-[#245a92] hover:shadow-lg hover:scale-105 dark:bg-astralis-blue dark:hover:bg-[#245a92]",secondary:"border-2 border-astralis-blue text-astralis-blue hover:bg-astralis-blue hover:text-white shadow-sm hover:shadow-md dark:border-astralis-blue dark:text-astralis-blue dark:hover:bg-astralis-blue dark:hover:text-white",destructive:"bg-error text-white shadow-sm hover:bg-error/90 hover:shadow-md dark:bg-error dark:hover:bg-error/90",outline:"border-2 border-slate-300 bg-white text-slate-700 hover:bg-slate-100 hover:border-slate-400 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700 dark:hover:border-slate-500",ghost:"text-slate-700 hover:bg-slate-100 dark:text-slate-200 dark:hover:bg-slate-800",link:"text-astralis-blue underline-offset-4 hover:underline dark:text-astralis-blue"},size:{default:"px-6 py-3 text-base",sm:"px-4 py-2 text-sm",lg:"px-8 py-4 text-lg",icon:"p-3"}},defaultVariants:{variant:"primary",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,l.jsx)(u,{className:(0,n.cn)(o({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},71287:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(7756).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},82868:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(7756).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83183:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var l=r(16071);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=l.$,i=(e,t)=>r=>{var l;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:n}=t,o=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],l=null==n?void 0:n[e];if(null===t)return null;let s=a(t)||a(l);return i[e][s]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,l]=t;return void 0===l||(e[r]=l),e},{});return s(e,o,null==t||null==(l=t.compoundVariants)?void 0:l.reduce((e,t)=>{let{class:r,className:l,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...d}[t]):({...n,...d})[t]===r})?[...e,r,l]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},92405:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(7756).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},98570:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(7756).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}},e=>{e.O(0,[7232,6700,7780,3080,3468,2079,8385,5186,400,4276,2006,7358],()=>e(e.s=21086)),_N_E=e.O()}]);