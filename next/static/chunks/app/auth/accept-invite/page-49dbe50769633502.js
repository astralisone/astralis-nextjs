(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4376],{2550:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var a=s(89407),r=s(73335),i=s(45741);let l=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-500","dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:placeholder:text-slate-400","transition-all duration-150 ease-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-astralis-blue focus-visible:ring-offset-0","disabled:cursor-not-allowed disabled:opacity-50","file:border-0 file:bg-transparent file:text-sm file:font-medium",s),ref:t,...l})});l.displayName="Input"},7756:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(73335);let r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...i,width:l,height:l,stroke:s,strokeWidth:o?24*Number(n)/Number(l):n,className:r("lucide",d),...m},[...u.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(c)?c:[c]])}),n=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{className:n,...o}=s;return(0,a.createElement)(l,{ref:i,iconNode:t,className:r("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),n),...o})});return s.displayName="".concat(e),s}},34728:(e,t,s)=>{"use strict";var a=s(80472);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},34876:(e,t,s)=>{"use strict";s.d(t,{J:()=>n});var a=s(89407),r=s(73335),i=s(36187),l=s(45741);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,l.cn)("text-sm font-medium leading-none text-slate-700","peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...r})});n.displayName=i.b.displayName},37547:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(89407),r=s(73335),i=s(34728),l=s(27739),n=s(19981),o=s(39009),d=s(56823),c=s.n(d),u=s(70558),m=s(2550),x=s(34876),h=s(60412),p=s(55966);let f=o.Ik({name:o.Yj().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),password:o.Yj().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain uppercase letter").regex(/[a-z]/,"Password must contain lowercase letter").regex(/[0-9]/,"Password must contain number"),confirmPassword:o.Yj().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function b(){var e,t,s;let o=(0,i.useRouter)(),d=(0,i.useSearchParams)().get("token"),[b,g]=(0,r.useState)("loading"),[v,w]=(0,r.useState)(null),[j,y]=(0,r.useState)(null),{register:N,handleSubmit:k,formState:{errors:P,isSubmitting:A}}=(0,l.mN)({resolver:(0,n.u)(f)});(0,r.useEffect)(()=>{if(!d){g("invalid"),w("Invalid invitation link. Please check your email for the correct link.");return}C(d)},[d]);let C=async e=>{try{let t=await fetch("/api/auth/accept-invite?token=".concat(encodeURIComponent(e)),{method:"GET",headers:{"Content-Type":"application/json"}}),s=await t.json();if(!t.ok){g("invalid"),w(s.error||"This invitation link is invalid or has expired.");return}y(s.data),g("valid")}catch(e){g("invalid"),w("Failed to validate invitation. Please try again or contact support.")}},_=async e=>{if(!d)return void w("Invalid invitation token");try{g("submitting"),w(null);let t=await fetch("/api/auth/accept-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:d,name:e.name,password:e.password})}),s=await t.json();if(!t.ok){g("valid"),w(s.error||"Failed to complete registration. Please try again.");return}g("success"),setTimeout(()=>{o.push("/auth/signin?message=registration-complete")},3e3)}catch(e){g("valid"),w("An error occurred while completing your registration. Please try again.")}};return"loading"===b?(0,a.jsx)(p.D,{title:"Validating your invitation",subtitle:"We're confirming the link details",badge:"Team Invitation",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 py-6",children:[(0,a.jsx)("div",{className:"h-12 w-12 animate-spin rounded-full border-b-2 border-astralis-blue","aria-hidden":"true"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Hang tight—this only takes a moment."})]})}):"invalid"===b?(0,a.jsx)(p.D,{title:"Invitation unavailable",subtitle:"The link may have expired or already been used",badge:"Invitation Error",children:(0,a.jsxs)(h.Fc,{variant:"error",showIcon:!0,children:[(0,a.jsx)(h.XL,{children:"Invalid invitation"}),(0,a.jsx)(h.TN,{children:v}),(0,a.jsxs)("div",{className:"mt-6 space-y-3 text-sm text-slate-500",children:[(0,a.jsx)("p",{children:"If you believe this is an error, contact the teammate who invited you or reach out to Astralis support."}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,a.jsx)(u.$,{asChild:!0,variant:"outline",size:"sm",children:(0,a.jsx)(c(),{href:"/contact",children:"Contact support"})}),(0,a.jsx)(u.$,{asChild:!0,size:"sm",children:(0,a.jsx)(c(),{href:"/auth/signin",children:"Go to sign in"})})]})]})]})}):"success"===b?(0,a.jsx)(p.D,{title:"Welcome to ".concat(null!=(t=null==j?void 0:j.organizationName)?t:"Astralis"),subtitle:"Your access has been activated",badge:"Registration Complete",children:(0,a.jsxs)(h.Fc,{variant:"success",showIcon:!0,children:[(0,a.jsx)(h.XL,{children:"Registration complete"}),(0,a.jsx)(h.TN,{children:"Your account is ready. We're redirecting you to sign in, or you can continue manually below."}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(u.$,{asChild:!0,variant:"primary",children:(0,a.jsx)(c(),{href:"/auth/signin",children:"Sign in now"})})})]})}):(0,a.jsxs)(p.D,{title:"Join ".concat(null!=(s=null==j?void 0:j.organizationName)?s:"your new workspace"),subtitle:"Complete your profile to start collaborating",badge:"Team Invitation",footer:(0,a.jsxs)("span",{children:["Already have access?"," ",(0,a.jsx)(c(),{href:"/auth/signin",className:"font-semibold text-astralis-blue hover:text-astralis-blue/80",children:"Sign in instead"})]}),children:[(0,a.jsx)("div",{className:"rounded-xl bg-slate-50 p-4",children:(0,a.jsxs)("div",{className:"space-y-2 text-sm text-slate-600",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Email"}),(0,a.jsx)("span",{className:"font-medium text-slate-800",children:null==j?void 0:j.email})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Organization"}),(0,a.jsx)("span",{className:"font-medium text-slate-800",children:null==j?void 0:j.organizationName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Role"}),(0,a.jsx)("span",{className:"font-medium capitalize text-astralis-blue",children:null==j||null==(e=j.role)?void 0:e.toLowerCase()})]}),(null==j?void 0:j.inviterName)&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Invited by"}),(0,a.jsx)("span",{className:"font-medium text-slate-800",children:j.inviterName})]})]})}),v&&(0,a.jsx)(h.Fc,{variant:"error",showIcon:!0,children:(0,a.jsx)(h.TN,{children:v})}),(0,a.jsxs)("form",{onSubmit:k(_),className:"space-y-5",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(x.J,{htmlFor:"name",children:"Full name"}),(0,a.jsx)(m.p,{id:"name",type:"text",placeholder:"Enter your full name",disabled:A||"submitting"===b,"aria-invalid":!!P.name,...N("name")}),P.name&&(0,a.jsx)("p",{className:"text-sm text-error",children:P.name.message})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(x.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)(m.p,{id:"password",type:"password",placeholder:"Create a password",autoComplete:"new-password",disabled:A||"submitting"===b,"aria-invalid":!!P.password,...N("password")}),P.password&&(0,a.jsx)("p",{className:"text-sm text-error",children:P.password.message})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(x.J,{htmlFor:"confirmPassword",children:"Confirm password"}),(0,a.jsx)(m.p,{id:"confirmPassword",type:"password",placeholder:"Repeat your password",autoComplete:"new-password",disabled:A||"submitting"===b,"aria-invalid":!!P.confirmPassword,...N("confirmPassword")}),P.confirmPassword&&(0,a.jsx)("p",{className:"text-sm text-error",children:P.confirmPassword.message})]}),(0,a.jsxs)("div",{className:"rounded-xl bg-slate-50 p-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-astralis-navy",children:"Password requirements"}),(0,a.jsxs)("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-slate-600",children:[(0,a.jsx)("li",{children:"Minimum 8 characters"}),(0,a.jsx)("li",{children:"Uppercase and lowercase letters"}),(0,a.jsx)("li",{children:"At least one number"})]})]}),(0,a.jsx)(u.$,{type:"submit",variant:"primary",className:"w-full",disabled:A||"submitting"===b,children:A||"submitting"===b?"Finalising access…":"Complete registration"})]})]})}},40765:(e,t,s)=>{"use strict";s.d(t,{s:()=>l,t:()=>i});var a=s(73335);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let s=!1,a=e.map(e=>{let a=r(e,t);return s||"function"!=typeof a||(s=!0),a});if(s)return()=>{for(let t=0;t<a.length;t++){let s=a[t];"function"==typeof s?s():r(e[t],null)}}}}function l(...e){return a.useCallback(i(...e),e)}},45741:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(16071),r=s(71302);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},55966:(e,t,s)=>{"use strict";s.d(t,{D:()=>o});var a=s(89407),r=s(86547),i=s(56823),l=s.n(i);let n=[{title:"Enterprise-Grade Security",description:"SOC 2 aligned controls, SSO & audit trails out of the box."},{title:"Hands-on Onboarding",description:"Dedicated automation specialists to guide your first 90 days."},{title:"24/7 Support",description:"Critical-response team ready to assist whenever you need help."}];function o(e){let{title:t,subtitle:s,description:i,badge:o="Astralis One",children:d,footer:c,highlights:u=n,illustration:m}=e;return(0,a.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-slate-950",children:[(0,a.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute -top-32 -left-16 h-72 w-72 rounded-full bg-astralis-blue/30 blur-3xl"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/3 h-64 w-64 rounded-full bg-blue-400/20 blur-3xl"}),(0,a.jsx)("div",{className:"absolute top-1/4 right-0 h-80 w-80 rounded-full bg-cyan-400/10 blur-[160px]"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(15,76,129,0.35),_transparent_55%)]"})]}),(0,a.jsxs)("div",{className:"relative mx-auto flex min-h-screen w-full flex-col lg:flex-row",children:[(0,a.jsxs)("aside",{className:"relative flex w-full flex-col justify-between gap-10 px-8 py-10 text-white lg:w-[46%] lg:px-16",children:[(0,a.jsxs)(l(),{href:"/",className:"flex items-center gap-3 text-white transition-colors duration-200 hover:text-astralis-blue","aria-label":"Back to Astralis home",children:[(0,a.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/20 bg-white/10 backdrop-blur-md",children:(0,a.jsx)(r.default,{src:"/images/user-logo.jpeg",alt:"Astralis logo",width:40,height:40,className:"h-9 w-9 rounded-full object-cover",priority:!0})}),(0,a.jsx)("span",{className:"text-lg font-semibold tracking-tight",children:"Astralis One"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.18em] text-white/80 backdrop-blur-md",children:o}),(0,a.jsx)("h1",{className:"text-3xl font-semibold leading-tight text-white md:text-4xl",children:"Automation built for teams who ship fast."}),(0,a.jsx)("p",{className:"max-w-lg text-sm text-slate-200/85 md:text-base",children:"Pair thoughtful human support with dependable automation workflows. From identity and scheduling to document intelligence, Astralis keeps your entire team operating in sync."}),(0,a.jsx)("div",{className:"space-y-5",children:u.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"mt-1 h-2 w-2 flex-shrink-0 rounded-full bg-astralis-blue"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-white/90 md:text-base",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-white/70 md:text-sm",children:e.description})]})]},t))})]}),(0,a.jsxs)("div",{className:"hidden items-center gap-3 text-xs text-white/60 lg:flex",children:[(0,a.jsxs)("span",{children:["\xa9 ",new Date().getFullYear()," Astralis Operations Platform"]}),(0,a.jsx)("span",{"aria-hidden":"true",children:"•"}),(0,a.jsx)(l(),{href:"/privacy-policy",className:"hover:text-white",children:"Privacy Policy"}),(0,a.jsx)("span",{"aria-hidden":"true",children:"•"}),(0,a.jsx)(l(),{href:"/terms-of-service",className:"hover:text-white",children:"Terms"})]})]}),(0,a.jsx)("main",{className:"flex w-full items-center justify-center px-6 py-12 sm:px-10 lg:w-[54%] lg:pl-20 lg:pr-16",children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-[480px]",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-white/20 bg-white/95 p-8 shadow-[0_20px_60px_-12px_rgba(9,24,45,0.25)] backdrop-blur-xl transition-all duration-300 hover:shadow-[0_24px_72px_-12px_rgba(9,24,45,0.35)] md:p-10",children:[m&&(0,a.jsx)("div",{className:"mb-6 flex justify-center",children:m}),(0,a.jsxs)("div",{className:"space-y-3 text-center md:text-left",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold tracking-tight text-astralis-navy md:text-3xl",children:t}),s&&(0,a.jsx)("p",{className:"text-base font-medium text-slate-700",children:s}),i&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:i})]}),(0,a.jsx)("div",{className:"mt-8 space-y-6",children:d}),c&&(0,a.jsx)("div",{className:"mt-6 border-t border-slate-200 pt-6 text-center text-sm text-slate-500 md:text-left",children:c})]}),(0,a.jsx)("div",{className:"mt-6 flex items-center justify-center text-xs text-slate-400 lg:hidden",children:(0,a.jsxs)("span",{children:["\xa9 ",new Date().getFullYear()," Astralis Operations Platform"]})})]})})]})]})}},60412:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>x,TN:()=>p,XL:()=>h});var a=s(89407),r=s(73335),i=s(83183),l=s(98570),n=s(71287),o=s(22635),d=s(92405),c=s(45741);let u=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-white border-slate-300 text-slate-900",success:"border-green-500/50 bg-green-50 text-green-900 [&>svg]:text-green-600",error:"border-red-500/50 bg-red-50 text-red-900 [&>svg]:text-red-600",warning:"border-yellow-500/50 bg-yellow-50 text-yellow-900 [&>svg]:text-yellow-600",info:"border-blue-500/50 bg-blue-50 text-blue-900 [&>svg]:text-astralis-blue"}},defaultVariants:{variant:"default"}}),m={default:l.A,success:n.A,error:o.A,warning:d.A,info:l.A},x=r.forwardRef((e,t)=>{let{className:s,variant:r="default",showIcon:i=!1,children:l,...n}=e,o=m[r||"default"];return(0,a.jsxs)("div",{ref:t,role:"alert",className:(0,c.cn)(u({variant:r}),s),...n,children:[i&&(0,a.jsx)(o,{className:"h-4 w-4"}),l]})});x.displayName="Alert";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,c.cn)("mb-1 font-semibold leading-none tracking-tight",s),...r})});h.displayName="AlertTitle";let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",s),...r})});p.displayName="AlertDescription"},70558:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(89407),r=s(73335),i=s(21150),l=s(83183),n=s(45741);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold transition-all duration-150 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-astralis-blue focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-astralis-blue text-white shadow-md hover:bg-[#245a92] hover:shadow-lg hover:scale-105 dark:bg-astralis-blue dark:hover:bg-[#245a92]",secondary:"border-2 border-astralis-blue text-astralis-blue hover:bg-astralis-blue hover:text-white shadow-sm hover:shadow-md dark:border-astralis-blue dark:text-astralis-blue dark:hover:bg-astralis-blue dark:hover:text-white",destructive:"bg-error text-white shadow-sm hover:bg-error/90 hover:shadow-md dark:bg-error dark:hover:bg-error/90",outline:"border-2 border-slate-300 bg-white text-slate-700 hover:bg-slate-100 hover:border-slate-400 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700 dark:hover:border-slate-500",ghost:"text-slate-700 hover:bg-slate-100 dark:text-slate-200 dark:hover:bg-slate-800",link:"text-astralis-blue underline-offset-4 hover:underline dark:text-astralis-blue"},size:{default:"px-6 py-3 text-base",sm:"px-4 py-2 text-sm",lg:"px-8 py-4 text-lg",icon:"p-3"}},defaultVariants:{variant:"primary",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(o({variant:r,size:l,className:s})),ref:t,...c})});d.displayName="Button"},78592:(e,t,s)=>{Promise.resolve().then(s.bind(s,37547))},86547:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(98424),r=s.n(a)},98424:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return o},getImageProps:function(){return n}});let a=s(49836),r=s(13724),i=s(14384),l=a._(s(64024));function n(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let o=i.Image}},e=>{e.O(0,[7232,6823,4384,5260,9981,7780,3080,3468,2079,8385,5186,400,4276,2006,7358],()=>e(e.s=78592)),_N_E=e.O()}]);