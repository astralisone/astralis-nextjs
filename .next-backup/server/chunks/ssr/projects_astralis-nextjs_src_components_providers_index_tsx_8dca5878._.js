module.exports=[904611,a=>{"use strict";var b,c,d,e,f,g,h=a.i(965976),i=a.i(883019);class j extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class k extends j{}class l extends j{}async function m(a,b,c,d={}){var e;let f=`${(e=b,`${e.baseUrlServer}${e.basePathServer}`)}/${a}`;try{let a={headers:{"Content-Type":"application/json",...d?.headers?.cookie?{cookie:d.headers.cookie}:{}}};d?.body&&(a.body=JSON.stringify(d.body),a.method="POST");let b=await fetch(f,a),c=await b.json();if(!b.ok)throw c;return c}catch(a){return c.error(new k(a.message,a)),null}}function n(){return Math.floor(Date.now()/1e3)}function o(a){let b=new URL("http://localhost:3000/api/auth");a&&!a.startsWith("http")&&(a=`https://${a}`);let c=new URL(a||b),d=("/"===c.pathname?b.pathname:c.pathname).replace(/\/$/,""),e=`${c.origin}${d}`;return{origin:c.origin,host:c.host,path:d,base:e,toString:()=>e}}let p={baseUrl:o(process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePath:o(process.env.NEXTAUTH_URL).path,baseUrlServer:o(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePathServer:o(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},q=null;function r(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{},name:"next-auth",onmessage:null,onmessageerror:null,close:()=>{},dispatchEvent:()=>!1}:new BroadcastChannel("next-auth")}function s(){return null===q&&(q=r()),q}let t={debug:console.debug,error:console.error,warn:console.warn},u=i.createContext?.(void 0);async function v(a){let b=await m("session",p,t,a);return(a?.broadcast??!0)&&r().postMessage({event:"session",data:{trigger:"getSession"}}),b}async function w(){let a=await m("csrf",p,t);return a?.csrfToken??""}function x(a){if(!u)throw Error("React Context is unavailable in Server Components");let{children:b,basePath:c,refetchInterval:d,refetchWhenOffline:e}=a;c&&(p.basePath=c);let f=void 0!==a.session;p._lastSync=f?n():0;let[g,j]=i.useState(()=>(f&&(p._session=a.session),a.session)),[k,o]=i.useState(!f);i.useEffect(()=>(p._getSession=async({event:a}={})=>{try{let b="storage"===a;if(b||void 0===p._session){p._lastSync=n(),p._session=await v({broadcast:!b}),j(p._session);return}if(!a||null===p._session||n()<p._lastSync)return;p._lastSync=n(),p._session=await v(),j(p._session)}catch(a){t.error(new l(a.message,a))}finally{o(!1)}},p._getSession(),()=>{p._lastSync=0,p._session=void 0,p._getSession=()=>{}}),[]),i.useEffect(()=>{let a=()=>p._getSession({event:"storage"});return s().addEventListener("message",a),()=>s().removeEventListener("message",a)},[]),i.useEffect(()=>{let{refetchOnWindowFocus:b=!0}=a,c=()=>{b&&"visible"===document.visibilityState&&p._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",c,!1),()=>document.removeEventListener("visibilitychange",c,!1)},[a.refetchOnWindowFocus]);let q=function(){let[a,b]=i.useState("undefined"!=typeof navigator&&navigator.onLine),c=()=>b(!0),d=()=>b(!1);return i.useEffect(()=>(window.addEventListener("online",c),window.addEventListener("offline",d),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",d)}),[]),a}(),r=!1!==e||q;i.useEffect(()=>{if(d&&r){let a=setInterval(()=>{p._session&&p._getSession({event:"poll"})},1e3*d);return()=>clearInterval(a)}},[d,r]);let x=i.useMemo(()=>({data:g,status:k?"loading":g?"authenticated":"unauthenticated",async update(a){if(k)return;o(!0);let b=await m("session",p,t,void 0===a?void 0:{body:{csrfToken:await w(),data:a}});return o(!1),b&&(j(b),s().postMessage({event:"session",data:{trigger:"getSession"}})),b}}),[g,k]);return(0,h.jsx)(u.Provider,{value:x,children:b})}var y=a.i(682755);(b=e||(e={})).INITIAL="initial",b.PENDING="pending",b.REJECTED="rejected",b.RESOLVED="resolved",(c=f||(f={})).LOADING_STATUS="setLoadingStatus",c.RESET_OPTIONS="resetOptions",c.SET_BRAINTREE_INSTANCE="braintreeInstance",(d=g||(g={})).NUMBER="number",d.CVV="cvv",d.EXPIRATION_DATE="expirationDate",d.EXPIRATION_MONTH="expirationMonth",d.EXPIRATION_YEAR="expirationYear",d.POSTAL_CODE="postalCode";var z=function(){return(z=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function A(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function B(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}"function"==typeof SuppressedError&&SuppressedError;var C="data-react-paypal-script-id",D="react-paypal-js",E="dataNamespace",F="dataSdkIntegrationSource",G="paypal";function H(a){return void 0===a&&(a=G),window[a]}function I(a){var b=a.reactComponentName,c=a.sdkComponentKey,d=a.sdkRequestedComponents,e=void 0===d?"":d,f=a.sdkDataNamespace,g=c.charAt(0).toUpperCase().concat(c.substring(1)),h="Unable to render <".concat(b," /> because window.").concat(void 0===f?G:f,".").concat(g," is undefined."),i="string"==typeof e?e:e.join(",");if(!i.includes(c)){var j=[i,c].filter(Boolean).join();h+="\nTo fix the issue, add '".concat(c,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(j,"'}}>`.")}return h}function J(a){a[C];var b=A(a,[C+""]);return"react-paypal-js-".concat(function(a){for(var b="",c=0;c<a.length;c++){var d=a[c].charCodeAt(0)*c;a[c+1]&&(d+=a[c+1].charCodeAt(0)*(c-1)),b+=String.fromCharCode(97+Math.abs(d)%26)}return b}(JSON.stringify(b)))}function K(a,b){var c,d,g,h;switch(b.type){case f.LOADING_STATUS:if("object"==typeof b.value)return z(z({},a),{loadingStatus:b.value.state,loadingStatusErrorMessage:b.value.message});return z(z({},a),{loadingStatus:b.value});case f.RESET_OPTIONS:return g=a.options[C],(null==(h=self.document.querySelector("script[".concat(C,'="').concat(g,'"]')))?void 0:h.parentNode)&&h.parentNode.removeChild(h),z(z({},a),{loadingStatus:e.PENDING,options:z(z(((c={})[F]=D,c),b.value),((d={})[C]="".concat(J(b.value)),d))});case f.SET_BRAINTREE_INSTANCE:return z(z({},a),{braintreePayPalCheckoutInstance:b.value});default:return a}}var L=(0,i.createContext)(null);function M(){var a=function(a){if("function"==typeof(null==a?void 0:a.dispatch)&&0!==a.dispatch.length)return a;throw Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}((0,i.useContext)(L));return[z(z({},a),{isInitial:a.loadingStatus===e.INITIAL,isPending:a.loadingStatus===e.PENDING,isResolved:a.loadingStatus===e.RESOLVED,isRejected:a.loadingStatus===e.REJECTED}),a.dispatch]}(0,i.createContext)({});var N=function(a){var b,c,d=a.className,e=a.disabled,f=void 0!==e&&e,g=a.children,h=a.forceReRender,j=A(a,["className","disabled","children","forceReRender"]),k="".concat(void 0===d?"":d," ").concat(f?"paypal-buttons-disabled":"").trim(),l=(0,i.useRef)(null),m=(0,i.useRef)(null),n=((b=(0,i.useRef)(new Proxy({},{get:function(a,b,c){return"function"==typeof a[b]?function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return a[b].apply(a,c)}:Reflect.get(a,b,c)}}))).current=Object.assign(b.current,j),b.current),o=M()[0],p=o.isResolved,q=o.options,r=(0,i.useState)(null),s=r[0],t=r[1],u=(0,i.useState)(!0),v=u[0],w=u[1],x=(0,i.useState)(null)[1];function y(){null!==m.current&&m.current.close().catch(function(){})}return(null==(c=m.current)?void 0:c.updateProps)&&m.current.updateProps({message:j.message}),(0,i.useEffect)(function(){if(!1===p)return y;var a=H(q.dataNamespace);if(void 0===a||void 0===a.Buttons)return x(function(){throw Error(I({reactComponentName:N.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:q.components,sdkDataNamespace:q[E]}))}),y;try{m.current=a.Buttons(z(z({},n),{onInit:function(a,b){t(b),"function"==typeof j.onInit&&j.onInit(a,b)}}))}catch(a){return x(function(){throw Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(a))})}return!1===m.current.isEligible()?w(!1):l.current&&m.current.render(l.current).catch(function(a){null!==l.current&&0!==l.current.children.length&&x(function(){throw Error("Failed to render <PayPalButtons /> component. ".concat(a))})}),y},B(B([p],void 0===h?[]:h,!0),[j.fundingSource],!1)),(0,i.useEffect)(function(){null!==s&&(!0===f?s.disable().catch(function(){}):s.enable().catch(function(){}))},[f,s]),i.default.createElement(i.default.Fragment,null,v?i.default.createElement("div",{ref:l,style:f?{opacity:.38}:{},className:k}):g)};function O(a,b){void 0===b&&(b={});var c=document.createElement("script");return c.src=a,Object.keys(b).forEach(function(a){c.setAttribute(a,b[a]),"data-csp-nonce"===a&&c.setAttribute("nonce",b["data-csp-nonce"])}),c}N.displayName="PayPalButtons","function"==typeof SuppressedError&&SuppressedError;function P(a,b){if("object"!=typeof a||null===a)throw Error("Expected an options object.");var c=a.environment;if(c&&"production"!==c&&"sandbox"!==c)throw Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==b&&"function"!=typeof b)throw Error("Expected PromisePonyfill to be a function.")}var Q=function(a){var b=a.className,c=a.children,d=A(a,["className","children"]),e=M()[0],f=e.isResolved,g=e.options,h=(0,i.useRef)(null),j=(0,i.useState)(!0),k=j[0],l=j[1],m=(0,i.useState)(null)[1],n=function(a){var b=h.current;if(!b||!a.isEligible())return l(!1);b.firstChild&&b.removeChild(b.firstChild),a.render(b).catch(function(a){null!==b&&0!==b.children.length&&m(function(){throw Error("Failed to render <PayPalMarks /> component. ".concat(a))})})};return(0,i.useEffect)(function(){if(!1!==f){var a=H(g[E]);if(void 0===a||void 0===a.Marks)return m(function(){throw Error(I({reactComponentName:Q.displayName,sdkComponentKey:"marks",sdkRequestedComponents:g.components,sdkDataNamespace:g[E]}))});n(a.Marks(z({},d)))}},[f,d.fundingSource]),i.default.createElement(i.default.Fragment,null,k?i.default.createElement("div",{ref:h,className:void 0===b?"":b}):c)};Q.displayName="PayPalMarks";var R=function(a){var b=a.className,c=a.forceReRender,d=A(a,["className","forceReRender"]),e=M()[0],f=e.isResolved,g=e.options,h=(0,i.useRef)(null),j=(0,i.useRef)(null),k=(0,i.useState)(null)[1];return(0,i.useEffect)(function(){if(!1!==f){var a=H(g[E]);if(void 0===a||void 0===a.Messages)return k(function(){throw Error(I({reactComponentName:R.displayName,sdkComponentKey:"messages",sdkRequestedComponents:g.components,sdkDataNamespace:g[E]}))});j.current=a.Messages(z({},d)),j.current.render(h.current).catch(function(a){null!==h.current&&0!==h.current.children.length&&k(function(){throw Error("Failed to render <PayPalMessages /> component. ".concat(a))})})}},B([f],void 0===c?[]:c,!0)),i.default.createElement("div",{ref:h,className:void 0===b?"":b})};R.displayName="PayPalMessages";var S=function(a){var b,c=a.options,d=void 0===c?{clientId:"test"}:c,g=a.children,h=a.deferLoading,j=void 0!==h&&h,k=(0,i.useReducer)(K,{options:z(z({},d),((b={}).dataJsSdkLibrary=D,b[F]=D,b[C]="".concat(J(d)),b)),loadingStatus:j?e.INITIAL:e.PENDING}),l=k[0],m=k[1];return(0,i.useEffect)(function(){if(!1===j&&l.loadingStatus===e.INITIAL)return m({type:f.LOADING_STATUS,value:e.PENDING});if(l.loadingStatus===e.PENDING){var a=!0;return(function(a,b){if(void 0===b&&(b=Promise),P(a,b),"undefined"==typeof document)return b.resolve(null);var c,d,e,f,g,h,i,j,k,l,m=(f=a.sdkBaseUrl,g=a.environment,h=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}(a,["sdkBaseUrl","environment"]),i=f||("sandbox"===g?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"),k=(j=Object.keys(h).filter(function(a){return void 0!==h[a]&&null!==h[a]&&""!==h[a]}).reduce(function(a,b){var c=h[b].toString();return"data"===(b=b.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(a,b){return(b?"-":"")+a.toLowerCase()})).substring(0,4)||"crossorigin"===b?a.attributes[b]=c:a.queryParams[b]=c,a},{queryParams:{},attributes:{}})).queryParams,l=j.attributes,k["merchant-id"]&&-1!==k["merchant-id"].indexOf(",")&&(l["data-merchant-id"]=k["merchant-id"],k["merchant-id"]="*"),{url:"".concat(i,"?").concat((d="",Object.keys(c=k).forEach(function(a){0!==d.length&&(d+="&"),d+=a+"="+c[a]}),d)),attributes:l}),n=m.url,o=m.attributes,p=o["data-namespace"]||"paypal",q=(e=p,window[e]);return(o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),function(a,b){var c=document.querySelector('script[src="'.concat(a,'"]'));if(null===c)return null;var d=O(a,b),e=c.cloneNode();if(delete e.dataset.uidAuto,Object.keys(e.dataset).length!==Object.keys(d.dataset).length)return null;var f=!0;return Object.keys(e.dataset).forEach(function(a){e.dataset[a]!==d.dataset[a]&&(f=!1)}),f?c:null}(n,o)&&q)?b.resolve(q):(function(a,b){void 0===b&&(b=Promise),P(a,b);var c=a.url,d=a.attributes;if("string"!=typeof c||0===c.length)throw Error("Invalid url.");if(void 0!==d&&"object"!=typeof d)throw Error("Expected attributes to be an object.");return new b(function(a,b){var e,f,g,h,i,j;if("undefined"==typeof document)return a();f=(e={url:c,attributes:d,onSuccess:function(){return a()},onError:function(){return b(Error('The script "'.concat(c,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.')))}}).url,g=e.attributes,h=e.onSuccess,i=e.onError,(j=O(f,g)).onerror=i,j.onload=h,document.head.insertBefore(j,document.head.firstElementChild)})})({url:n,attributes:o},b).then(function(){var a,b=(a=p,window[a]);if(b)return b;throw Error("The window.".concat(p," global variable is not available."))})})(l.options).then(function(){a&&m({type:f.LOADING_STATUS,value:e.RESOLVED})}).catch(function(b){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(b)),a&&m({type:f.LOADING_STATUS,value:{state:e.REJECTED,message:String(b)}})}),function(){a=!1}}},[l.options,j,l.loadingStatus]),i.default.createElement(L.Provider,{value:z(z({},l),{dispatch:m})},g)};function T(){}(0,i.createContext)({cardFieldsForm:null,fields:{},registerField:T,unregisterField:T});let U={clientId:process.env.NEXT_PUBLIC_PAYPAL_CLIENT_ID||"test",currency:"USD",intent:"capture"};function V({children:a}){return(0,h.jsx)(S,{options:{clientId:U.clientId,currency:U.currency,intent:U.intent},children:a})}function W({children:a}){return(0,h.jsx)(x,{refetchInterval:0,refetchOnWindowFocus:!1,children:(0,h.jsx)(y.ThemeProvider,{defaultTheme:"dark",storageKey:"astralis-theme",children:(0,h.jsx)(V,{children:a})})})}process.env.NEXT_PUBLIC_STRIPE_PUBLIC_KEY,a.s(["Providers",()=>W],904611)}];

//# sourceMappingURL=projects_astralis-nextjs_src_components_providers_index_tsx_8dca5878._.js.map