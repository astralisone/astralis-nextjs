module.exports=[353369,a=>{"use strict";let b;var c=a.i(965976),d=a.i(883019),e=a.i(324673),f=a.i(3844),g=a.i(126043),h=a.i(408703),i=a.i(429496),j=a.i(264692),k=a.i(688092),l=a.i(220385),m=a.i(643069),n=a.i(520406),o=a.i(535049),p=a.i(622809),q=a.i(508049),r=a.i(358677),s="Tabs",[t,u]=(0,l.createContextScope)(s,[m.createRovingFocusGroupScope]),v=(0,m.createRovingFocusGroupScope)(),[w,x]=t(s),y=d.forwardRef((a,b)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:h="horizontal",dir:i,activationMode:j="automatic",...k}=a,l=(0,p.useDirection)(i),[m,n]=(0,q.useControllableState)({prop:e,onChange:f,defaultProp:g??"",caller:s});return(0,c.jsx)(w,{scope:d,baseId:(0,r.useId)(),value:m,onValueChange:n,orientation:h,dir:l,activationMode:j,children:(0,c.jsx)(o.Primitive.div,{dir:l,"data-orientation":h,...k,ref:b})})});y.displayName=s;var z="TabsList",A=d.forwardRef((a,b)=>{let{__scopeTabs:d,loop:e=!0,...f}=a,g=x(z,d),h=v(d);return(0,c.jsx)(m.Root,{asChild:!0,...h,orientation:g.orientation,dir:g.dir,loop:e,children:(0,c.jsx)(o.Primitive.div,{role:"tablist","aria-orientation":g.orientation,...f,ref:b})})});A.displayName=z;var B="TabsTrigger",C=d.forwardRef((a,b)=>{let{__scopeTabs:d,value:e,disabled:f=!1,...g}=a,h=x(B,d),i=v(d),j=F(h.baseId,e),l=G(h.baseId,e),n=e===h.value;return(0,c.jsx)(m.Item,{asChild:!0,...i,focusable:!f,active:n,children:(0,c.jsx)(o.Primitive.button,{type:"button",role:"tab","aria-selected":n,"aria-controls":l,"data-state":n?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:j,...g,ref:b,onMouseDown:(0,k.composeEventHandlers)(a.onMouseDown,a=>{f||0!==a.button||!1!==a.ctrlKey?a.preventDefault():h.onValueChange(e)}),onKeyDown:(0,k.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&h.onValueChange(e)}),onFocus:(0,k.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==h.activationMode;n||f||!a||h.onValueChange(e)})})})});C.displayName=B;var D="TabsContent",E=d.forwardRef((a,b)=>{let{__scopeTabs:e,value:f,forceMount:g,children:h,...i}=a,j=x(D,e),k=F(j.baseId,f),l=G(j.baseId,f),m=f===j.value,p=d.useRef(m);return d.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,c.jsx)(n.Presence,{present:g||m,children:({present:d})=>(0,c.jsx)(o.Primitive.div,{"data-state":m?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":k,hidden:!d,id:l,tabIndex:0,...i,ref:b,style:{...a.style,animationDuration:p.current?"0s":void 0},children:d&&h})})});function F(a,b){return`${a}-trigger-${b}`}function G(a,b){return`${a}-content-${b}`}E.displayName=D,a.i(795988);var H=a.i(709076);let I=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(A,{ref:d,className:(0,H.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...b}));I.displayName=A.displayName;let J=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(C,{ref:d,className:(0,H.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...b}));J.displayName=C.displayName;let K=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(E,{ref:d,className:(0,H.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...b}));K.displayName=E.displayName;var L=a.i(399670),M=a.i(606933),N=a.i(195513),O=a.i(341859),P=a.i(490730),Q=a.i(458662);let R=(0,Q.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var S=a.i(150459),T=a.i(970160),U=a.i(266198),V=a.i(441373);let W=(0,Q.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),X=(0,Q.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Y=(0,Q.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.i(467189);var Z=a.i(913860),$=a.i(605902),_=a.i(841730),aa=a.i(364245),ab=a.i(390051),ac=a.i(850230),ad=a.i(582811),ae=a.i(135499),af=a.i(890545);function ag({count:a=4}){return(0,c.jsx)("section",{className:"py-16",children:(0,c.jsxs)("div",{className:"container mx-auto px-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-12",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"h-8 bg-white/10 rounded-lg w-48 mb-2 animate-pulse"}),(0,c.jsx)("div",{className:"h-4 bg-white/5 rounded w-64 animate-pulse"})]}),(0,c.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,c.jsx)("div",{className:"h-10 w-10 bg-white/10 rounded-lg animate-pulse"}),(0,c.jsx)("div",{className:"h-10 w-10 bg-white/10 rounded-lg animate-pulse"})]})]}),(0,c.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:a}).map((a,b)=>(0,c.jsxs)(g.Card,{className:"glass-card border-white/10 h-full flex flex-col overflow-hidden",children:[(0,c.jsxs)("div",{className:"aspect-[16/10] sm:aspect-[4/3] bg-gradient-to-br from-purple-900/20 to-violet-900/20 relative",children:[(0,c.jsx)("div",{className:"w-full h-full bg-white/5 animate-pulse"}),(0,c.jsx)("div",{className:"absolute top-3 left-3",children:(0,c.jsx)("div",{className:"h-6 w-16 bg-purple-600/30 rounded-full animate-pulse"})})]}),(0,c.jsxs)(g.CardContent,{className:"p-4 flex-1 flex flex-col",children:[(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsx)("div",{className:"h-5 w-20 bg-white/10 rounded-full animate-pulse"})}),(0,c.jsxs)("div",{className:"mb-2 space-y-2",children:[(0,c.jsx)("div",{className:"h-5 bg-white/10 rounded w-full animate-pulse"}),(0,c.jsx)("div",{className:"h-5 bg-white/10 rounded w-3/4 animate-pulse"})]}),(0,c.jsxs)("div",{className:"mb-3 flex-1 space-y-2",children:[(0,c.jsx)("div",{className:"h-4 bg-white/5 rounded w-full animate-pulse"}),(0,c.jsx)("div",{className:"h-4 bg-white/5 rounded w-5/6 animate-pulse"})]}),(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsx)("div",{className:"h-6 bg-white/10 rounded w-16 animate-pulse"})}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("div",{className:"flex-1 h-8 bg-purple-500/20 rounded-lg animate-pulse"}),(0,c.jsx)("div",{className:"flex-1 h-8 bg-gradient-to-r from-purple-600/30 to-violet-600/30 rounded-lg animate-pulse"})]}),(0,c.jsx)("div",{className:"w-full h-6 bg-white/5 rounded mt-2 animate-pulse"})]})]},b))})]})})}function ah({currentProductId:a,categorySlug:b,tags:e=[],maxItems:j=4,className:k=""}){let[l,m]=(0,d.useState)([]),[n,o]=(0,d.useState)(!0),[p,q]=(0,d.useState)(null),[r,s]=(0,d.useState)(0),[t,u]=(0,d.useState)(null),[v,w]=(0,d.useState)(null),x=(0,Z.useCart)(a=>a.addItem),{toast:y}=(0,$.useToast)();(0,d.useEffect)(()=>{z()},[a]);let z=async()=>{try{let c;o(!0),q(null);try{c=await fetch(`/api/marketplace/recommendations/${a}`)}catch{let a=b?`/api/marketplace?category=${b}&limit=${j+1}`:`/api/marketplace?limit=${j+1}`;c=await fetch(a)}if(!c.ok)throw Error("Failed to fetch related products");let d=await c.json();if("success"===d.status){let b=("items"in d.data?d.data.items:"recommendations"in d.data?d.data.recommendations:d.data).filter(b=>b.id!==a).slice(0,j);m(b)}else throw Error("message"in d&&d.message||"Failed to fetch related products")}catch(a){console.error("Error fetching related products:",a),q("Unable to load related products")}finally{o(!1)}},A=(a,b)=>{a.preventDefault(),a.stopPropagation(),x({id:b.id,name:b.title,price:Number(b.discountPrice||b.price),image:b.imageUrl,quantity:1}),y({title:"Added to cart",description:`${b.title} has been added to your cart.`})},B=a=>a.discountPrice&&a.discountPrice<a.price;if(n)return(0,c.jsx)("div",{className:k,children:(0,c.jsx)(ag,{count:j})});if(p||0===l.length)return(0,c.jsx)("section",{className:`py-16 ${k}`,children:(0,c.jsxs)("div",{className:"container mx-auto px-4",children:[(0,c.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-8 text-center",children:"Related Products"}),p?(0,c.jsx)("div",{className:"flex items-center justify-center py-12 text-center",children:(0,c.jsxs)("div",{className:"glass-card p-8 rounded-2xl",children:[(0,c.jsx)(af.AlertCircle,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),(0,c.jsx)("p",{className:"text-gray-300 mb-4",children:p}),(0,c.jsx)(i.Button,{variant:"outline",onClick:z,className:"bg-white/5 hover:bg-white/10",children:"Try Again"})]})}):(0,c.jsx)("div",{className:"text-center py-12",children:(0,c.jsx)("p",{className:"text-gray-400",children:"No related products found."})})]})});let C=4,D=r<l.length-C;return(0,c.jsx)("section",{className:`py-16 ${k}`,children:(0,c.jsxs)("div",{className:"container mx-auto px-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-12",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Related Products"}),(0,c.jsx)("p",{className:"text-gray-400 mt-2",children:"Discover similar products you might like"})]}),l.length>C&&(0,c.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,c.jsx)(i.Button,{variant:"outline",size:"icon",onClick:()=>{s(a=>Math.max(a-1,0))},disabled:!(r>0),className:"glass border-white/20 hover:border-purple-500/50 disabled:opacity-30",children:(0,c.jsx)(ab.ChevronLeft,{className:"w-4 h-4"})}),(0,c.jsx)(i.Button,{variant:"outline",size:"icon",onClick:()=>{s(a=>Math.min(a+1,l.length-4))},disabled:!D,className:"glass border-white/20 hover:border-purple-500/50 disabled:opacity-30",children:(0,c.jsx)(ac.ChevronRight,{className:"w-4 h-4"})})]})]}),(0,c.jsx)("div",{className:"relative overflow-hidden",children:(0,c.jsx)(f.motion.div,{className:"flex gap-6",animate:{x:`calc(-${100/C*r}% - ${1.5*r}rem)`},transition:{type:"spring",stiffness:300,damping:30},onTouchStart:a=>{w(null),u(a.targetTouches[0].clientX)},onTouchMove:a=>{w(a.targetTouches[0].clientX)},onTouchEnd:()=>{if(!t||!v)return;let a=t-v;a>50&&r<l.length-4&&s(a=>a+1),a<-50&&r>0&&s(a=>a-1)},children:(0,c.jsx)(_.AnimatePresence,{children:l.map((a,b)=>{var d;return(0,c.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,delay:.1*b},className:"flex-shrink-0 w-full sm:w-1/2 md:w-1/3 xl:w-1/4",children:(0,c.jsxs)(g.Card,{className:"group overflow-hidden cursor-pointer hover:shadow-xl hover:shadow-purple-500/20 transition-all duration-300 glass-card border-white/10 hover:border-white/20 h-full flex flex-col",children:[(0,c.jsxs)("div",{className:"aspect-[16/10] sm:aspect-[4/3] overflow-hidden bg-gradient-to-br from-purple-900/20 to-violet-900/20 relative",children:[(0,c.jsx)(aa.default,{href:`/marketplace/${a.slug}`,children:(0,c.jsx)("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"})}),(0,c.jsx)("div",{className:"absolute top-3 left-3",children:(0,c.jsxs)(h.Badge,{className:"bg-purple-600 text-white border-0",children:[(0,c.jsx)(ae.Download,{className:"w-3 h-3 mr-1"}),"Digital"]})}),a.featured&&(0,c.jsx)("div",{className:"absolute top-3 right-3",children:(0,c.jsxs)(h.Badge,{className:"bg-yellow-600 text-white border-0",children:[(0,c.jsx)(P.Star,{className:"w-3 h-3 mr-1"}),"Featured"]})}),B(a)&&(0,c.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,c.jsxs)(h.Badge,{className:"bg-red-600 text-white border-0",children:["Save $",(a.price-a.discountPrice).toFixed(0)]})})]}),(0,c.jsxs)(g.CardContent,{className:"p-4 flex-1 flex flex-col",children:[(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsx)(h.Badge,{variant:"outline",className:"text-xs",children:a.category.name})}),(0,c.jsx)(aa.default,{href:`/marketplace/${a.slug}`,children:(0,c.jsx)("h3",{className:"text-base font-semibold mb-2 text-white group-hover:text-purple-200 transition-colors line-clamp-2",children:a.title})}),(0,c.jsx)("p",{className:"text-sm text-gray-300 line-clamp-2 mb-3 flex-1",children:a.description}),(0,c.jsx)("div",{className:"mb-4",children:a.customPricing?(0,c.jsx)("div",{className:"text-sm font-bold text-purple-400",children:(d=a).customPricing?d.priceRangeMin&&d.priceRangeMax?`$${d.priceRangeMin} - $${d.priceRangeMax}`:"Contact for pricing":d.discountPrice||d.price}):B(a)?(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)("span",{className:"text-lg font-bold text-green-400",children:["$",a.discountPrice]}),(0,c.jsxs)("span",{className:"text-xs text-gray-400 line-through",children:["$",a.price]})]}):(0,c.jsxs)("div",{className:"text-lg font-bold text-white",children:["$",a.price]})}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsxs)(i.Button,{variant:"outline",size:"sm",className:"flex-1 border-purple-500/50 text-purple-300 hover:bg-purple-500/20 text-xs",onClick:b=>A(b,a),disabled:"AVAILABLE"!==a.status,children:[(0,c.jsx)(M.ShoppingCart,{className:"w-3 h-3 mr-1"}),"Add"]}),(0,c.jsxs)(i.Button,{size:"sm",className:"flex-1 bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-700 hover:to-violet-700 text-white border-0 text-xs",onClick:b=>{b.preventDefault(),A(b,a),window.location.href="/checkout"},disabled:"AVAILABLE"!==a.status,children:[(0,c.jsx)(ad.CreditCard,{className:"w-3 h-3 mr-1"}),"Buy"]})]}),(0,c.jsx)(i.Button,{asChild:!0,variant:"ghost",size:"sm",className:"w-full text-gray-300 hover:text-white text-xs mt-2",children:(0,c.jsx)(aa.default,{href:`/marketplace/${a.slug}`,children:"View Details"})})]})]})},a.id)})})})}),l.length>1&&(0,c.jsx)("div",{className:"flex justify-center mt-6 sm:hidden",children:(0,c.jsx)("div",{className:"flex gap-2",children:Array.from({length:Math.ceil(l.length/C)}).map((a,b)=>(0,c.jsx)("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${Math.floor(r/C)===b?"bg-purple-500":"bg-white/30"}`},b))})})]})})}let ai=(0,Q.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var aj=a.i(160395),ak=a.i(842177),al=a.i(444429);let am=(0,Q.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),an=(0,Q.default)("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),ao=(0,Q.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var ap=a.i(59304),aq=a.i(398592),ar=a.i(90882),as=(a.i(275573),Symbol("radix.slottable")),at=a.i(447923),[au,av]=(0,l.createContextScope)("Tooltip",[ar.createPopperScope]),aw=(0,ar.createPopperScope)(),ax="TooltipProvider",ay="tooltip.open",[az,aA]=au(ax),aB=a=>{let{__scopeTooltip:b,delayDuration:e=700,skipDelayDuration:f=300,disableHoverableContent:g=!1,children:h}=a,i=d.useRef(!0),j=d.useRef(!1),k=d.useRef(0);return d.useEffect(()=>{let a=k.current;return()=>window.clearTimeout(a)},[]),(0,c.jsx)(az,{scope:b,isOpenDelayedRef:i,delayDuration:e,onOpen:d.useCallback(()=>{window.clearTimeout(k.current),i.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(k.current),k.current=window.setTimeout(()=>i.current=!0,f)},[f]),isPointerInTransitRef:j,onPointerInTransitChange:d.useCallback(a=>{j.current=a},[]),disableHoverableContent:g,children:h})};aB.displayName=ax;var aC="Tooltip",[aD,aE]=au(aC),aF=a=>{let{__scopeTooltip:b,children:e,open:f,defaultOpen:g,onOpenChange:h,disableHoverableContent:i,delayDuration:j}=a,k=aA(aC,a.__scopeTooltip),l=aw(b),[m,n]=d.useState(null),o=(0,r.useId)(),p=d.useRef(0),s=i??k.disableHoverableContent,t=j??k.delayDuration,u=d.useRef(!1),[v,w]=(0,q.useControllableState)({prop:f,defaultProp:g??!1,onChange:a=>{a?(k.onOpen(),document.dispatchEvent(new CustomEvent(ay))):k.onClose(),h?.(a)},caller:aC}),x=d.useMemo(()=>v?u.current?"delayed-open":"instant-open":"closed",[v]),y=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,u.current=!1,w(!0)},[w]),z=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),A=d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{u.current=!0,w(!0),p.current=0},t)},[t,w]);return d.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,c.jsx)(ar.Root,{...l,children:(0,c.jsx)(aD,{scope:b,contentId:o,open:v,stateAttribute:x,trigger:m,onTriggerChange:n,onTriggerEnter:d.useCallback(()=>{k.isOpenDelayedRef.current?A():y()},[k.isOpenDelayedRef,A,y]),onTriggerLeave:d.useCallback(()=>{s?z():(window.clearTimeout(p.current),p.current=0)},[z,s]),onOpen:y,onClose:z,disableHoverableContent:s,children:e})})};aF.displayName=aC;var aG="TooltipTrigger",aH=d.forwardRef((a,b)=>{let{__scopeTooltip:e,...f}=a,g=aE(aG,e),h=aA(aG,e),i=aw(e),j=d.useRef(null),l=(0,ap.useComposedRefs)(b,j,g.onTriggerChange),m=d.useRef(!1),n=d.useRef(!1),p=d.useCallback(()=>m.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),(0,c.jsx)(ar.Anchor,{asChild:!0,...i,children:(0,c.jsx)(o.Primitive.button,{"aria-describedby":g.open?g.contentId:void 0,"data-state":g.stateAttribute,...f,ref:l,onPointerMove:(0,k.composeEventHandlers)(a.onPointerMove,a=>{"touch"!==a.pointerType&&(n.current||h.isPointerInTransitRef.current||(g.onTriggerEnter(),n.current=!0))}),onPointerLeave:(0,k.composeEventHandlers)(a.onPointerLeave,()=>{g.onTriggerLeave(),n.current=!1}),onPointerDown:(0,k.composeEventHandlers)(a.onPointerDown,()=>{g.open&&g.onClose(),m.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:(0,k.composeEventHandlers)(a.onFocus,()=>{m.current||g.onOpen()}),onBlur:(0,k.composeEventHandlers)(a.onBlur,g.onClose),onClick:(0,k.composeEventHandlers)(a.onClick,g.onClose)})})});aH.displayName=aG;var[aI,aJ]=au("TooltipPortal",{forceMount:void 0}),aK="TooltipContent",aL=d.forwardRef((a,b)=>{let d=aJ(aK,a.__scopeTooltip),{forceMount:e=d.forceMount,side:f="top",...g}=a,h=aE(aK,a.__scopeTooltip);return(0,c.jsx)(n.Presence,{present:e||h.open,children:h.disableHoverableContent?(0,c.jsx)(aQ,{side:f,...g,ref:b}):(0,c.jsx)(aM,{side:f,...g,ref:b})})}),aM=d.forwardRef((a,b)=>{let e=aE(aK,a.__scopeTooltip),f=aA(aK,a.__scopeTooltip),g=d.useRef(null),h=(0,ap.useComposedRefs)(b,g),[i,j]=d.useState(null),{trigger:k,onClose:l}=e,m=g.current,{onPointerInTransitChange:n}=f,o=d.useCallback(()=>{j(null),n(!1)},[n]),p=d.useCallback((a,b)=>{let c,d=a.currentTarget,e={x:a.clientX,y:a.clientY},f=function(a,b){let c=Math.abs(b.top-a.y),d=Math.abs(b.bottom-a.y),e=Math.abs(b.right-a.x),f=Math.abs(b.left-a.x);switch(Math.min(c,d,e,f)){case f:return"left";case e:return"right";case c:return"top";case d:return"bottom";default:throw Error("unreachable")}}(e,d.getBoundingClientRect());j(((c=[...function(a,b,c=5){let d=[];switch(b){case"top":d.push({x:a.x-c,y:a.y+c},{x:a.x+c,y:a.y+c});break;case"bottom":d.push({x:a.x-c,y:a.y-c},{x:a.x+c,y:a.y-c});break;case"left":d.push({x:a.x+c,y:a.y-c},{x:a.x+c,y:a.y+c});break;case"right":d.push({x:a.x-c,y:a.y-c},{x:a.x-c,y:a.y+c})}return d}(e,f),...function(a){let{top:b,right:c,bottom:d,left:e}=a;return[{x:e,y:b},{x:c,y:b},{x:c,y:d},{x:e,y:d}]}(b.getBoundingClientRect())].slice()).sort((a,b)=>a.x<b.x?-1:a.x>b.x?1:a.y<b.y?-1:1*!!(a.y>b.y)),function(a){if(a.length<=1)return a.slice();let b=[];for(let c=0;c<a.length;c++){let d=a[c];for(;b.length>=2;){let a=b[b.length-1],c=b[b.length-2];if((a.x-c.x)*(d.y-c.y)>=(a.y-c.y)*(d.x-c.x))b.pop();else break}b.push(d)}b.pop();let c=[];for(let b=a.length-1;b>=0;b--){let d=a[b];for(;c.length>=2;){let a=c[c.length-1],b=c[c.length-2];if((a.x-b.x)*(d.y-b.y)>=(a.y-b.y)*(d.x-b.x))c.pop();else break}c.push(d)}return(c.pop(),1===b.length&&1===c.length&&b[0].x===c[0].x&&b[0].y===c[0].y)?b:b.concat(c)}(c))),n(!0)},[n]);return d.useEffect(()=>()=>o(),[o]),d.useEffect(()=>{if(k&&m){let a=a=>p(a,m),b=a=>p(a,k);return k.addEventListener("pointerleave",a),m.addEventListener("pointerleave",b),()=>{k.removeEventListener("pointerleave",a),m.removeEventListener("pointerleave",b)}}},[k,m,p,o]),d.useEffect(()=>{if(i){let a=a=>{let b=a.target,c={x:a.clientX,y:a.clientY},d=k?.contains(b)||m?.contains(b),e=!function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a],h=b[f],i=g.x,j=g.y,k=h.x,l=h.y;j>d!=l>d&&c<(k-i)*(d-j)/(l-j)+i&&(e=!e)}return e}(c,i);d?o():e&&(o(),l())};return document.addEventListener("pointermove",a),()=>document.removeEventListener("pointermove",a)}},[k,m,i,l,o]),(0,c.jsx)(aQ,{...a,ref:h})}),[aN,aO]=au(aC,{isInside:!1}),aP=((b=({children:a})=>(0,c.jsx)(c.Fragment,{children:a})).displayName="TooltipContent.Slottable",b.__radixId=as,b),aQ=d.forwardRef((a,b)=>{let{__scopeTooltip:e,children:f,"aria-label":g,onEscapeKeyDown:h,onPointerDownOutside:i,...j}=a,k=aE(aK,e),l=aw(e),{onClose:m}=k;return d.useEffect(()=>(document.addEventListener(ay,m),()=>document.removeEventListener(ay,m)),[m]),d.useEffect(()=>{if(k.trigger){let a=a=>{let b=a.target;b?.contains(k.trigger)&&m()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[k.trigger,m]),(0,c.jsx)(aq.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:a=>a.preventDefault(),onDismiss:m,children:(0,c.jsxs)(ar.Content,{"data-state":k.stateAttribute,...l,...j,ref:b,style:{...j.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,c.jsx)(aP,{children:f}),(0,c.jsx)(aN,{scope:e,isInside:!0,children:(0,c.jsx)(at.Root,{id:k.contentId,role:"tooltip",children:g||f})})]})})});aL.displayName=aK;var aR="TooltipArrow";d.forwardRef((a,b)=>{let{__scopeTooltip:d,...e}=a,f=aw(d);return aO(aR,d).isInside?null:(0,c.jsx)(ar.Arrow,{...f,...e,ref:b})}).displayName=aR;let aS=d.forwardRef(({className:a,sideOffset:b=4,...d},e)=>(0,c.jsx)(aL,{ref:e,sideOffset:b,className:(0,H.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d}));aS.displayName=aL.displayName;let aT={"secure-payment":{id:"secure-payment",icon:ad.CreditCard,label:"Secure Payment",description:"Your payment information is encrypted and secure",color:"text-green-400",variant:"success"},"money-back":{id:"money-back",icon:ao,label:"30-Day Guarantee",description:"Full refund if not satisfied within 30 days",color:"text-blue-400",variant:"info"},"free-shipping":{id:"free-shipping",icon:ai,label:"Free Shipping",description:"Free delivery on all digital products",color:"text-green-400",variant:"success"},"instant-delivery":{id:"instant-delivery",icon:U.Zap,label:"Instant Delivery",description:"Digital products delivered immediately",color:"text-yellow-400",variant:"warning"},"verified-seller":{id:"verified-seller",icon:al.CheckCircle,label:"Verified Seller",description:"Trusted and verified by our team",color:"text-blue-400",variant:"info"},"24-7-support":{id:"24-7-support",icon:an,label:"24/7 Support",description:"Round-the-clock customer support",color:"text-purple-400",variant:"default"},"ssl-secure":{id:"ssl-secure",icon:am,label:"SSL Secured",description:"All data transmitted is encrypted",color:"text-green-400",variant:"success"},bestseller:{id:"bestseller",icon:ak.Award,label:"Bestseller",description:"One of our most popular products",color:"text-yellow-400",variant:"warning"},"new-product":{id:"new-product",icon:P.Star,label:"New",description:"Recently added to our marketplace",color:"text-purple-400",variant:"default"},warranty:{id:"warranty",icon:S.Shield,label:"Warranty",description:"Covered by our comprehensive warranty",color:"text-blue-400",variant:"info"},"fast-delivery":{id:"fast-delivery",icon:aj.Clock,label:"Fast Delivery",description:"Quick turnaround time",color:"text-green-400",variant:"success"},"customer-choice":{id:"customer-choice",icon:N.Heart,label:"Customer Choice",description:"Highly rated by customers",color:"text-red-400",variant:"default"}};function aU({badges:a=[],layout:b="horizontal",size:d="md",showLabels:e=!0,className:g="",productType:i="PRODUCT",features:j={}}){let k,l=(a.length>0?a:((k=[]).push("secure-payment","ssl-secure"),j.hasGuarantee&&k.push("money-back"),j.hasFreeShipping&&k.push("free-shipping"),j.hasInstantDelivery&&k.push("instant-delivery"),j.isVerifiedSeller&&k.push("verified-seller"),j.hasSupport&&k.push("24-7-support"),j.isBestseller&&k.push("bestseller"),j.isNewProduct&&k.push("new-product"),j.hasWarranty&&k.push("warranty"),"PRODUCT"===i?!k.includes("instant-delivery")&&k.push("fast-delivery"):k.push("customer-choice"),k)).map(a=>aT[a]).filter(Boolean);if(0===l.length)return null;let m={sm:{icon:"w-3 h-3",badge:"text-xs px-2 py-1",gap:"gap-1"},md:{icon:"w-4 h-4",badge:"text-sm px-3 py-1.5",gap:"gap-2"},lg:{icon:"w-5 h-5",badge:"text-base px-4 py-2",gap:"gap-3"}}[d];return(0,c.jsx)(aB,{children:(0,c.jsx)("div",{className:`${{horizontal:"flex flex-wrap",vertical:"flex flex-col",grid:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4"}[b]} ${m.gap} ${g}`,children:l.map((a,d)=>{let g=a.icon;return(0,c.jsxs)(aF,{children:[(0,c.jsx)(aH,{asChild:!0,children:(0,c.jsx)(f.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*d},className:"cursor-help",children:(0,c.jsxs)(h.Badge,{variant:"outline",className:`
                      glass-badge border-border/50 hover:border-border transition-all duration-200
                      ${m.badge}
                      ${"vertical"===b?"justify-start":""}
                      group hover:scale-105
                    `,children:[(0,c.jsx)(g,{className:`${m.icon} ${a.color} mr-1.5`}),e&&(0,c.jsx)("span",{className:"text-foreground group-hover:text-white transition-colors",children:a.label})]})})}),(0,c.jsxs)(aS,{side:"top",className:"glass-elevated max-w-xs text-center",children:[(0,c.jsx)("p",{className:"font-medium text-foreground",children:a.label}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.description})]})]},a.id)})})})}var aV=a.i(622249);let aW=(0,Q.default)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),aX=(0,Q.default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var aY=a.i(123044);a.i(204570);var aZ=a.i(364707),a$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let e=(0,aZ.createSlot)(`Primitive.${b}`),f=d.forwardRef((a,d)=>{let{asChild:f,...g}=a;return(0,c.jsx)(f?e:b,{...g,ref:d})});return f.displayName=`Primitive.${b}`,{...a,[b]:f}},{}),a_="Progress",[a0,a1]=function(a,b=[]){let e=[],f=()=>{let b=e.map(a=>d.createContext(a));return function(c){let e=c?.[a]||b;return d.useMemo(()=>({[`__scope${a}`]:{...c,[a]:e}}),[c,e])}};return f.scopeName=a,[function(b,f){let g=d.createContext(f);g.displayName=b+"Context";let h=e.length;e=[...e,f];let i=b=>{let{scope:e,children:f,...i}=b,j=e?.[a]?.[h]||g,k=d.useMemo(()=>i,Object.values(i));return(0,c.jsx)(j.Provider,{value:k,children:f})};return i.displayName=b+"Provider",[i,function(c,e){let i=e?.[a]?.[h]||g,j=d.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return d.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return c.scopeName=b.scopeName,c}(f,...b)]}(a_),[a2,a3]=a0(a_),a4=d.forwardRef((a,b)=>{var d,e;let{__scopeProgress:f,value:g=null,max:h,getValueLabel:i=a7,...j}=a;(h||0===h)&&!ba(h)&&console.error((d=`${h}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let k=ba(h)?h:100;null===g||bb(g,k)||console.error((e=`${g}`,`Invalid prop \`value\` of value \`${e}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let l=bb(g,k)?g:null,m=a9(l)?i(l,k):void 0;return(0,c.jsx)(a2,{scope:f,value:l,max:k,children:(0,c.jsx)(a$.div,{"aria-valuemax":k,"aria-valuemin":0,"aria-valuenow":a9(l)?l:void 0,"aria-valuetext":m,role:"progressbar","data-state":a8(l,k),"data-value":l??void 0,"data-max":k,...j,ref:b})})});a4.displayName=a_;var a5="ProgressIndicator",a6=d.forwardRef((a,b)=>{let{__scopeProgress:d,...e}=a,f=a3(a5,d);return(0,c.jsx)(a$.div,{"data-state":a8(f.value,f.max),"data-value":f.value??void 0,"data-max":f.max,...e,ref:b})});function a7(a,b){return`${Math.round(a/b*100)}%`}function a8(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function a9(a){return"number"==typeof a}function ba(a){return a9(a)&&!isNaN(a)&&a>0}function bb(a,b){return a9(a)&&!isNaN(a)&&a<=b&&a>=0}a6.displayName=a5;let bc=d.forwardRef(({className:a,value:b,...d},e)=>(0,c.jsx)(a4,{ref:e,className:(0,H.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...d,children:(0,c.jsx)(a6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(b||0)}%)`}})}));function bd({productId:a,stock:b=0,viewerCount:e=0,salesCount:g=0,timeLeft:h=0,discount:i,recentActivity:j,lowStockThreshold:k=10,showCountdown:l=!0,showViewers:m=!0,showSales:n=!0,showStock:o=!0,className:p=""}){let q,r,s,[t,u]=(0,d.useState)(e),[v,w]=(0,d.useState)(h),[x,y]=(0,d.useState)(!0);(0,d.useEffect)(()=>{if(!m||0===e)return;let a=setInterval(()=>{u(Math.min(Math.max(0,t+(Math.floor(5*Math.random())-2)),e+10))},3e3+2e3*Math.random());return()=>clearInterval(a)},[t,e,m]),(0,d.useEffect)(()=>{if(!l||v<=0)return;let a=setInterval(()=>{w(a=>a<=1?(y(!1),0):a-1)},1e3);return()=>clearInterval(a)},[v,l]);let z=b>0&&b<=k,A=t>=10,B=j&&j.purchases>0,C=i&&i.percentage>0,D=v>0,E=[];m&&t>0&&E.push({id:"viewers",icon:T.Eye,content:(0,c.jsx)(f.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,c.jsx)(T.Eye,{className:"w-4 h-4 text-green-400"}),(0,c.jsx)("span",{className:"text-sm font-medium",children:t}),(0,c.jsx)("span",{className:"text-xs text-muted-foreground",children:"viewing"})]})},"viewers"),priority:3}),o&&z&&E.push({id:"stock",icon:R,content:(0,c.jsxs)(f.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center gap-2",children:[(0,c.jsx)(R,{className:"w-4 h-4 text-orange-400"}),(0,c.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,c.jsxs)("span",{className:"text-sm font-medium text-orange-400",children:["Only ",b," left!"]}),(0,c.jsx)(bc,{value:b/k*100,className:"w-16 h-1"})]})]},"stock"),priority:5}),n&&B&&E.push({id:"sales",icon:aV.TrendingUp,content:(0,c.jsxs)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-2",children:[(0,c.jsx)(aW,{className:"w-4 h-4 text-red-400"}),(0,c.jsxs)("span",{className:"text-sm",children:[(0,c.jsx)("span",{className:"font-medium text-red-400",children:j?.purchases}),(0,c.jsxs)("span",{className:"text-muted-foreground ml-1",children:["sold ",j?.timeframe]})]})]},"sales"),priority:4}),C&&D&&E.push({id:"discount",icon:aX,content:(0,c.jsxs)(f.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center gap-2",children:[(0,c.jsx)(aX,{className:`w-4 h-4 ${v<300?"text-red-400 animate-pulse":"text-yellow-400"}`}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsxs)("span",{className:"text-sm font-medium text-yellow-400",children:[i.percentage,"% OFF"]}),(0,c.jsxs)("span",{className:`text-xs ${v<300?"text-red-400":"text-muted-foreground"}`,children:[(q=Math.floor(v/3600),r=Math.floor(v%3600/60),s=v%60,q>0?`${q}h ${r}m ${s}s`:r>0?`${r}m ${s}s`:`${s}s`)," left"]})]})]},"discount"),priority:6}),g>50&&E.push({id:"bestseller",icon:aY.Target,content:(0,c.jsxs)(f.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:[(0,c.jsx)(aY.Target,{className:"w-4 h-4 text-purple-400"}),(0,c.jsx)("span",{className:"text-sm text-purple-400 font-medium",children:"Bestseller"})]},"bestseller"),priority:2}),A&&z&&E.push({id:"high-demand",icon:U.Zap,content:(0,c.jsxs)(f.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center gap-2",children:[(0,c.jsx)(U.Zap,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),(0,c.jsx)("span",{className:"text-sm text-yellow-400 font-medium",children:"High Demand"})]},"high-demand"),priority:6});let F=E.sort((a,b)=>b.priority-a.priority).slice(0,3);return 0!==F.length&&x?(0,c.jsx)(_.AnimatePresence,{children:(0,c.jsxs)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`space-y-3 ${p}`,children:[F.map(a=>(0,c.jsx)(f.motion.div,{layout:!0,className:"glass-card p-3 border border-border/30 bg-background/5 backdrop-blur-sm",children:a.content},a.id)),z&&A&&(0,c.jsx)(f.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-card p-3 border border-red-500/30 bg-red-500/5",children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(af.AlertCircle,{className:"w-4 h-4 text-red-400 animate-pulse"}),(0,c.jsx)("span",{className:"text-sm font-medium text-red-400",children:"Almost sold out!"})]})})]})}):null}bc.displayName=a4.displayName;let be=({data:a})=>(0,c.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),bf=({name:a,description:b,price:d,currency:e,image:f,url:g,brand:h,category:i,inStock:j=!0,reviews:k,sku:l})=>{let m={"@context":"https://schema.org","@type":"Product",name:a,description:b,url:g,brand:{"@type":"Brand",name:h||"Astralis Agency"},...f&&{image:{"@type":"ImageObject",url:f}},...i&&{category:i},...l&&{sku:l},offers:{"@type":"Offer",price:d.toString(),priceCurrency:e,availability:j?"https://schema.org/InStock":"https://schema.org/OutOfStock",seller:{"@type":"Organization",name:"Astralis Agency"}},...k&&{aggregateRating:{"@type":"AggregateRating",ratingValue:k.rating.toString(),reviewCount:k.reviewCount.toString()}}};return(0,c.jsx)(be,{data:m})};function bg(){let a=(0,e.useParams)(),b=(0,e.useRouter)(),k=a?.id||"",[l,m]=(0,d.useState)(null),[n,o]=(0,d.useState)(!0),[p,q]=(0,d.useState)(null),[r,s]=(0,d.useState)(1),[t,u]=(0,d.useState)(0),[v,w]=(0,d.useState)(!1),[x,z]=(0,d.useState)("overview"),[A,B]=(0,d.useState)(Math.floor(50*Math.random())+10),C=(0,Z.useCart)(a=>a.addItem),{toast:D}=(0,$.useToast)();(0,d.useEffect)(()=>{let a=setInterval(()=>{B(a=>Math.max(5,a+(Math.floor(3*Math.random())-1)))},5e3);return()=>clearInterval(a)},[]),(0,d.useEffect)(()=>{(async()=>{if(k)try{o(!0);let a=await fetch(`/api/marketplace/${k}`),b=await a.json();"success"===b.status?m(b.data):q("Product not found")}catch(a){q("Failed to load product details"),console.error("Error fetching product:",a)}finally{o(!1)}})()},[k]);let E=()=>{l&&(C({id:l.id,name:l.title,price:Number(l.discountPrice||l.price),image:l.imageUrl,quantity:r}),D({title:"Added to cart",description:`${r} x ${l.title} added to your cart.`}))},F=async()=>{if(navigator.share)try{await navigator.share({title:l?.title,text:l?.description,url:window.location.href})}catch(a){console.log("Error sharing:",a)}else navigator.clipboard.writeText(window.location.href),D({title:"Link copied",description:"Product link copied to clipboard."})};if(n)return(0,c.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950",children:(0,c.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,c.jsxs)("div",{className:"animate-pulse space-y-8",children:[(0,c.jsx)("div",{className:"h-8 bg-muted/10 rounded w-1/4 mb-6"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("div",{className:"aspect-square bg-muted/10 rounded-lg"}),(0,c.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[void 0,void 0,void 0,void 0].map((a,b)=>(0,c.jsx)("div",{className:"aspect-square bg-muted/10 rounded"},b))})]}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)("div",{className:"h-6 bg-muted/10 rounded w-3/4"}),(0,c.jsx)("div",{className:"h-4 bg-muted/10 rounded w-1/2"}),(0,c.jsx)("div",{className:"h-20 bg-muted/10 rounded"}),(0,c.jsx)("div",{className:"h-12 bg-muted/10 rounded w-1/3"}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsx)("div",{className:"h-12 bg-muted/10 rounded"}),(0,c.jsx)("div",{className:"h-12 bg-muted/10 rounded"})]})]})]})]})})});if(p||!l)return(0,c.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950",children:(0,c.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,c.jsxs)("div",{className:"glass-card p-12 text-center",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Product Not Found"}),(0,c.jsx)("p",{className:"text-muted-foreground mb-6 text-lg",children:p||"The product you are looking for does not exist."}),(0,c.jsxs)(i.Button,{onClick:()=>b.push("/marketplace"),className:"glass-button",children:[(0,c.jsx)(L.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Marketplace"]})]})})});let G=Number(l.discountPrice||l.price),H=l.discountPrice&&Number(l.discountPrice)<Number(l.price),Q=l.stock<=10,_=l.galleryImages&&l.galleryImages.length>0?[l.imageUrl,...l.galleryImages]:[l.imageUrl];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(bf,{name:l.title,description:l.description,price:l.discountPrice||l.price,currency:"USD",image:l.imageUrl,url:`https://astralis.one/marketplace/${l.slug}`,brand:"Astralis Agency",category:l.category?.name,inStock:l.stock>0,sku:l.id,reviews:l.averageRating?{rating:l.averageRating,reviewCount:l.reviewCount||0}:void 0}),(0,c.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950",children:(0,c.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,c.jsxs)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-8",children:[(0,c.jsxs)(i.Button,{variant:"ghost",onClick:()=>b.push("/marketplace"),className:"glass-button mb-6",children:[(0,c.jsx)(L.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Marketplace"]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-lg glass-card border-0",children:[(0,c.jsx)("img",{src:_[t],alt:l.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),(0,c.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[l.featured&&(0,c.jsx)(h.Badge,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0",children:"Featured"}),H&&(0,c.jsxs)(h.Badge,{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white border-0",children:["-",Math.round((Number(l.price)-G)/Number(l.price)*100),"% OFF"]})]}),(0,c.jsx)("div",{className:"absolute bottom-4 right-4",children:(0,c.jsxs)("div",{className:"glass-card px-3 py-2 flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,c.jsx)(T.Eye,{className:"w-4 h-4 text-green-400"}),(0,c.jsx)("span",{className:"text-sm font-medium",children:A})]})})]}),_.length>1&&(0,c.jsx)("div",{className:"grid grid-cols-4 gap-2",children:_.slice(0,4).map((a,b)=>(0,c.jsx)("button",{onClick:()=>u(b),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${t===b?"border-primary shadow-lg shadow-primary/25":"border-border/30 hover:border-border"}`,children:(0,c.jsx)("img",{src:a,alt:`${l.title} ${b+1}`,className:"w-full h-full object-cover"})},b))})]}),(0,c.jsxs)("div",{className:"space-y-8",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)(h.Badge,{variant:"outline",className:"glass-badge",children:l.category.name}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>{w(!v),D({title:v?"Removed from wishlist":"Added to wishlist",description:v?`${l?.title} removed from your wishlist.`:`${l?.title} added to your wishlist.`})},className:`glass-button p-2 ${v?"text-red-400 border-red-400/50":""}`,children:(0,c.jsx)(N.Heart,{className:`w-4 h-4 ${v?"fill-current":""}`})}),(0,c.jsx)(i.Button,{variant:"outline",size:"sm",onClick:F,className:"glass-button p-2",children:(0,c.jsx)(O.Share2,{className:"w-4 h-4"})})]})]}),(0,c.jsx)("h1",{className:"text-4xl lg:text-5xl font-bold leading-tight bg-gradient-to-r from-white via-gray-200 to-white bg-clip-text text-transparent",children:l.title}),(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,c.jsx)(P.Star,{className:`w-5 h-5 ${b<Math.floor(l.ratingAverage||4.5)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`},b)),(0,c.jsx)("span",{className:"ml-2 text-lg font-medium",children:l.ratingAverage||4.5}),(0,c.jsxs)("span",{className:"text-muted-foreground",children:["(",l.ratingCount||23," reviews)"]})]}),(0,c.jsx)(j.Separator,{orientation:"vertical",className:"h-6"}),(0,c.jsxs)("div",{className:"text-muted-foreground",children:[Math.floor(500*Math.random())+100," sold"]})]})]}),(0,c.jsx)(bd,{productId:l.id,stock:l.stock,viewerCount:A,salesCount:Math.floor(100*Math.random())+50,recentActivity:{purchases:Math.floor(10*Math.random())+1,timeframe:"today"},showViewers:!0,showStock:Q,showSales:!0}),(0,c.jsxs)("div",{className:"glass-card p-6 space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsxs)("span",{className:"text-4xl font-bold bg-gradient-to-r from-primary-400 to-blue-400 bg-clip-text text-transparent",children:["$",G.toFixed(2)]}),H&&(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsxs)("span",{className:"text-xl text-muted-foreground line-through",children:["$",Number(l.price).toFixed(2)]}),(0,c.jsxs)(h.Badge,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0",children:["Save $",(Number(l.price)-G).toFixed(2)]})]})]}),(0,c.jsx)(aU,{productType:l.itemType||"PRODUCT",features:{hasSecurePayment:!0,hasInstantDelivery:"PRODUCT"===(l.itemType||"PRODUCT"),hasGuarantee:!0,isVerifiedSeller:!0,hasSupport:!0},size:"sm",layout:"horizontal"})]}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Description"}),(0,c.jsx)("p",{className:"text-muted-foreground leading-relaxed text-lg",children:l.description})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(R,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:`font-medium ${l.stock>0?Q?"text-orange-400":"text-green-400":"text-red-400"}`,children:l.stock>0?`${l.stock} in stock${Q?" - Limited quantity!":""}`:"Out of stock"})]}),l.stock>0&&(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("label",{htmlFor:"quantity",className:"font-medium text-foreground",children:"Quantity:"}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>s(Math.max(1,r-1)),disabled:r<=1,className:"glass-button p-2",children:(0,c.jsx)(X,{className:"w-4 h-4"})}),(0,c.jsx)("span",{className:"w-12 text-center font-medium text-lg",children:r}),(0,c.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>s(Math.min(l.stock,r+1)),disabled:r>=l.stock,className:"glass-button p-2",children:(0,c.jsx)(Y,{className:"w-4 h-4"})})]})]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[l.stock>0?(0,c.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,c.jsxs)(i.Button,{onClick:E,size:"lg",className:"glass-button-primary text-lg h-14",children:[(0,c.jsx)(M.ShoppingCart,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),(0,c.jsxs)(i.Button,{onClick:()=>{E(),b.push("/checkout")},variant:"outline",size:"lg",className:"glass-button text-lg h-14",children:[(0,c.jsx)(U.Zap,{className:"w-5 h-5 mr-2"}),"Buy Now"]})]}):(0,c.jsxs)(i.Button,{disabled:!0,size:"lg",className:"w-full h-14",children:[(0,c.jsx)(R,{className:"w-5 h-5 mr-2"}),"Out of Stock"]}),(0,c.jsx)("div",{className:"flex gap-2",children:(0,c.jsxs)(i.Button,{variant:"outline",size:"sm",className:"glass-button w-full",onClick:()=>{let a=document.getElementById("ai-chat-trigger");a&&(sessionStorage.setItem("chatContext",JSON.stringify({type:"product_inquiry",product:{title:l.title,description:l.description,price:l.price,category:l.category?.name,id:l.id}})),a.click())},children:[(0,c.jsx)(V.MessageCircle,{className:"w-4 h-4 mr-2"}),"Ask Question About This Product"]})})]})]})]}),(0,c.jsx)("div",{className:"mt-12",children:(0,c.jsxs)(y,{value:x,onValueChange:z,className:"w-full",children:[(0,c.jsxs)(I,{className:"glass-card grid w-full grid-cols-4 p-1",children:[(0,c.jsx)(J,{value:"overview",className:"data-[state=active]:bg-primary/20",children:"Overview"}),(0,c.jsx)(J,{value:"features",className:"data-[state=active]:bg-primary/20",children:"Features"}),(0,c.jsx)(J,{value:"specs",className:"data-[state=active]:bg-primary/20",children:"Specifications"}),(0,c.jsx)(J,{value:"reviews",className:"data-[state=active]:bg-primary/20",children:"Reviews"})]}),(0,c.jsx)(K,{value:"overview",className:"mt-6",children:(0,c.jsxs)("div",{className:"glass-card p-6 space-y-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Product Overview"}),(0,c.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:l.description})]}),l.features&&l.features.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-semibold mb-3",children:"Key Highlights"}),(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.features.slice(0,6).map((a,b)=>(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),(0,c.jsx)("span",{className:"text-foreground",children:a})]},b))})]})]})}),(0,c.jsx)(K,{value:"features",className:"mt-6",children:(0,c.jsx)("div",{className:"glass-card p-6",children:l.features&&l.features.length>0?(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"text-xl font-semibold",children:"All Features"}),(0,c.jsx)("div",{className:"grid grid-cols-1 gap-3",children:l.features.map((a,b)=>(0,c.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/5",children:[(0,c.jsx)(W,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),(0,c.jsx)("span",{className:"text-foreground",children:a})]},b))})]}):(0,c.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No detailed features available for this product."})})}),(0,c.jsx)(K,{value:"specs",className:"mt-6",children:(0,c.jsx)("div",{className:"glass-card p-6",children:l.specifications&&l.specifications.length>0?(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"text-xl font-semibold",children:"Technical Specifications"}),(0,c.jsx)("div",{className:"grid grid-cols-1 gap-3",children:l.specifications.map((a,b)=>(0,c.jsxs)("div",{className:"flex justify-between p-3 rounded-lg bg-muted/5",children:[(0,c.jsxs)("span",{className:"font-medium text-foreground",children:["Specification ",b+1]}),(0,c.jsx)("span",{className:"text-muted-foreground",children:a})]},b))})]}):(0,c.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No technical specifications available for this product."})})}),(0,c.jsx)(K,{value:"reviews",className:"mt-6",children:(0,c.jsx)("div",{className:"glass-card p-6",children:(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),(0,c.jsx)(i.Button,{variant:"outline",className:"glass-button",children:"Write a Review"})]}),(0,c.jsx)("div",{className:"text-center py-8",children:(0,c.jsx)("p",{className:"text-muted-foreground",children:"No reviews yet. Be the first to review this product!"})})]})})})]})}),(0,c.jsx)("div",{className:"mt-16",children:(0,c.jsx)(ah,{currentProductId:l.id,categorySlug:l.category.slug,tags:l.tags.map(a=>a.slug),maxItems:8})}),(0,c.jsx)("div",{className:"mt-12",children:(0,c.jsxs)(g.Card,{className:"glass-card border-border/30",children:[(0,c.jsx)(g.CardHeader,{children:(0,c.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Seller Information"})}),(0,c.jsx)(g.CardContent,{children:(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[l.seller.avatar?(0,c.jsx)("img",{src:l.seller.avatar,alt:l.seller.name,className:"w-16 h-16 rounded-full border-2 border-border"}):(0,c.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/20 to-blue/20 rounded-full flex items-center justify-center border-2 border-border",children:(0,c.jsx)("span",{className:"text-2xl font-bold text-primary",children:l.seller.name.charAt(0)})}),(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsx)("h4",{className:"text-lg font-semibold text-foreground",children:l.seller.name}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)(h.Badge,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[(0,c.jsx)(S.Shield,{className:"w-3 h-3 mr-1"}),"Verified Seller"]}),(0,c.jsx)("span",{className:"text-sm text-muted-foreground",children:""}),(0,c.jsx)("span",{className:"text-sm text-muted-foreground",children:"Member since 2020"})]}),(0,c.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Trusted by ",Math.floor(5e3*Math.random())+1e3,"+ customers"]})]})]})})]})}),l.tags&&l.tags.length>0&&(0,c.jsxs)("div",{className:"mt-8",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Tags"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:l.tags.map(a=>(0,c.jsx)(h.Badge,{variant:"outline",className:"glass-badge",children:a.name},a.id))})]})]})})})]})}a.s(["default",()=>bg],353369)}];

//# sourceMappingURL=projects_astralis-nextjs_src_app_%28marketing%29_marketplace_%5Bid%5D_page_tsx_46e3af8d._.js.map