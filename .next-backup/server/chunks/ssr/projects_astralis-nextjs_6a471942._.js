module.exports=[447261,a=>{"use strict";let b=(0,a.i(896990).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],447261)},483752,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(558846),g=a.i(265190),h=a.i(836538),i=a.i(869112),j=a.i(77678),k=a.i(820723),l=a.i(567556),m=a.i(682506),n=a.i(778609),o=a.i(623282),p=a.i(295211),q=a.i(797088),r=a.i(455897),s=a.i(796770),t=a.i(831807),u=a.i(193078);a.i(976018);var v=a.i(20344),w=a.i(207876),x=a.i(447411),y=b([f,g,h,i,j,k,l,m,n,w,x]);[f,g,h,i,j,k,l,m,n,w,x]=y.then?(await y)():y;let A=[{id:"welcome",name:"Welcome & Project Kickoff",subject:"Welcome to Astralis - {{engagementName}} Project Kickoff",body:`Dear {{clientName}},

Welcome to Astralis! We're excited to begin working on the {{engagementName}} project with {{companyName}}.

This email confirms that we've received your project details and our team is ready to get started. Here's what happens next:

1. **Project Setup**: Our team will set up the necessary development environments and access
2. **Initial Planning**: We'll schedule a kickoff meeting to align on project goals and timeline
3. **Regular Updates**: You'll receive weekly progress updates and have access to our project dashboard

**Project Details:**
- Project Name: {{engagementName}}
- Company: {{companyName}}
- Status: {{status}}

If you have any questions or need to discuss anything, please don't hesitate to reach out to me directly.

Looking forward to a successful partnership!

Best regards,
The Astralis Team`,category:"welcome"},{id:"milestone",name:"Milestone Completion",subject:"Milestone Completed - {{engagementName}}",body:`Dear {{clientName}},

Great news! We've successfully completed a major milestone for the {{engagementName}} project.

**Milestone Details:**
- Project: {{engagementName}}
- Company: {{companyName}}
- Completed: [Milestone Name]
- Next Steps: [Next milestone or phase]

**What's Been Delivered:**
[List of deliverables]

**Next Steps:**
[Outline next phase]

You can review the completed work and provide feedback through our project portal. We'll schedule a review meeting to walk through the deliverables and discuss next steps.

Thank you for your continued trust in Astralis!

Best regards,
The Astralis Team`,category:"milestone"},{id:"update",name:"Weekly Progress Update",subject:"Weekly Update - {{engagementName}} Progress",body:`Dear {{clientName}},

Here's your weekly progress update for the {{engagementName}} project.

**This Week's Progress:**
- [Key accomplishments]
- [Features completed]
- [Issues resolved]

**Next Week's Goals:**
- [Planned tasks]
- [Upcoming milestones]
- [Expected deliverables]

**Project Status:**
- Overall Progress: [X]%
- Timeline: On track / Ahead / Behind
- Budget: [Status]

**Action Items:**
- [Any items requiring client input]
- [Scheduled meetings or reviews]

If you have any questions or concerns, please let us know. We're here to ensure the project's success!

Best regards,
The Astralis Team`,category:"update"},{id:"completion",name:"Project Completion",subject:"Project Completed - {{engagementName}}",body:`Dear {{clientName}},

Congratulations! We're pleased to announce the successful completion of the {{engagementName}} project.

**Project Summary:**
- Project: {{engagementName}}
- Company: {{companyName}}
- Completion Date: {{completionDate}}
- Final Status: {{status}}

**Deliverables:**
[List of all deliverables]

**Next Steps:**
- Final review and sign-off
- Documentation handover
- Support and maintenance transition (if applicable)

**Support:**
Our team remains available for any questions or support needs during the transition period.

Thank you for choosing Astralis for your project. We look forward to future opportunities to work together!

Best regards,
The Astralis Team`,category:"completion"}];function z({engagement:a,trigger:b}){let[c,w]=(0,e.useState)(!1),[y,z]=(0,e.useState)(""),[B,C]=(0,e.useState)([]),[D,E]=(0,e.useState)(""),[F,G]=(0,e.useState)(""),[H,I]=(0,e.useState)(!1),[J,K]=(0,e.useState)(!1),{toast:L}=(0,v.useToast)(),M=async()=>{if(!D.trim()||!F.trim()||0===B.length)return void L({title:"Validation Error",description:"Please fill in all fields and select at least one recipient.",variant:"destructive"});try{K(!0),await x.default.post("/admin/communications/send-email",{engagementId:a.id,contactIds:B,subject:D,body:F,templateId:y||null}),L({title:"Email Sent",description:`Email sent successfully to ${B.length} recipient(s).`}),C([]),E(""),G(""),z(""),I(!1),w(!1)}catch(a){console.error("Failed to send email:",a),L({title:"Send Failed",description:a.response?.data?.message||"Failed to send email. Please try again.",variant:"destructive"})}finally{K(!1)}};return a.contacts.find(a=>a.isPrimary),(0,d.jsxs)(m.Dialog,{open:c,onOpenChange:w,children:[(0,d.jsx)(m.DialogTrigger,{asChild:!0,children:b||(0,d.jsxs)(g.Button,{variant:"outline",size:"sm",children:[(0,d.jsx)(o.Mail,{className:"w-4 h-4 mr-2"}),"Contact Client"]})}),(0,d.jsxs)(m.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)(m.DialogHeader,{children:[(0,d.jsxs)(m.DialogTitle,{className:"flex items-center",children:[(0,d.jsx)(o.Mail,{className:"w-5 h-5 mr-2"}),"Contact Client - ",a.company.name]}),(0,d.jsxs)(m.DialogDescription,{children:["Send an email to the client contacts for ",a.name]})]}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{className:"pb-3",children:(0,d.jsx)(f.CardTitle,{className:"text-sm",children:"Project Information"})}),(0,d.jsxs)(f.CardContent,{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center text-sm",children:[(0,d.jsx)(q.Building2,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,d.jsx)("span",{className:"font-medium",children:a.company.name})]}),(0,d.jsxs)("div",{className:"flex items-center text-sm",children:[(0,d.jsx)(t.FileText,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,d.jsx)("span",{children:a.name})]}),(0,d.jsxs)("div",{className:"flex items-center text-sm",children:[(0,d.jsx)(r.Clock,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,d.jsx)(k.Badge,{variant:"secondary",children:a.status})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(j.Label,{className:"text-base font-medium mb-3 block",children:[(0,d.jsx)(u.Users,{className:"w-4 h-4 inline mr-2"}),"Select Recipients"]}),(0,d.jsx)("div",{className:"grid gap-2",children:a.contacts.map(a=>(0,d.jsx)("div",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors ${B.includes(a.id)?"border-primary-500 bg-primary-500/10":"border-neutral-600 hover:border-neutral-500"}`,onClick:()=>{var b;return b=a.id,void C(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:`w-4 h-4 border-2 rounded ${B.includes(a.id)?"border-primary-500 bg-primary-500":"border-gray-400"}`,children:B.includes(a.id)&&(0,d.jsx)(s.CheckCircle,{className:"w-4 h-4 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsxs)("span",{className:"font-medium",children:[a.firstName," ",a.lastName]}),a.isPrimary&&(0,d.jsx)(k.Badge,{variant:"secondary",className:"text-xs",children:"Primary"})]}),(0,d.jsx)("div",{className:"text-sm text-gray-400",children:a.email}),a.role&&(0,d.jsx)("div",{className:"text-xs text-gray-500",children:a.role})]})]})},a.id))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.Label,{className:"text-base font-medium mb-3 block",children:"Email Template"}),(0,d.jsxs)(n.Select,{value:y,onValueChange:b=>{if("custom"===b){I(!0),z(""),E(""),G("");return}let c=A.find(a=>a.id===b);if(c){I(!1),z(b);let d=c.subject.replace("{{engagementName}}",a.name).replace("{{companyName}}",a.company.name),e=c.body.replace(/{{engagementName}}/g,a.name).replace(/{{companyName}}/g,a.company.name).replace(/{{status}}/g,a.status).replace(/{{clientName}}/g,a.contacts.find(a=>a.isPrimary)?.firstName||"Client");E(d),G(e)}},children:[(0,d.jsx)(n.SelectTrigger,{children:(0,d.jsx)(n.SelectValue,{placeholder:"Choose a template or write custom email"})}),(0,d.jsxs)(n.SelectContent,{children:[(0,d.jsx)(n.SelectItem,{value:"custom",children:"Custom Email"}),A.map(a=>(0,d.jsx)(n.SelectItem,{value:a.id,children:a.name},a.id))]})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(j.Label,{htmlFor:"subject",children:"Subject"}),(0,d.jsx)(h.Input,{id:"subject",value:D,onChange:a=>E(a.target.value),placeholder:"Email subject...",className:"mt-1"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.Label,{htmlFor:"body",children:"Message"}),(0,d.jsx)(i.Textarea,{id:"body",value:F,onChange:a=>G(a.target.value),placeholder:"Write your message...",rows:12,className:"mt-1 font-mono text-sm"})]})]}),B.length>0&&(0,d.jsxs)(l.Alert,{children:[(0,d.jsx)(o.Mail,{className:"h-4 w-4"}),(0,d.jsxs)(l.AlertDescription,{children:["This email will be sent to ",B.length," recipient(s): "," ",a.contacts.filter(a=>B.includes(a.id)).map(a=>`${a.firstName} ${a.lastName}`).join(", ")]})]})]}),(0,d.jsxs)(m.DialogFooter,{children:[(0,d.jsx)(g.Button,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),(0,d.jsx)(g.Button,{onClick:M,disabled:J||!D.trim()||!F.trim()||0===B.length,children:J?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.Send,{className:"w-4 h-4 mr-2"}),"Send Email"]})})]})]})]})}a.s(["ClientCommunication",()=>z]),c()}catch(a){c(a)}},!1),916455,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(558846),g=a.i(265190),h=a.i(836538),i=a.i(820723),j=a.i(869112),k=a.i(77678),l=a.i(682506),m=a.i(979779),n=a.i(189771),o=a.i(796119),p=a.i(684990),q=a.i(501026),r=a.i(171222),s=a.i(797088),t=a.i(193078),u=a.i(455897),v=a.i(796770),w=a.i(243757),x=a.i(447261),y=a.i(717392),z=a.i(623282),A=a.i(174228),B=a.i(778609);a.i(976018);var C=a.i(20344),D=a.i(207876),E=a.i(447411),F=a.i(483752),G=b([f,g,h,i,j,k,l,A,B,D,E,F]);[f,g,h,i,j,k,l,A,B,D,E,F]=G.then?(await G)():G;let I={DRAFT:"bg-gray-500/20 text-gray-300 border-gray-500/30",ACTIVE:"bg-green-500/20 text-green-300 border-green-500/30",PAUSED:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30",COMPLETED:"bg-blue-500/20 text-blue-300 border-blue-500/30",CANCELLED:"bg-red-500/20 text-red-300 border-red-500/30"},J={TIME_AND_MATERIALS:"Time & Materials",FIXED_FEE:"Fixed Fee",RETAINER:"Retainer"};function H(){let[a,b]=(0,e.useState)([]),[c,D]=(0,e.useState)([]),[G,H]=(0,e.useState)(!0),[K,L]=(0,e.useState)(""),[M,N]=(0,e.useState)({}),[O,P]=(0,e.useState)(new Set),[Q,R]=(0,e.useState)(!1),[S,T]=(0,e.useState)(null),[U,V]=(0,e.useState)({}),[W,X]=(0,e.useState)(!1),{toast:Y}=(0,C.useToast)(),Z=(0,e.useCallback)(async()=>{try{H(!0);let a=localStorage.getItem("token");console.log("Token exists:",!!a),console.log("Token preview:",a?`${a.substring(0,20)}...`:"No token");let c=await E.default.get("/admin/engagements");b(c.data.data||[])}catch(a){console.error("Failed to fetch engagements:",a),console.error("Error response:",a.response?.data),Y({title:"Error",description:a.response?.data?.message||"Failed to load engagements. Please try again.",variant:"destructive"})}finally{H(!1)}},[Y]),$=(0,e.useCallback)(()=>{let b=[...a];if(K){let a=K.toLowerCase();b=b.filter(b=>b.name.toLowerCase().includes(a)||b.company.name.toLowerCase().includes(a)||b.contacts.some(b=>`${b.firstName} ${b.lastName}`.toLowerCase().includes(a)||b.email.toLowerCase().includes(a)))}if(M.status&&"all"!==M.status&&(b=b.filter(a=>a.status===M.status)),M.billingModel&&"all"!==M.billingModel&&(b=b.filter(a=>a.billingModel===M.billingModel)),M.dateRange&&"all"!==M.dateRange){let a=new Date,c=parseInt(M.dateRange),d=new Date(a.getTime()-24*c*36e5);b=b.filter(a=>new Date(a.createdAt)>=d)}D(b)},[a,K,M]),_=async a=>{if(confirm("Are you sure you want to delete this engagement? This action cannot be undone."))try{await E.default.delete(`/admin/engagements/${a}`),b(b=>b.filter(b=>b.id!==a)),Y({title:"Success",description:"Engagement deleted successfully."})}catch(a){Y({title:"Error",description:"Failed to delete engagement.",variant:"destructive"})}},aa=()=>{R(!1),T(null),V({}),X(!1)},ab=(a,b)=>{V(c=>({...c,[a]:b}))},ac=async()=>{if(S)try{X(!0);let a={};if(U.name!==S.name&&(a.name=U.name),U.status!==S.status&&(a.status=U.status),U.billingModel!==S.billingModel&&(a.billingModel=U.billingModel),U.budgetAmount!==S.budgetAmount&&(a.budgetAmount=U.budgetAmount),U.budgetCurrency!==S.budgetCurrency&&(a.budgetCurrency=U.budgetCurrency),U.startDate&&(a.startDate=new Date(U.startDate).toISOString()),U.targetEndDate&&(a.targetEndDate=new Date(U.targetEndDate).toISOString()),U.scopeSummary!==S.scopeSummary&&(a.scopeSummary=U.scopeSummary),U.acceptanceCriteria!==S.acceptanceCriteria&&(a.acceptanceCriteria=U.acceptanceCriteria),U.repoStrategy!==S.repoStrategy&&(a.repoStrategy=U.repoStrategy),0===Object.keys(a).length){Y({title:"No Changes",description:"No changes were made to the engagement."}),aa();return}let c=await E.default.patch(`/admin/engagements/${S.id}`,a);b(a=>a.map(a=>a.id===S.id?{...a,...c.data.data}:a)),Y({title:"Success",description:"Engagement updated successfully."}),aa()}catch(a){Y({title:"Error",description:a.response?.data?.message||"Failed to update engagement.",variant:"destructive"})}finally{X(!1)}},ad=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set";return((0,e.useEffect)(()=>{Z()},[Z]),(0,e.useEffect)(()=>{$()},[$]),G)?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Engagement Management"})}),(0,d.jsx)("div",{className:"grid gap-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(f.Card,{className:"glass-card border-neutral-700",children:(0,d.jsx)(f.CardContent,{className:"p-6",children:(0,d.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,d.jsx)("div",{className:"h-4 bg-neutral-700 rounded w-1/4"}),(0,d.jsx)("div",{className:"h-3 bg-neutral-700 rounded w-1/2"}),(0,d.jsx)("div",{className:"h-3 bg-neutral-700 rounded w-1/3"})]})})},b))})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Engagement Management"}),(0,d.jsx)("p",{className:"text-gray-400",children:"Manage client engagements and project details"})]}),(0,d.jsxs)(g.Button,{className:"bg-primary-600 hover:bg-primary-700",children:[(0,d.jsx)(q.Plus,{className:"w-4 h-4 mr-2"}),"New Engagement"]})]}),(0,d.jsx)(f.Card,{className:"glass-card border-neutral-700",children:(0,d.jsx)(f.CardContent,{className:"p-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,d.jsx)("div",{className:"lg:col-span-2",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(m.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,d.jsx)(h.Input,{placeholder:"Search engagements, companies, or contacts...",value:K,onChange:a=>L(a.target.value),className:"pl-10 bg-neutral-800/50 border-neutral-600 text-white"})]})}),(0,d.jsxs)(B.Select,{value:M.status||"all",onValueChange:a=>N(b=>({...b,status:a})),children:[(0,d.jsx)(B.SelectTrigger,{className:"bg-neutral-800/50 border-neutral-600 text-white",children:(0,d.jsx)(B.SelectValue,{placeholder:"All Statuses"})}),(0,d.jsxs)(B.SelectContent,{children:[(0,d.jsx)(B.SelectItem,{value:"all",children:"All Statuses"}),(0,d.jsx)(B.SelectItem,{value:"DRAFT",children:"Draft"}),(0,d.jsx)(B.SelectItem,{value:"ACTIVE",children:"Active"}),(0,d.jsx)(B.SelectItem,{value:"PAUSED",children:"Paused"}),(0,d.jsx)(B.SelectItem,{value:"COMPLETED",children:"Completed"}),(0,d.jsx)(B.SelectItem,{value:"CANCELLED",children:"Cancelled"})]})]}),(0,d.jsxs)(B.Select,{value:M.billingModel||"all",onValueChange:a=>N(b=>({...b,billingModel:a})),children:[(0,d.jsx)(B.SelectTrigger,{className:"bg-neutral-800/50 border-neutral-600 text-white",children:(0,d.jsx)(B.SelectValue,{placeholder:"All Billing Models"})}),(0,d.jsxs)(B.SelectContent,{children:[(0,d.jsx)(B.SelectItem,{value:"all",children:"All Billing Models"}),(0,d.jsx)(B.SelectItem,{value:"TIME_AND_MATERIALS",children:"Time & Materials"}),(0,d.jsx)(B.SelectItem,{value:"FIXED_FEE",children:"Fixed Fee"}),(0,d.jsx)(B.SelectItem,{value:"RETAINER",children:"Retainer"})]})]}),(0,d.jsxs)(B.Select,{value:M.dateRange||"all",onValueChange:a=>N(b=>({...b,dateRange:a})),children:[(0,d.jsx)(B.SelectTrigger,{className:"bg-neutral-800/50 border-neutral-600 text-white",children:(0,d.jsx)(B.SelectValue,{placeholder:"All Time"})}),(0,d.jsxs)(B.SelectContent,{children:[(0,d.jsx)(B.SelectItem,{value:"all",children:"All Time"}),(0,d.jsx)(B.SelectItem,{value:"7",children:"Last 7 days"}),(0,d.jsx)(B.SelectItem,{value:"30",children:"Last 30 days"}),(0,d.jsx)(B.SelectItem,{value:"90",children:"Last 90 days"}),(0,d.jsx)(B.SelectItem,{value:"365",children:"Last year"})]})]})]})})}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("p",{className:"text-gray-400",children:["Showing ",c.length," of ",a.length," engagements"]}),O.size>0&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-400",children:[O.size," selected"]}),(0,d.jsxs)(g.Button,{variant:"outline",size:"sm",children:[(0,d.jsx)(y.Download,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,d.jsx)("div",{className:"grid gap-4",children:0===c.length?(0,d.jsx)(f.Card,{className:"glass-card border-neutral-700",children:(0,d.jsxs)(f.CardContent,{className:"p-12 text-center",children:[(0,d.jsx)(w.AlertCircle,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No engagements found"}),(0,d.jsx)("p",{className:"text-gray-400 mb-4",children:K||Object.values(M).some(a=>a&&"all"!==a)?"Try adjusting your search or filters":"Get started by creating your first engagement"}),!K&&!Object.values(M).some(a=>a&&"all"!==a)&&(0,d.jsxs)(g.Button,{className:"bg-primary-600 hover:bg-primary-700",children:[(0,d.jsx)(q.Plus,{className:"w-4 h-4 mr-2"}),"Create Engagement"]})]})}):c.map(a=>{var b,c;return(0,d.jsx)(f.Card,{className:"glass-card border-neutral-700 hover:border-neutral-600 transition-colors",children:(0,d.jsx)(f.CardContent,{className:"p-6",children:(0,d.jsx)("div",{className:"flex items-start justify-between",children:(0,d.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:a.name}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(s.Building2,{className:"w-4 h-4 mr-1"}),a.company.name]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(r.Calendar,{className:"w-4 h-4 mr-1"}),"Created ",ad(a.createdAt)]})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(i.Badge,{className:I[a.status],children:a.status}),(0,d.jsxs)(A.DropdownMenu,{children:[(0,d.jsx)(A.DropdownMenuTrigger,{asChild:!0,children:(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",children:(0,d.jsx)(x.MoreHorizontal,{className:"w-4 h-4"})})}),(0,d.jsxs)(A.DropdownMenuContent,{align:"end",children:[(0,d.jsx)(A.DropdownMenuLabel,{children:"Actions"}),(0,d.jsxs)(A.DropdownMenuItem,{children:[(0,d.jsx)(n.Eye,{className:"w-4 h-4 mr-2"}),"View Details"]}),(0,d.jsxs)(A.DropdownMenuItem,{onClick:()=>{T(a),V({name:a.name,status:a.status,billingModel:a.billingModel,budgetAmount:a.budgetAmount,budgetCurrency:a.budgetCurrency||"USD",startDate:a.startDate?a.startDate.split("T")[0]:"",targetEndDate:a.targetEndDate?a.targetEndDate.split("T")[0]:"",scopeSummary:a.scopeSummary||"",acceptanceCriteria:a.acceptanceCriteria||"",repoStrategy:a.repoStrategy||""}),R(!0)},children:[(0,d.jsx)(o.Edit,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,d.jsx)(F.ClientCommunication,{engagement:a,trigger:(0,d.jsxs)(A.DropdownMenuItem,{onSelect:a=>a.preventDefault(),children:[(0,d.jsx)(z.Mail,{className:"w-4 h-4 mr-2"}),"Contact Client"]})}),(0,d.jsx)(A.DropdownMenuSeparator,{}),(0,d.jsxs)(A.DropdownMenuItem,{children:[(0,d.jsx)(y.Download,{className:"w-4 h-4 mr-2"}),"Export"]}),(0,d.jsx)(A.DropdownMenuSeparator,{}),(0,d.jsxs)(A.DropdownMenuItem,{className:"text-red-400",onClick:()=>_(a.id),children:[(0,d.jsx)(p.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Billing Model"}),(0,d.jsx)("p",{className:"text-sm text-white",children:J[a.billingModel]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Budget"}),(0,d.jsx)("p",{className:"text-sm text-white",children:(b=a.budgetAmount,c=a.budgetCurrency,b?new Intl.NumberFormat("en-US",{style:"currency",currency:c||"USD"}).format(b):"Not set")})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Timeline"}),(0,d.jsx)("p",{className:"text-sm text-white",children:a.startDate&&a.targetEndDate?`${ad(a.startDate)} - ${ad(a.targetEndDate)}`:"Not set"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Primary Contact"}),(0,d.jsxs)("p",{className:"text-sm text-white",children:[a.contacts.find(a=>a.isPrimary)?.firstName||"Not set"," ",a.contacts.find(a=>a.isPrimary)?.lastName||""]})]})]}),a._count&&(0,d.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(v.CheckCircle,{className:"w-4 h-4 mr-1"}),a._count.milestones," Milestones"]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(t.Users,{className:"w-4 h-4 mr-1"}),a.contacts.length," Contacts"]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(u.Clock,{className:"w-4 h-4 mr-1"}),a._count.accessRequests," Access Requests"]})]})]})})})},a.id)})}),(0,d.jsx)(l.Dialog,{open:Q,onOpenChange:R,children:(0,d.jsxs)(l.DialogContent,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto bg-neutral-900 border-neutral-700",children:[(0,d.jsxs)(l.DialogHeader,{children:[(0,d.jsx)(l.DialogTitle,{className:"text-white",children:"Edit Engagement"}),(0,d.jsx)(l.DialogDescription,{className:"text-gray-400",children:"Update the engagement details below."})]}),S&&(0,d.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h4",{className:"text-lg font-medium text-white",children:"Basic Information"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"name",className:"text-gray-200",children:"Engagement Name"}),(0,d.jsx)(h.Input,{id:"name",value:U.name||"",onChange:a=>ab("name",a.target.value),className:"bg-neutral-800/50 border-neutral-600 text-white mt-1",placeholder:"Enter engagement name",maxLength:100}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(U.name||"").length,"/100 characters"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"status",className:"text-gray-200",children:"Status"}),(0,d.jsxs)(B.Select,{value:U.status||"",onValueChange:a=>ab("status",a),children:[(0,d.jsx)(B.SelectTrigger,{className:"bg-neutral-800/50 border-neutral-600 text-white mt-1",children:(0,d.jsx)(B.SelectValue,{placeholder:"Select status"})}),(0,d.jsxs)(B.SelectContent,{children:[(0,d.jsx)(B.SelectItem,{value:"DRAFT",children:"Draft"}),(0,d.jsx)(B.SelectItem,{value:"ACTIVE",children:"Active"}),(0,d.jsx)(B.SelectItem,{value:"PAUSED",children:"Paused"}),(0,d.jsx)(B.SelectItem,{value:"COMPLETED",children:"Completed"}),(0,d.jsx)(B.SelectItem,{value:"CANCELLED",children:"Cancelled"})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"billingModel",className:"text-gray-200",children:"Billing Model"}),(0,d.jsxs)(B.Select,{value:U.billingModel||"",onValueChange:a=>ab("billingModel",a),children:[(0,d.jsx)(B.SelectTrigger,{className:"bg-neutral-800/50 border-neutral-600 text-white mt-1",children:(0,d.jsx)(B.SelectValue,{placeholder:"Select billing model"})}),(0,d.jsxs)(B.SelectContent,{children:[(0,d.jsx)(B.SelectItem,{value:"TIME_AND_MATERIALS",children:"Time & Materials"}),(0,d.jsx)(B.SelectItem,{value:"FIXED_FEE",children:"Fixed Fee"}),(0,d.jsx)(B.SelectItem,{value:"RETAINER",children:"Retainer"})]})]})]})]})]}),(0,d.jsxs)("div",{className:"space-y-4 border-t border-neutral-700 pt-4",children:[(0,d.jsx)("h4",{className:"text-lg font-medium text-white",children:"Financial & Timeline"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"budgetAmount",className:"text-gray-200",children:"Budget Amount"}),(0,d.jsx)(h.Input,{id:"budgetAmount",type:"number",min:"0",step:"0.01",value:U.budgetAmount||"",onChange:a=>ab("budgetAmount",parseFloat(a.target.value)||null),className:"bg-neutral-800/50 border-neutral-600 text-white mt-1",placeholder:"0.00"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"budgetCurrency",className:"text-gray-200",children:"Currency"}),(0,d.jsxs)(B.Select,{value:U.budgetCurrency||"USD",onValueChange:a=>ab("budgetCurrency",a),children:[(0,d.jsx)(B.SelectTrigger,{className:"bg-neutral-800/50 border-neutral-600 text-white mt-1",children:(0,d.jsx)(B.SelectValue,{placeholder:"Select currency"})}),(0,d.jsxs)(B.SelectContent,{children:[(0,d.jsx)(B.SelectItem,{value:"USD",children:"USD"}),(0,d.jsx)(B.SelectItem,{value:"EUR",children:"EUR"}),(0,d.jsx)(B.SelectItem,{value:"GBP",children:"GBP"}),(0,d.jsx)(B.SelectItem,{value:"CAD",children:"CAD"}),(0,d.jsx)(B.SelectItem,{value:"AUD",children:"AUD"})]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"startDate",className:"text-gray-200",children:"Start Date"}),(0,d.jsx)(h.Input,{id:"startDate",type:"date",value:U.startDate||"",onChange:a=>ab("startDate",a.target.value),className:"bg-neutral-800/50 border-neutral-600 text-white mt-1"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"targetEndDate",className:"text-gray-200",children:"Target End Date"}),(0,d.jsx)(h.Input,{id:"targetEndDate",type:"date",value:U.targetEndDate||"",onChange:a=>ab("targetEndDate",a.target.value),className:"bg-neutral-800/50 border-neutral-600 text-white mt-1"})]})]}),(0,d.jsxs)("div",{className:"space-y-4 border-t border-neutral-700 pt-4",children:[(0,d.jsx)("h4",{className:"text-lg font-medium text-white",children:"Project Details"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"scopeSummary",className:"text-gray-200",children:"Scope Summary"}),(0,d.jsx)(j.Textarea,{id:"scopeSummary",value:U.scopeSummary||"",onChange:a=>ab("scopeSummary",a.target.value),className:"bg-neutral-800/50 border-neutral-600 text-white mt-1 min-h-24",placeholder:"Describe the overall scope and objectives of this engagement...",maxLength:2e3}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(U.scopeSummary||"").length,"/2000 characters"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"acceptanceCriteria",className:"text-gray-200",children:"Acceptance Criteria"}),(0,d.jsx)(j.Textarea,{id:"acceptanceCriteria",value:U.acceptanceCriteria||"",onChange:a=>ab("acceptanceCriteria",a.target.value),className:"bg-neutral-800/50 border-neutral-600 text-white mt-1 min-h-24",placeholder:"Define the criteria for successful completion of this engagement...",maxLength:2e3}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(U.acceptanceCriteria||"").length,"/2000 characters"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Label,{htmlFor:"repoStrategy",className:"text-gray-200",children:"Repository Strategy"}),(0,d.jsx)(j.Textarea,{id:"repoStrategy",value:U.repoStrategy||"",onChange:a=>ab("repoStrategy",a.target.value),className:"bg-neutral-800/50 border-neutral-600 text-white mt-1 min-h-20",placeholder:"Describe the repository setup, branching strategy, and development workflow...",maxLength:1e3}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(U.repoStrategy||"").length,"/1000 characters"]})]})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-400 p-3 bg-neutral-800/30 rounded-md",children:[(0,d.jsx)("strong",{children:"Company:"})," ",S.company.name,S.company.industry&&(0,d.jsxs)("span",{children:[" â€¢ ",(0,d.jsx)("strong",{children:"Industry:"})," ",S.company.industry]})]})]})]}),(0,d.jsxs)(l.DialogFooter,{children:[(0,d.jsx)(g.Button,{variant:"outline",onClick:aa,disabled:W,className:"border-neutral-600 text-gray-300 hover:bg-neutral-800",children:"Cancel"}),(0,d.jsx)(g.Button,{onClick:ac,disabled:W,className:"bg-primary-600 hover:bg-primary-700",children:W?"Updating...":"Update Engagement"})]})]})})]})}a.s(["EngagementManagement",()=>H]),c()}catch(a){c(a)}},!1),1310,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(916455),f=b([e]);function g(){return(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900",children:(0,d.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,d.jsx)(e.EngagementManagement,{})})})}[e]=f.then?(await f)():f,a.s(["default",()=>g]),c()}catch(a){c(a)}},!1),892546,a=>a.a(async(b,c)=>{try{var d=a.i(670010),e=a.i(561761),f=a.i(299441),g=a.i(14393),h=a.i(798225),i=a.i(1310),j=a.i(189906),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/EngagementManagementPage",pathname:"/admin/EngagementManagementPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/EngagementManagementPage",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_astralis-nextjs_6a471942._.js.map