module.exports=[939451,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(205092),g=a.i(432005),h=a.i(715318),i=a.i(265190),j=a.i(836538),k=a.i(869112),l=a.i(778609),m=a.i(589230),n=a.i(558846),o=a.i(542992),p=a.i(782156),q=a.i(74867),r=a.i(409516),s=a.i(333296),t=a.i(906197),u=a.i(348155),v=a.i(497010),w=a.i(133743),x=b([g,h,i,j,k,l,m,n,o,p,t,u,v]);[g,h,i,j,k,l,m,n,o,p,t,u,v]=x.then?(await x)():x;let z=v.z.object({title:v.z.string().min(3,"Title must be at least 3 characters"),slug:v.z.string().min(3,"Slug must be at least 3 characters").regex(/^[a-z0-9-]+$/,"Slug can only contain lowercase letters, numbers, and hyphens"),description:v.z.string().min(10,"Description must be at least 10 characters"),price:v.z.number().positive("Price must be positive"),discountPrice:v.z.number().positive("Discount price must be positive").optional(),imageUrl:v.z.string().url("Image URL must be a valid URL"),categoryId:v.z.string().min(1,"Category is required"),status:v.z.enum(["AVAILABLE","SOLD_OUT","COMING_SOON"]),stock:v.z.number().int().nonnegative("Stock must be a non-negative integer"),featured:v.z.boolean(),published:v.z.boolean(),tags:v.z.array(v.z.string()).optional(),features:v.z.array(v.z.string()).optional()});function y(){let a=(0,f.useRouter)(),[b,c]=(0,e.useState)([]),[v,x]=(0,e.useState)(""),[y,A]=(0,e.useState)([]),{data:B}=(0,g.useApi)("/api/marketplace/categories"),{data:C}=(0,g.useApi)("/api/marketplace/tags"),D=(0,t.useForm)({resolver:(0,u.zodResolver)(z),defaultValues:{title:"",slug:"",description:"",price:0,imageUrl:"",categoryId:"",status:"AVAILABLE",stock:1,featured:!1,published:!0,tags:[],features:[]}}),{mutate:E,isLoading:F}=(0,g.useApiMutation)("/marketplace",{onSuccess:()=>{(0,w.toast)({title:"Success",description:"Marketplace item created successfully"}),a.push("/admin/marketplace")},onError:a=>{(0,w.toast)({variant:"destructive",title:"Error",description:a.message||"Failed to create marketplace item"})}}),G=()=>{v.trim()&&!b.includes(v.trim())&&(c([...b,v.trim()]),x(""))};return(0,d.jsxs)(h.AdminLayout,{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,d.jsx)(i.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,d.jsxs)(s.default,{href:"/admin/marketplace",children:[(0,d.jsx)(q.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back to Items"]})}),(0,d.jsx)("h1",{className:"text-3xl font-bold",children:"Add New Marketplace Item"})]}),(0,d.jsx)(m.Form,{...D,children:(0,d.jsxs)("form",{onSubmit:D.handleSubmit(a=>{a.features=b,a.tags=y,E(a)}),className:"space-y-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,d.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,d.jsxs)(n.Card,{children:[(0,d.jsxs)(n.CardHeader,{children:[(0,d.jsx)(n.CardTitle,{children:"Basic Information"}),(0,d.jsx)(n.CardDescription,{children:"Enter the basic details for this marketplace item."})]}),(0,d.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,d.jsx)(m.FormField,{control:D.control,name:"title",render:({field:a})=>(0,d.jsxs)(m.FormItem,{children:[(0,d.jsx)(m.FormLabel,{children:"Title"}),(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(j.Input,{placeholder:"Enter title",...a,onChange:b=>{a.onChange(b),D.getValues("slug")||D.setValue("slug",b.target.value.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"))}})}),(0,d.jsx)(m.FormMessage,{})]})}),(0,d.jsx)(m.FormField,{control:D.control,name:"slug",render:({field:a})=>(0,d.jsxs)(m.FormItem,{children:[(0,d.jsx)(m.FormLabel,{children:"Slug"}),(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(j.Input,{placeholder:"enter-slug",...a})}),(0,d.jsx)(m.FormDescription,{children:"Used in the URL. Only lowercase letters, numbers, and hyphens."}),(0,d.jsx)(m.FormMessage,{})]})}),(0,d.jsx)(m.FormField,{control:D.control,name:"description",render:({field:a})=>(0,d.jsxs)(m.FormItem,{children:[(0,d.jsx)(m.FormLabel,{children:"Description"}),(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(k.Textarea,{placeholder:"Enter description",className:"min-h-32",...a})}),(0,d.jsx)(m.FormMessage,{})]})})]})]}),(0,d.jsxs)(n.Card,{children:[(0,d.jsxs)(n.CardHeader,{children:[(0,d.jsx)(n.CardTitle,{children:"Features"}),(0,d.jsx)(n.CardDescription,{children:"Add key features or bullet points for this item."})]}),(0,d.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(j.Input,{placeholder:"Add a feature",value:v,onChange:a=>x(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),G())}}),(0,d.jsx)(i.Button,{type:"button",onClick:G,disabled:!v.trim(),children:"Add"})]}),b.length>0?(0,d.jsx)("ul",{className:"space-y-2",children:b.map((a,e)=>(0,d.jsxs)("li",{className:"flex items-center justify-between bg-muted p-2 rounded",children:[(0,d.jsx)("span",{children:a}),(0,d.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{c(b.filter(b=>b!==a))},children:"Remove"})]},e))}):(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"No features added yet. Add some features to highlight this item."})]})]}),(0,d.jsxs)(n.Card,{children:[(0,d.jsxs)(n.CardHeader,{children:[(0,d.jsx)(n.CardTitle,{children:"Tags"}),(0,d.jsx)(n.CardDescription,{children:"Select tags to categorize this item."})]}),(0,d.jsx)(n.CardContent,{children:C&&C.length>0?(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:C.map(a=>(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(o.Checkbox,{id:`tag-${a.id}`,checked:y.includes(a.id),onCheckedChange:()=>{var b;return b=a.id,void A(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])}}),(0,d.jsx)("label",{htmlFor:`tag-${a.id}`,className:"text-sm cursor-pointer",children:a.name})]},a.id))}):(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"No tags available. Create some tags first."})})]})]}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(n.Card,{children:[(0,d.jsx)(n.CardHeader,{children:(0,d.jsx)(n.CardTitle,{children:"Pricing & Inventory"})}),(0,d.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,d.jsx)(m.FormField,{control:D.control,name:"price",render:({field:a})=>(0,d.jsxs)(m.FormItem,{children:[(0,d.jsx)(m.FormLabel,{children:"Price ($)"}),(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(j.Input,{type:"number",min:"0",step:"0.01",placeholder:"0.00",...a})}),(0,d.jsx)(m.FormMessage,{})]})}),(0,d.jsx)(m.FormField,{control:D.control,name:"discountPrice",render:({field:a})=>(0,d.jsxs)(m.FormItem,{children:[(0,d.jsx)(m.FormLabel,{children:"Discount Price ($) (Optional)"}),(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(j.Input,{type:"number",min:"0",step:"0.01",placeholder:"0.00",...a,value:a.value||""})}),(0,d.jsx)(m.FormMessage,{})]})}),(0,d.jsx)(m.FormField,{control:D.control,name:"stock",render:({field:a})=>(0,d.jsxs)(m.FormItem,{children:[(0,d.jsx)(m.FormLabel,{children:"Stock"}),(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(j.Input,{type:"number",min:"0",step:"1",placeholder:"0",...a})}),(0,d.jsx)(m.FormMessage,{})]})})]})]}),(0,d.jsxs)(n.Card,{children:[(0,d.jsx)(n.CardHeader,{children:(0,d.jsx)(n.CardTitle,{children:"Image"})}),(0,d.jsx)(n.CardContent,{children:(0,d.jsx)(m.FormField,{control:D.control,name:"imageUrl",render:({field:a})=>(0,d.jsxs)(m.FormItem,{children:[(0,d.jsx)(m.FormLabel,{children:"Image URL"}),(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(j.Input,{placeholder:"https://example.com/image.jpg",...a})}),(0,d.jsx)(m.FormMessage,{}),a.value&&(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("img",{src:a.value,alt:"Preview",className:"rounded-md max-h-40 object-cover",onError:a=>{a.target.src="https://placehold.co/600x400?text=Image+Preview"}})})]})})})]}),(0,d.jsxs)(n.Card,{children:[(0,d.jsx)(n.CardHeader,{children:(0,d.jsx)(n.CardTitle,{children:"Organization"})}),(0,d.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,d.jsx)(m.FormField,{control:D.control,name:"categoryId",render:({field:a})=>(0,d.jsxs)(m.FormItem,{children:[(0,d.jsx)(m.FormLabel,{children:"Category"}),(0,d.jsxs)(l.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(l.SelectTrigger,{children:(0,d.jsx)(l.SelectValue,{placeholder:"Select a category"})})}),(0,d.jsx)(l.SelectContent,{children:B?.length?B.map(a=>(0,d.jsx)(l.SelectItem,{value:a.id,children:a.name},a.id)):(0,d.jsx)(l.SelectItem,{value:"no-categories",disabled:!0,children:"No categories available"})})]}),(0,d.jsx)(m.FormMessage,{})]})}),(0,d.jsx)(m.FormField,{control:D.control,name:"status",render:({field:a})=>(0,d.jsxs)(m.FormItem,{children:[(0,d.jsx)(m.FormLabel,{children:"Status"}),(0,d.jsxs)(l.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(l.SelectTrigger,{children:(0,d.jsx)(l.SelectValue,{placeholder:"Select status"})})}),(0,d.jsxs)(l.SelectContent,{children:[(0,d.jsx)(l.SelectItem,{value:"AVAILABLE",children:"Available"}),(0,d.jsx)(l.SelectItem,{value:"SOLD_OUT",children:"Sold Out"}),(0,d.jsx)(l.SelectItem,{value:"COMING_SOON",children:"Coming Soon"})]})]}),(0,d.jsx)(m.FormMessage,{})]})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(m.FormField,{control:D.control,name:"featured",render:({field:a})=>(0,d.jsxs)(m.FormItem,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(o.Checkbox,{checked:a.value,onCheckedChange:a.onChange})}),(0,d.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,d.jsx)(m.FormLabel,{children:"Featured"}),(0,d.jsx)(m.FormDescription,{children:"Display this item on the homepage"})]})]})}),(0,d.jsx)(m.FormField,{control:D.control,name:"published",render:({field:a})=>(0,d.jsxs)(m.FormItem,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,d.jsx)(m.FormControl,{children:(0,d.jsx)(o.Checkbox,{checked:a.value,onCheckedChange:a.onChange})}),(0,d.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,d.jsx)(m.FormLabel,{children:"Published"}),(0,d.jsx)(m.FormDescription,{children:"Make this item visible to users"})]})]})})]})]})]})]})]}),(0,d.jsx)(p.Separator,{}),(0,d.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,d.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>a.push("/admin/marketplace"),children:"Cancel"}),(0,d.jsxs)(i.Button,{type:"submit",disabled:F,children:[F&&(0,d.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Item"]})]})]})})]})}a.s(["default",()=>y]),c()}catch(a){c(a)}},!1),354662,a=>a.a(async(b,c)=>{try{var d=a.i(670010),e=a.i(561761),f=a.i(299441),g=a.i(14393),h=a.i(798225),i=a.i(939451),j=a.i(189906),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/marketplace/new",pathname:"/admin/marketplace/new",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/marketplace/new",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_astralis-nextjs_c1714f23._.js.map